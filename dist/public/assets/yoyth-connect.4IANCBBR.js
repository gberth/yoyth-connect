//__HEAD__
var $k=Object.create;var al=Object.defineProperty;var Sk=Object.getOwnPropertyDescriptor;var vk=Object.getOwnPropertyNames;var wk=Object.getPrototypeOf,kk=Object.prototype.hasOwnProperty;var Ck=(i,t,e)=>t in i?al(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var ll=(i,t)=>()=>(t||i((t={exports:{}}).exports,t),t.exports);var Ek=(i,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of vk(t))!kk.call(i,s)&&s!==e&&al(i,s,{get:()=>t[s],enumerable:!(n=Sk(t,s))||n.enumerable});return i};var Mk=(i,t,e)=>(e=i!=null?$k(wk(i)):{},Ek(t||!i||!i.__esModule?al(e,"default",{value:i,enumerable:!0}):e,i));var F=(i,t,e)=>(Ck(i,typeof t!="symbol"?t+"":t,e),e);var Fm=ll(To=>{"use strict";To.byteLength=E8;To.toByteArray=T8;To.fromByteArray=R8;var ye=[],se=[],C8=typeof Uint8Array<"u"?Uint8Array:Array,Nc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Fi=0,Pm=Nc.length;Fi<Pm;++Fi)ye[Fi]=Nc[Fi],se[Nc.charCodeAt(Fi)]=Fi;var Fi,Pm;se["-".charCodeAt(0)]=62;se["_".charCodeAt(0)]=63;function Im(i){var t=i.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=i.indexOf("=");e===-1&&(e=t);var n=e===t?0:4-e%4;return[e,n]}function E8(i){var t=Im(i),e=t[0],n=t[1];return(e+n)*3/4-n}function M8(i,t,e){return(t+e)*3/4-e}function T8(i){var t,e=Im(i),n=e[0],s=e[1],r=new C8(M8(i,n,s)),o=0,a=s>0?n-4:n,l;for(l=0;l<a;l+=4)t=se[i.charCodeAt(l)]<<18|se[i.charCodeAt(l+1)]<<12|se[i.charCodeAt(l+2)]<<6|se[i.charCodeAt(l+3)],r[o++]=t>>16&255,r[o++]=t>>8&255,r[o++]=t&255;return s===2&&(t=se[i.charCodeAt(l)]<<2|se[i.charCodeAt(l+1)]>>4,r[o++]=t&255),s===1&&(t=se[i.charCodeAt(l)]<<10|se[i.charCodeAt(l+1)]<<4|se[i.charCodeAt(l+2)]>>2,r[o++]=t>>8&255,r[o++]=t&255),r}function O8(i){return ye[i>>18&63]+ye[i>>12&63]+ye[i>>6&63]+ye[i&63]}function A8(i,t,e){for(var n,s=[],r=t;r<e;r+=3)n=(i[r]<<16&16711680)+(i[r+1]<<8&65280)+(i[r+2]&255),s.push(O8(n));return s.join("")}function R8(i){for(var t,e=i.length,n=e%3,s=[],r=16383,o=0,a=e-n;o<a;o+=r)s.push(A8(i,o,o+r>a?a:o+r));return n===1?(t=i[e-1],s.push(ye[t>>2]+ye[t<<4&63]+"==")):n===2&&(t=(i[e-2]<<8)+i[e-1],s.push(ye[t>>10]+ye[t>>4&63]+ye[t<<2&63]+"=")),s.join("")}});var Lm=ll(zc=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */zc.read=function(i,t,e,n,s){var r,o,a=s*8-n-1,l=(1<<a)-1,c=l>>1,h=-7,u=e?s-1:0,f=e?-1:1,d=i[t+u];for(u+=f,r=d&(1<<-h)-1,d>>=-h,h+=a;h>0;r=r*256+i[t+u],u+=f,h-=8);for(o=r&(1<<-h)-1,r>>=-h,h+=n;h>0;o=o*256+i[t+u],u+=f,h-=8);if(r===0)r=1-c;else{if(r===l)return o?NaN:(d?-1:1)*(1/0);o=o+Math.pow(2,n),r=r-c}return(d?-1:1)*o*Math.pow(2,r-n)};zc.write=function(i,t,e,n,s,r){var o,a,l,c=r*8-s-1,h=(1<<c)-1,u=h>>1,f=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:r-1,m=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=h):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+u>=1?t+=f/l:t+=f*Math.pow(2,1-u),t*l>=2&&(o++,l/=2),o+u>=h?(a=0,o=h):o+u>=1?(a=(t*l-1)*Math.pow(2,s),o=o+u):(a=t*Math.pow(2,u-1)*Math.pow(2,s),o=0));s>=8;i[e+d]=a&255,d+=m,a/=256,s-=8);for(o=o<<s|a,c+=s;c>0;i[e+d]=o&255,d+=m,o/=256,c-=8);i[e+d-m]|=_*128}});var tp=ll(kn=>{"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Bc=Fm(),vn=Lm(),Nm=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;kn.Buffer=T;kn.SlowBuffer=N8;kn.INSPECT_MAX_BYTES=50;var Oo=2147483647;kn.kMaxLength=Oo;T.TYPED_ARRAY_SUPPORT=D8();!T.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function D8(){try{let i=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(i,t),i.foo()===42}catch{return!1}}Object.defineProperty(T.prototype,"parent",{enumerable:!0,get:function(){if(!!T.isBuffer(this))return this.buffer}});Object.defineProperty(T.prototype,"offset",{enumerable:!0,get:function(){if(!!T.isBuffer(this))return this.byteOffset}});function Be(i){if(i>Oo)throw new RangeError('The value "'+i+'" is invalid for option "size"');let t=new Uint8Array(i);return Object.setPrototypeOf(t,T.prototype),t}function T(i,t,e){if(typeof i=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Hc(i)}return Um(i,t,e)}T.poolSize=8192;function Um(i,t,e){if(typeof i=="string")return I8(i,t);if(ArrayBuffer.isView(i))return F8(i);if(i==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i);if(xe(i,ArrayBuffer)||i&&xe(i.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(xe(i,SharedArrayBuffer)||i&&xe(i.buffer,SharedArrayBuffer)))return Uc(i,t,e);if(typeof i=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=i.valueOf&&i.valueOf();if(n!=null&&n!==i)return T.from(n,t,e);let s=L8(i);if(s)return s;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof i[Symbol.toPrimitive]=="function")return T.from(i[Symbol.toPrimitive]("string"),t,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i)}T.from=function(i,t,e){return Um(i,t,e)};Object.setPrototypeOf(T.prototype,Uint8Array.prototype);Object.setPrototypeOf(T,Uint8Array);function Vm(i){if(typeof i!="number")throw new TypeError('"size" argument must be of type number');if(i<0)throw new RangeError('The value "'+i+'" is invalid for option "size"')}function P8(i,t,e){return Vm(i),i<=0?Be(i):t!==void 0?typeof e=="string"?Be(i).fill(t,e):Be(i).fill(t):Be(i)}T.alloc=function(i,t,e){return P8(i,t,e)};function Hc(i){return Vm(i),Be(i<0?0:Wc(i)|0)}T.allocUnsafe=function(i){return Hc(i)};T.allocUnsafeSlow=function(i){return Hc(i)};function I8(i,t){if((typeof t!="string"||t==="")&&(t="utf8"),!T.isEncoding(t))throw new TypeError("Unknown encoding: "+t);let e=Hm(i,t)|0,n=Be(e),s=n.write(i,t);return s!==e&&(n=n.slice(0,s)),n}function jc(i){let t=i.length<0?0:Wc(i.length)|0,e=Be(t);for(let n=0;n<t;n+=1)e[n]=i[n]&255;return e}function F8(i){if(xe(i,Uint8Array)){let t=new Uint8Array(i);return Uc(t.buffer,t.byteOffset,t.byteLength)}return jc(i)}function Uc(i,t,e){if(t<0||i.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(i.byteLength<t+(e||0))throw new RangeError('"length" is outside of buffer bounds');let n;return t===void 0&&e===void 0?n=new Uint8Array(i):e===void 0?n=new Uint8Array(i,t):n=new Uint8Array(i,t,e),Object.setPrototypeOf(n,T.prototype),n}function L8(i){if(T.isBuffer(i)){let t=Wc(i.length)|0,e=Be(t);return e.length===0||i.copy(e,0,0,t),e}if(i.length!==void 0)return typeof i.length!="number"||Zc(i.length)?Be(0):jc(i);if(i.type==="Buffer"&&Array.isArray(i.data))return jc(i.data)}function Wc(i){if(i>=Oo)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Oo.toString(16)+" bytes");return i|0}function N8(i){return+i!=i&&(i=0),T.alloc(+i)}T.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==T.prototype};T.compare=function(t,e){if(xe(t,Uint8Array)&&(t=T.from(t,t.offset,t.byteLength)),xe(e,Uint8Array)&&(e=T.from(e,e.offset,e.byteLength)),!T.isBuffer(t)||!T.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,s=e.length;for(let r=0,o=Math.min(n,s);r<o;++r)if(t[r]!==e[r]){n=t[r],s=e[r];break}return n<s?-1:s<n?1:0};T.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};T.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return T.alloc(0);let n;if(e===void 0)for(e=0,n=0;n<t.length;++n)e+=t[n].length;let s=T.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){let o=t[n];if(xe(o,Uint8Array))r+o.length>s.length?(T.isBuffer(o)||(o=T.from(o)),o.copy(s,r)):Uint8Array.prototype.set.call(s,o,r);else if(T.isBuffer(o))o.copy(s,r);else throw new TypeError('"list" argument must be an Array of Buffers');r+=o.length}return s};function Hm(i,t){if(T.isBuffer(i))return i.length;if(ArrayBuffer.isView(i)||xe(i,ArrayBuffer))return i.byteLength;if(typeof i!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof i);let e=i.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&e===0)return 0;let s=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":return Vc(i).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e*2;case"hex":return e>>>1;case"base64":return Qm(i).length;default:if(s)return n?-1:Vc(i).length;t=(""+t).toLowerCase(),s=!0}}T.byteLength=Hm;function z8(i,t,e){let n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,t>>>=0,e<=t))return"";for(i||(i="utf8");;)switch(i){case"hex":return X8(this,t,e);case"utf8":case"utf-8":return Ym(this,t,e);case"ascii":return Z8(this,t,e);case"latin1":case"binary":return q8(this,t,e);case"base64":return W8(this,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K8(this,t,e);default:if(n)throw new TypeError("Unknown encoding: "+i);i=(i+"").toLowerCase(),n=!0}}T.prototype._isBuffer=!0;function Li(i,t,e){let n=i[t];i[t]=i[e],i[e]=n}T.prototype.swap16=function(){let t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)Li(this,e,e+1);return this};T.prototype.swap32=function(){let t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)Li(this,e,e+3),Li(this,e+1,e+2);return this};T.prototype.swap64=function(){let t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)Li(this,e,e+7),Li(this,e+1,e+6),Li(this,e+2,e+5),Li(this,e+3,e+4);return this};T.prototype.toString=function(){let t=this.length;return t===0?"":arguments.length===0?Ym(this,0,t):z8.apply(this,arguments)};T.prototype.toLocaleString=T.prototype.toString;T.prototype.equals=function(t){if(!T.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:T.compare(this,t)===0};T.prototype.inspect=function(){let t="",e=kn.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"};Nm&&(T.prototype[Nm]=T.prototype.inspect);T.prototype.compare=function(t,e,n,s,r){if(xe(t,Uint8Array)&&(t=T.from(t,t.offset,t.byteLength)),!T.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(e===void 0&&(e=0),n===void 0&&(n=t?t.length:0),s===void 0&&(s=0),r===void 0&&(r=this.length),e<0||n>t.length||s<0||r>this.length)throw new RangeError("out of range index");if(s>=r&&e>=n)return 0;if(s>=r)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,s>>>=0,r>>>=0,this===t)return 0;let o=r-s,a=n-e,l=Math.min(o,a),c=this.slice(s,r),h=t.slice(e,n);for(let u=0;u<l;++u)if(c[u]!==h[u]){o=c[u],a=h[u];break}return o<a?-1:a<o?1:0};function Wm(i,t,e,n,s){if(i.length===0)return-1;if(typeof e=="string"?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,Zc(e)&&(e=s?0:i.length-1),e<0&&(e=i.length+e),e>=i.length){if(s)return-1;e=i.length-1}else if(e<0)if(s)e=0;else return-1;if(typeof t=="string"&&(t=T.from(t,n)),T.isBuffer(t))return t.length===0?-1:zm(i,t,e,n,s);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?s?Uint8Array.prototype.indexOf.call(i,t,e):Uint8Array.prototype.lastIndexOf.call(i,t,e):zm(i,[t],e,n,s);throw new TypeError("val must be string, number or Buffer")}function zm(i,t,e,n,s){let r=1,o=i.length,a=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(i.length<2||t.length<2)return-1;r=2,o/=2,a/=2,e/=2}function l(h,u){return r===1?h[u]:h.readUInt16BE(u*r)}let c;if(s){let h=-1;for(c=e;c<o;c++)if(l(i,c)===l(t,h===-1?0:c-h)){if(h===-1&&(h=c),c-h+1===a)return h*r}else h!==-1&&(c-=c-h),h=-1}else for(e+a>o&&(e=o-a),c=e;c>=0;c--){let h=!0;for(let u=0;u<a;u++)if(l(i,c+u)!==l(t,u)){h=!1;break}if(h)return c}return-1}T.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1};T.prototype.indexOf=function(t,e,n){return Wm(this,t,e,n,!0)};T.prototype.lastIndexOf=function(t,e,n){return Wm(this,t,e,n,!1)};function B8(i,t,e,n){e=Number(e)||0;let s=i.length-e;n?(n=Number(n),n>s&&(n=s)):n=s;let r=t.length;n>r/2&&(n=r/2);let o;for(o=0;o<n;++o){let a=parseInt(t.substr(o*2,2),16);if(Zc(a))return o;i[e+o]=a}return o}function j8(i,t,e,n){return Ao(Vc(t,i.length-e),i,e,n)}function U8(i,t,e,n){return Ao(tC(t),i,e,n)}function V8(i,t,e,n){return Ao(Qm(t),i,e,n)}function H8(i,t,e,n){return Ao(eC(t,i.length-e),i,e,n)}T.prototype.write=function(t,e,n,s){if(e===void 0)s="utf8",n=this.length,e=0;else if(n===void 0&&typeof e=="string")s=e,n=this.length,e=0;else if(isFinite(e))e=e>>>0,isFinite(n)?(n=n>>>0,s===void 0&&(s="utf8")):(s=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let r=this.length-e;if((n===void 0||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");s||(s="utf8");let o=!1;for(;;)switch(s){case"hex":return B8(this,t,e,n);case"utf8":case"utf-8":return j8(this,t,e,n);case"ascii":case"latin1":case"binary":return U8(this,t,e,n);case"base64":return V8(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H8(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+s);s=(""+s).toLowerCase(),o=!0}};T.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function W8(i,t,e){return t===0&&e===i.length?Bc.fromByteArray(i):Bc.fromByteArray(i.slice(t,e))}function Ym(i,t,e){e=Math.min(i.length,e);let n=[],s=t;for(;s<e;){let r=i[s],o=null,a=r>239?4:r>223?3:r>191?2:1;if(s+a<=e){let l,c,h,u;switch(a){case 1:r<128&&(o=r);break;case 2:l=i[s+1],(l&192)===128&&(u=(r&31)<<6|l&63,u>127&&(o=u));break;case 3:l=i[s+1],c=i[s+2],(l&192)===128&&(c&192)===128&&(u=(r&15)<<12|(l&63)<<6|c&63,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:l=i[s+1],c=i[s+2],h=i[s+3],(l&192)===128&&(c&192)===128&&(h&192)===128&&(u=(r&15)<<18|(l&63)<<12|(c&63)<<6|h&63,u>65535&&u<1114112&&(o=u))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),s+=a}return Y8(n)}var Bm=4096;function Y8(i){let t=i.length;if(t<=Bm)return String.fromCharCode.apply(String,i);let e="",n=0;for(;n<t;)e+=String.fromCharCode.apply(String,i.slice(n,n+=Bm));return e}function Z8(i,t,e){let n="";e=Math.min(i.length,e);for(let s=t;s<e;++s)n+=String.fromCharCode(i[s]&127);return n}function q8(i,t,e){let n="";e=Math.min(i.length,e);for(let s=t;s<e;++s)n+=String.fromCharCode(i[s]);return n}function X8(i,t,e){let n=i.length;(!t||t<0)&&(t=0),(!e||e<0||e>n)&&(e=n);let s="";for(let r=t;r<e;++r)s+=iC[i[r]];return s}function K8(i,t,e){let n=i.slice(t,e),s="";for(let r=0;r<n.length-1;r+=2)s+=String.fromCharCode(n[r]+n[r+1]*256);return s}T.prototype.slice=function(t,e){let n=this.length;t=~~t,e=e===void 0?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t);let s=this.subarray(t,e);return Object.setPrototypeOf(s,T.prototype),s};function vt(i,t,e){if(i%1!==0||i<0)throw new RangeError("offset is not uint");if(i+t>e)throw new RangeError("Trying to access beyond buffer length")}T.prototype.readUintLE=T.prototype.readUIntLE=function(t,e,n){t=t>>>0,e=e>>>0,n||vt(t,e,this.length);let s=this[t],r=1,o=0;for(;++o<e&&(r*=256);)s+=this[t+o]*r;return s};T.prototype.readUintBE=T.prototype.readUIntBE=function(t,e,n){t=t>>>0,e=e>>>0,n||vt(t,e,this.length);let s=this[t+--e],r=1;for(;e>0&&(r*=256);)s+=this[t+--e]*r;return s};T.prototype.readUint8=T.prototype.readUInt8=function(t,e){return t=t>>>0,e||vt(t,1,this.length),this[t]};T.prototype.readUint16LE=T.prototype.readUInt16LE=function(t,e){return t=t>>>0,e||vt(t,2,this.length),this[t]|this[t+1]<<8};T.prototype.readUint16BE=T.prototype.readUInt16BE=function(t,e){return t=t>>>0,e||vt(t,2,this.length),this[t]<<8|this[t+1]};T.prototype.readUint32LE=T.prototype.readUInt32LE=function(t,e){return t=t>>>0,e||vt(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};T.prototype.readUint32BE=T.prototype.readUInt32BE=function(t,e){return t=t>>>0,e||vt(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};T.prototype.readBigUInt64LE=di(function(t){t=t>>>0,wn(t,"offset");let e=this[t],n=this[t+7];(e===void 0||n===void 0)&&Os(t,this.length-8);let s=e+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24,r=this[++t]+this[++t]*2**8+this[++t]*2**16+n*2**24;return BigInt(s)+(BigInt(r)<<BigInt(32))});T.prototype.readBigUInt64BE=di(function(t){t=t>>>0,wn(t,"offset");let e=this[t],n=this[t+7];(e===void 0||n===void 0)&&Os(t,this.length-8);let s=e*2**24+this[++t]*2**16+this[++t]*2**8+this[++t],r=this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+n;return(BigInt(s)<<BigInt(32))+BigInt(r)});T.prototype.readIntLE=function(t,e,n){t=t>>>0,e=e>>>0,n||vt(t,e,this.length);let s=this[t],r=1,o=0;for(;++o<e&&(r*=256);)s+=this[t+o]*r;return r*=128,s>=r&&(s-=Math.pow(2,8*e)),s};T.prototype.readIntBE=function(t,e,n){t=t>>>0,e=e>>>0,n||vt(t,e,this.length);let s=e,r=1,o=this[t+--s];for(;s>0&&(r*=256);)o+=this[t+--s]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*e)),o};T.prototype.readInt8=function(t,e){return t=t>>>0,e||vt(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};T.prototype.readInt16LE=function(t,e){t=t>>>0,e||vt(t,2,this.length);let n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n};T.prototype.readInt16BE=function(t,e){t=t>>>0,e||vt(t,2,this.length);let n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n};T.prototype.readInt32LE=function(t,e){return t=t>>>0,e||vt(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};T.prototype.readInt32BE=function(t,e){return t=t>>>0,e||vt(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};T.prototype.readBigInt64LE=di(function(t){t=t>>>0,wn(t,"offset");let e=this[t],n=this[t+7];(e===void 0||n===void 0)&&Os(t,this.length-8);let s=this[t+4]+this[t+5]*2**8+this[t+6]*2**16+(n<<24);return(BigInt(s)<<BigInt(32))+BigInt(e+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24)});T.prototype.readBigInt64BE=di(function(t){t=t>>>0,wn(t,"offset");let e=this[t],n=this[t+7];(e===void 0||n===void 0)&&Os(t,this.length-8);let s=(e<<24)+this[++t]*2**16+this[++t]*2**8+this[++t];return(BigInt(s)<<BigInt(32))+BigInt(this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+n)});T.prototype.readFloatLE=function(t,e){return t=t>>>0,e||vt(t,4,this.length),vn.read(this,t,!0,23,4)};T.prototype.readFloatBE=function(t,e){return t=t>>>0,e||vt(t,4,this.length),vn.read(this,t,!1,23,4)};T.prototype.readDoubleLE=function(t,e){return t=t>>>0,e||vt(t,8,this.length),vn.read(this,t,!0,52,8)};T.prototype.readDoubleBE=function(t,e){return t=t>>>0,e||vt(t,8,this.length),vn.read(this,t,!1,52,8)};function zt(i,t,e,n,s,r){if(!T.isBuffer(i))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<r)throw new RangeError('"value" argument is out of bounds');if(e+n>i.length)throw new RangeError("Index out of range")}T.prototype.writeUintLE=T.prototype.writeUIntLE=function(t,e,n,s){if(t=+t,e=e>>>0,n=n>>>0,!s){let a=Math.pow(2,8*n)-1;zt(this,t,e,n,a,0)}let r=1,o=0;for(this[e]=t&255;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n};T.prototype.writeUintBE=T.prototype.writeUIntBE=function(t,e,n,s){if(t=+t,e=e>>>0,n=n>>>0,!s){let a=Math.pow(2,8*n)-1;zt(this,t,e,n,a,0)}let r=n-1,o=1;for(this[e+r]=t&255;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n};T.prototype.writeUint8=T.prototype.writeUInt8=function(t,e,n){return t=+t,e=e>>>0,n||zt(this,t,e,1,255,0),this[e]=t&255,e+1};T.prototype.writeUint16LE=T.prototype.writeUInt16LE=function(t,e,n){return t=+t,e=e>>>0,n||zt(this,t,e,2,65535,0),this[e]=t&255,this[e+1]=t>>>8,e+2};T.prototype.writeUint16BE=T.prototype.writeUInt16BE=function(t,e,n){return t=+t,e=e>>>0,n||zt(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=t&255,e+2};T.prototype.writeUint32LE=T.prototype.writeUInt32LE=function(t,e,n){return t=+t,e=e>>>0,n||zt(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t&255,e+4};T.prototype.writeUint32BE=T.prototype.writeUInt32BE=function(t,e,n){return t=+t,e=e>>>0,n||zt(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4};function Zm(i,t,e,n,s){Jm(t,n,s,i,e,7);let r=Number(t&BigInt(4294967295));i[e++]=r,r=r>>8,i[e++]=r,r=r>>8,i[e++]=r,r=r>>8,i[e++]=r;let o=Number(t>>BigInt(32)&BigInt(4294967295));return i[e++]=o,o=o>>8,i[e++]=o,o=o>>8,i[e++]=o,o=o>>8,i[e++]=o,e}function qm(i,t,e,n,s){Jm(t,n,s,i,e,7);let r=Number(t&BigInt(4294967295));i[e+7]=r,r=r>>8,i[e+6]=r,r=r>>8,i[e+5]=r,r=r>>8,i[e+4]=r;let o=Number(t>>BigInt(32)&BigInt(4294967295));return i[e+3]=o,o=o>>8,i[e+2]=o,o=o>>8,i[e+1]=o,o=o>>8,i[e]=o,e+8}T.prototype.writeBigUInt64LE=di(function(t,e=0){return Zm(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))});T.prototype.writeBigUInt64BE=di(function(t,e=0){return qm(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))});T.prototype.writeIntLE=function(t,e,n,s){if(t=+t,e=e>>>0,!s){let l=Math.pow(2,8*n-1);zt(this,t,e,n,l-1,-l)}let r=0,o=1,a=0;for(this[e]=t&255;++r<n&&(o*=256);)t<0&&a===0&&this[e+r-1]!==0&&(a=1),this[e+r]=(t/o>>0)-a&255;return e+n};T.prototype.writeIntBE=function(t,e,n,s){if(t=+t,e=e>>>0,!s){let l=Math.pow(2,8*n-1);zt(this,t,e,n,l-1,-l)}let r=n-1,o=1,a=0;for(this[e+r]=t&255;--r>=0&&(o*=256);)t<0&&a===0&&this[e+r+1]!==0&&(a=1),this[e+r]=(t/o>>0)-a&255;return e+n};T.prototype.writeInt8=function(t,e,n){return t=+t,e=e>>>0,n||zt(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=t&255,e+1};T.prototype.writeInt16LE=function(t,e,n){return t=+t,e=e>>>0,n||zt(this,t,e,2,32767,-32768),this[e]=t&255,this[e+1]=t>>>8,e+2};T.prototype.writeInt16BE=function(t,e,n){return t=+t,e=e>>>0,n||zt(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=t&255,e+2};T.prototype.writeInt32LE=function(t,e,n){return t=+t,e=e>>>0,n||zt(this,t,e,4,2147483647,-2147483648),this[e]=t&255,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4};T.prototype.writeInt32BE=function(t,e,n){return t=+t,e=e>>>0,n||zt(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4};T.prototype.writeBigInt64LE=di(function(t,e=0){return Zm(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});T.prototype.writeBigInt64BE=di(function(t,e=0){return qm(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Xm(i,t,e,n,s,r){if(e+n>i.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function Km(i,t,e,n,s){return t=+t,e=e>>>0,s||Xm(i,t,e,4,34028234663852886e22,-34028234663852886e22),vn.write(i,t,e,n,23,4),e+4}T.prototype.writeFloatLE=function(t,e,n){return Km(this,t,e,!0,n)};T.prototype.writeFloatBE=function(t,e,n){return Km(this,t,e,!1,n)};function Gm(i,t,e,n,s){return t=+t,e=e>>>0,s||Xm(i,t,e,8,17976931348623157e292,-17976931348623157e292),vn.write(i,t,e,n,52,8),e+8}T.prototype.writeDoubleLE=function(t,e,n){return Gm(this,t,e,!0,n)};T.prototype.writeDoubleBE=function(t,e,n){return Gm(this,t,e,!1,n)};T.prototype.copy=function(t,e,n,s){if(!T.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),!s&&s!==0&&(s=this.length),e>=t.length&&(e=t.length),e||(e=0),s>0&&s<n&&(s=n),s===n||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),t.length-e<s-n&&(s=t.length-e+n);let r=s-n;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(e,n,s):Uint8Array.prototype.set.call(t,this.subarray(n,s),e),r};T.prototype.fill=function(t,e,n,s){if(typeof t=="string"){if(typeof e=="string"?(s=e,e=0,n=this.length):typeof n=="string"&&(s=n,n=this.length),s!==void 0&&typeof s!="string")throw new TypeError("encoding must be a string");if(typeof s=="string"&&!T.isEncoding(s))throw new TypeError("Unknown encoding: "+s);if(t.length===1){let o=t.charCodeAt(0);(s==="utf8"&&o<128||s==="latin1")&&(t=o)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e=e>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);let r;if(typeof t=="number")for(r=e;r<n;++r)this[r]=t;else{let o=T.isBuffer(t)?t:T.from(t,s),a=o.length;if(a===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(r=0;r<n-e;++r)this[r+e]=o[r%a]}return this};var Sn={};function Yc(i,t,e){Sn[i]=class extends e{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${i}]`,this.stack,delete this.name}get code(){return i}set code(s){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:s,writable:!0})}toString(){return`${this.name} [${i}]: ${this.message}`}}}Yc("ERR_BUFFER_OUT_OF_BOUNDS",function(i){return i?`${i} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Yc("ERR_INVALID_ARG_TYPE",function(i,t){return`The "${i}" argument must be of type number. Received type ${typeof t}`},TypeError);Yc("ERR_OUT_OF_RANGE",function(i,t,e){let n=`The value of "${i}" is out of range.`,s=e;return Number.isInteger(e)&&Math.abs(e)>2**32?s=jm(String(e)):typeof e=="bigint"&&(s=String(e),(e>BigInt(2)**BigInt(32)||e<-(BigInt(2)**BigInt(32)))&&(s=jm(s)),s+="n"),n+=` It must be ${t}. Received ${s}`,n},RangeError);function jm(i){let t="",e=i.length,n=i[0]==="-"?1:0;for(;e>=n+4;e-=3)t=`_${i.slice(e-3,e)}${t}`;return`${i.slice(0,e)}${t}`}function G8(i,t,e){wn(t,"offset"),(i[t]===void 0||i[t+e]===void 0)&&Os(t,i.length-(e+1))}function Jm(i,t,e,n,s,r){if(i>e||i<t){let o=typeof t=="bigint"?"n":"",a;throw r>3?t===0||t===BigInt(0)?a=`>= 0${o} and < 2${o} ** ${(r+1)*8}${o}`:a=`>= -(2${o} ** ${(r+1)*8-1}${o}) and < 2 ** ${(r+1)*8-1}${o}`:a=`>= ${t}${o} and <= ${e}${o}`,new Sn.ERR_OUT_OF_RANGE("value",a,i)}G8(n,s,r)}function wn(i,t){if(typeof i!="number")throw new Sn.ERR_INVALID_ARG_TYPE(t,"number",i)}function Os(i,t,e){throw Math.floor(i)!==i?(wn(i,e),new Sn.ERR_OUT_OF_RANGE(e||"offset","an integer",i)):t<0?new Sn.ERR_BUFFER_OUT_OF_BOUNDS:new Sn.ERR_OUT_OF_RANGE(e||"offset",`>= ${e?1:0} and <= ${t}`,i)}var J8=/[^+/0-9A-Za-z-_]/g;function Q8(i){if(i=i.split("=")[0],i=i.trim().replace(J8,""),i.length<2)return"";for(;i.length%4!==0;)i=i+"=";return i}function Vc(i,t){t=t||1/0;let e,n=i.length,s=null,r=[];for(let o=0;o<n;++o){if(e=i.charCodeAt(o),e>55295&&e<57344){if(!s){if(e>56319){(t-=3)>-1&&r.push(239,191,189);continue}else if(o+1===n){(t-=3)>-1&&r.push(239,191,189);continue}s=e;continue}if(e<56320){(t-=3)>-1&&r.push(239,191,189),s=e;continue}e=(s-55296<<10|e-56320)+65536}else s&&(t-=3)>-1&&r.push(239,191,189);if(s=null,e<128){if((t-=1)<0)break;r.push(e)}else if(e<2048){if((t-=2)<0)break;r.push(e>>6|192,e&63|128)}else if(e<65536){if((t-=3)<0)break;r.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((t-=4)<0)break;r.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return r}function tC(i){let t=[];for(let e=0;e<i.length;++e)t.push(i.charCodeAt(e)&255);return t}function eC(i,t){let e,n,s,r=[];for(let o=0;o<i.length&&!((t-=2)<0);++o)e=i.charCodeAt(o),n=e>>8,s=e%256,r.push(s),r.push(n);return r}function Qm(i){return Bc.toByteArray(Q8(i))}function Ao(i,t,e,n){let s;for(s=0;s<n&&!(s+e>=t.length||s>=i.length);++s)t[s+e]=i[s];return s}function xe(i,t){return i instanceof t||i!=null&&i.constructor!=null&&i.constructor.name!=null&&i.constructor.name===t.name}function Zc(i){return i!==i}var iC=function(){let i="0123456789abcdef",t=new Array(256);for(let e=0;e<16;++e){let n=e*16;for(let s=0;s<16;++s)t[n+s]=i[e]+i[s]}return t}();function di(i){return typeof BigInt>"u"?nC:i}function nC(){throw new Error("BigInt not supported")}});function td(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}var fs=Symbol.for("#__listeners__");var hl=class{static for(t){return new Proxy({},new this(t))}constructor(t){this.getter=t}get target(){return this.getter()}get(t,e){return this.target[e]}set(t,e,n){return this.target[e]=n,!0}},Gf=hl;(()=>{td(hl,"LazyProxy")})();function ds(i){let t=typeof i;if(t=="number")return i;if(t=="string"){if(/^\d+fps$/.test(i))return 1e3/parseFloat(i);if(/^([-+]?[\d\.]+)s$/.test(i))return parseFloat(i)*1e3;if(/^([-+]?[\d\.]+)ms$/.test(i))return parseFloat(i)}return null}function Br(i,t,e){if(!i)return;let n=Object.getOwnPropertyDescriptor(i,t);return n||i==e?n||void 0:Br(Reflect.getPrototypeOf(i),t,e)}var Jf=function(i,t,e){let n,s,r;for(;(n=e)&&(e=e.next);)(s=e.listener)&&(e.path&&s[e.path]?r=t?s[e.path].apply(s,t):s[e.path]():r=t?s.apply(e,t):s.call(e)),e.times&&--e.times<=0&&(n.next=e.next,e.listener=null)};function jr(i,t,e,n){let s,r,o;return s=i[fs]||(i[fs]={}),r=s[t]||(s[t]={}),o=r.tail||(r.tail=r.next={}),o.listener=e,o.path=n,r.tail=o.next={},o}function fn(i,t,e){let n=jr(i,t,e);return n.times=1,n}function cl(i,t,e,n){let s,r,o=i[fs];if(!!o&&(s=o[t])){for(;(r=s)&&(s=s.next);)if(s==e||s.listener==e){r.next=s.next,s.listener=null;break}}}function Ri(i,t,e){let n;(n=i[fs])&&(n[t]&&Jf(t,e,n[t]),n.all&&Jf(t,[t,e],n.all))}var ul=class{emit(t,...e){return Ri(this,t,e)}on(t,...e){return jr(this,t,...e)}once(t,...e){return fn(this,t,...e)}un(t,...e){return cl(this,t,...e)}},Qf=ul;(()=>{td(ul,"Emitter")})();function sd(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}function Tk(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}var ed=Symbol.for("#__init__"),Ok=Symbol.for("#__patch__");var id=Symbol.for("#schedule"),fl=Symbol.for("#frames"),Ur=Symbol.for("#interval"),dn=Symbol.for("#stage"),mn=Symbol.for("#scheduled"),Vr=Symbol.for("#version"),Ak=Symbol.for("#fps"),nd=Symbol.for("#ticker"),Rk=globalThis.requestAnimationFrame||function(i){return globalThis.setTimeout(i,1e3/60)};var MD=1/60,pl=class{[Ok](t={}){var e;(e=t.owner)!==void 0&&(this.owner=e),(e=t.target)!==void 0&&(this.target=e),(e=t.active)!==void 0&&(this.active=e),(e=t.value)!==void 0&&(this.value=e),(e=t.skip)!==void 0&&(this.skip=e),(e=t.last)!==void 0&&(this.last=e)}constructor(t=null){this[ed](t)}[ed](t=null,e=!0){var n;this.owner=t&&(n=t.owner)!==void 0?n:null,this.target=t&&(n=t.target)!==void 0?n:null,this.active=t&&(n=t.active)!==void 0?n:!1,this.value=t&&(n=t.value)!==void 0?n:void 0,this.skip=t&&(n=t.skip)!==void 0?n:0,this.last=t&&(n=t.last)!==void 0?n:0}tick(t,e){return this.last=this.owner[fl],this.target.tick(this,e),1}update(t,e){let n=this.active,s=t.value;return this.value!=s&&(this.deactivate(),this.value=s),(this.value||n||e)&&this.activate(),this}queue(){this.owner.add(this)}activate(){return this.value===!0?this.owner.on("commit",this):this.value===!1||typeof this.value=="number"&&(this.value/16.666666666666668<=2?this.owner.on("raf",this):this[Ur]=globalThis.setInterval(this.queue.bind(this),this.value)),this.active=!0,this}deactivate(){return this.value===!0&&this.owner.un("commit",this),this.owner.un("raf",this),this[Ur]&&(globalThis.clearInterval(this[Ur]),this[Ur]=null),this.active=!1,this}},dl=pl;(()=>{sd(pl,"Scheduled")})();var _l=class{constructor(){var t=this;this.id=Symbol(),this.queue=[],this.stage=-1,this[dn]=-1,this[fl]=0,this[mn]=!1,this[Vr]=0,this.listeners={},this.intervals={},this.commit=function(){return t.add("commit"),t},this[Ak]=0,this.$promise=null,this.$resolve=null,this[nd]=function(e){return t[mn]=!1,t.tick(e)}}touch(){return this[Vr]++}get version(){return this[Vr]}add(t,e){return(e||this.queue.indexOf(t)==-1)&&this.queue.push(t),this[mn]||this[id](),this}get committingΦ(){return this.queue.indexOf("commit")>=0}get syncingΦ(){return this[dn]==1}listen(t,e){let n=this.listeners[t],s=!n;return n||(n=this.listeners[t]=new Set),n.add(e),t=="raf"&&s&&this.add("raf"),this}unlisten(t,e){var n;let s=this.listeners[t];return s&&s.delete(e),t=="raf"&&s&&s.size==0&&(n=this.listeners.raf,delete this.listeners.raf),this}on(t,e){return this.listen(t,e)}un(t,e){return this.unlisten(t,e)}get promise(){var t=this;return this.$promise||(this.$promise=new Promise(function(e){return t.$resolve=e}))}tick(t){var e=this;let n=this.queue,s=this[fl]++;if(this.ts||(this.ts=t),this.dt=t-this.ts,this.ts=t,this.queue=[],this[dn]=1,this[Vr]++,n.length)for(let r=0,o=Tk(n),a=o.length;r<a;r++){let l=o[r];typeof l=="string"&&this.listeners[l]?this.listeners[l].forEach(function(c){if(c.tick instanceof Function)return c.tick(e,l);if(c instanceof Function)return c(e,l)}):l instanceof Function?l(this.dt,this):l.tick&&l.tick(this.dt,this)}return this[dn]=this[mn]?0:-1,this.$promise&&(this.$resolve(this),this.$promise=this.$resolve=null),this.listeners.raf&&this.add("raf"),this}[id](){return this[mn]||(this[mn]=!0,this[dn]==-1&&(this[dn]=0),Rk(this[nd])),this}schedule(t,e){var s,r;return e||(e=t[s=this.id]||(t[s]={value:!0})),(e[r=this.id]||(e[r]=new dl({owner:this,target:t}))).update(e,!0)}unschedule(t,e={}){e||(e=t[this.id]);let n=e&&e[this.id];return n&&n.active&&n.deactivate(),this}},ml=_l;(()=>{sd(_l,"Scheduler")})();var Ft=new ml;function ge(){return Ft.add("commit").promise}function Dk(i,t){return globalThis.setTimeout(function(){i(),ge()},t)}function Pk(i,t){return globalThis.setInterval(function(){i(),ge()},t)}var Ik=globalThis.clearInterval,Fk=globalThis.clearTimeout,ms=globalThis.imba||(globalThis.imba={});ms.commit=ge;ms.setTimeout=Dk;ms.setInterval=Pk;ms.clearInterval=Ik;ms.clearTimeout=Fk;function Lk(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}var rd=Symbol.for("#toStringDeopt");var od=Symbol.for("#symbols"),ad=Symbol.for("#batches"),ld=Symbol.for("#extras"),gl=Symbol.for("#stacks"),bl=class{constructor(t){this.dom=t,this.string=""}contains(t){return this.dom.classList.contains(t)}add(t){return this.contains(t)?this:(this.string+=(this.string?" ":"")+t,this.dom.classList.add(t),this)}remove(t){if(!this.contains(t))return this;let e=new RegExp("(^|\\s)"+t+"(?=\\s|$)","g");return this.string=this.string.replace(e,""),this.dom.classList.remove(t),this}toggle(t,e){return e===void 0&&(e=!this.contains(t)),e?this.add(t):this.remove(t)}incr(t,e=0){var n=this;let s=this.stacks,r=s[t]||0;return r<1&&this.add(t),e>0&&setTimeout(function(){return n.decr(t)},e),s[t]=Math.max(r,0)+1}decr(t){let e=this.stacks,n=e[t]||0;return n==1&&this.remove(t),e[t]=Math.max(n,1)-1}reconcile(t,e){let n=this[od],s=this[ad],r=!0;if(!n)n=this[od]=[t],s=this[ad]=[e||""],this.toString=this.valueOf=this[rd];else{let o=n.indexOf(t),a=e||"";o==-1?(n.push(t),s.push(a)):s[o]!=a?s[o]=a:r=!1}r&&(this[ld]=" "+s.join(" "),this.sync())}valueOf(){return this.string}toString(){return this.string}[rd](){return this.string+(this[ld]||"")}sync(){return this.dom.flagSync$()}get stacks(){return this[gl]||(this[gl]={})}},pn=bl;(()=>{Lk(bl,"Flags")})();function md(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}function Nk(i){var t,e;(e=(t=Object.getPrototypeOf(i.prototype).constructor)==null?void 0:t.inherited)==null||e.call(t,i)}var cd=Symbol.for("#__init__"),zk=Symbol.for("#__patch__"),hd=Symbol.for("#__initor__"),ud=Symbol.for("#__inited__"),fd=Symbol.for("#__hooks__"),yl=Symbol.for("#getRenderContext"),Bk=Symbol.for("#getDynamicContext"),dd=Symbol(),U={context:null},$l=class{[zk](t={}){var e;(e=t.stack)!==void 0&&(this.stack=e)}constructor(t=null){this[cd](t)}[cd](t=null,e=!0){var n;this.stack=t&&(n=t.stack)!==void 0?n:[]}push(t){return this.stack.push(t)}pop(t){return this.stack.pop()}},xl=$l;(()=>{md($l,"Renderer")})();var AD=new xl,_n=class extends Map{constructor(t,e=null){super(),this._=t,this.sym=e,this[hd]===dd&&(this[fd]&&this[fd].inited(this),this[ud]&&this[ud]())}pop(){return U.context=null}[yl](t){let e=this.get(t);return e||this.set(t,e=new _n(this._,t)),U.context=e}[Bk](t,e){return this[yl](t)[yl](e)}run(t){return this.value=t,U.context==this&&(U.context=null),this.get(t)}cache(t){return this.set(this.value,t),t}},si=_n;(()=>{_n.prototype[hd]=dd,md(_n,"RenderContext"),Nk(_n)})();function pd(i,t=Symbol(),e=i){return U.context=i[t]||(i[t]=new si(e,t))}function Ct(){let i=U.context,t=i||new si(null);return i&&(U.context=null),t}function bn(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}function ys(i,t){let e=Object.getOwnPropertyDescriptors(t);return delete e.constructor,Object.defineProperties(i,e),i}function jk(i){var t,e;(e=(t=Object.getPrototypeOf(i.prototype).constructor)==null?void 0:t.inherited)==null||e.call(t,i)}function Uk(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}var bs=Symbol.for("#parent"),_d=Symbol.for("#closestNode"),Vk=Symbol.for("#parentNode"),Hk=Symbol.for("#context"),Ed=Symbol.for("#__init__"),Md=Symbol.for("##inited"),Sl=Symbol.for("#getRenderContext"),Wk=Symbol.for("#getDynamicContext"),gd=Symbol.for("#insertChild"),El=Symbol.for("#appendChild"),vl=Symbol.for("#replaceChild"),bd=Symbol.for("#removeChild"),ri=Symbol.for("#insertInto"),yd=Symbol.for("#insertIntoDeopt"),ps=Symbol.for("#removeFrom"),xd=Symbol.for("#removeFromDeopt"),gn=Symbol.for("#replaceWith"),$d=Symbol.for("#replaceWithDeopt"),wl=Symbol.for("#placeholderNode"),Yk=Symbol.for("#attachToParent"),Zk=Symbol.for("#detachFromParent"),qk=Symbol.for("#placeChild"),Xk=Symbol.for("#beforeReconcile"),Kk=Symbol.for("#afterReconcile"),Gk=Symbol.for("#afterVisit"),Jk=Symbol.for("#visitContext"),Td=Symbol.for("##parent"),Hr=Symbol.for("##up"),kl=Symbol.for("##context"),Di=Symbol.for("#domNode"),_s=Symbol.for("##placeholderNode"),Sd=Symbol.for("#domDeopt"),gs=Symbol.for("##visitContext"),Od=Symbol.for("#isRichElement"),vd=Symbol.for("#src"),Wr=Symbol.for("#htmlNodeName"),Qk=Symbol.for("#getSlot");var wd=Symbol.for("#cssns"),t3=Symbol.for("#cssid"),{Event:Pi,UIEvent:LD,MouseEvent:Ad,PointerEvent:ND,KeyboardEvent:Rd,CustomEvent:xs,Node:Ne,Comment:Xr,Text:Fl,Element:Lt,HTMLElement:Ll,HTMLHtmlElement:zD,HTMLSelectElement:BD,HTMLInputElement:jD,HTMLTextAreaElement:UD,HTMLButtonElement:VD,HTMLOptionElement:HD,HTMLScriptElement:WD,SVGElement:Dd,DocumentFragment:YD,ShadowRoot:ZD,Document:e3,Window:qD,customElements:XD}=globalThis.window,Cl={};function Pd(i,t,e){if(!i)return e[t]=null;if(e[t]!==void 0)return e[t];let n=Object.getOwnPropertyDescriptor(i,t);return n!==void 0||i==Dd?e[t]=n||null:Pd(Reflect.getPrototypeOf(i),t,e)}var Ml={},Tl={},i3={},n3={};var s3={get(i,t){let e=i,n;for(;e&&n==null;)(e=e[bs])&&(n=e[t]);return n},set(i,t,e){let n=i,s;for(;n&&s==null;){if(Br(n,t,Lt))return n[t]=e,!0;n=n[bs]}return!0}},zl=class{get flags(){return this.documentElement.flags}},Ol=zl;(()=>{bn(zl,"Document")})();ys(e3.prototype,Ol.prototype);var Bl=class{get[bs](){return this[Td]||this.parentNode||this[Hr]}get[_d](){return this}get[Vk](){return this[bs][_d]}get[Hk](){return this[kl]||(this[kl]=new Proxy(this,s3))}[Ed](){return this}[Md](){return this}[Sl](t){return pd(this,t)}[Wk](t,e){return this[Sl](t)[Sl](e)}[gd](t,e){return t[ri](this,e)}[El](t){return t[ri](this,null)}[vl](t,e){let n=this[gd](t,e);return this[bd](e),n}[bd](t){return t[ps](this)}[ri](t,e=null){return e?t.insertBefore(this,e):t.appendChild(this),this}[yd](t,e){return e?t.insertBefore(this[Di]||this,e):t.appendChild(this[Di]||this),this}[ps](t){return t.removeChild(this)}[xd](t){return t.removeChild(this[Di]||this)}[gn](t,e){return e[vl](t,this)}[$d](t,e){return e[vl](t,this[Di]||this)}get[wl](){return this[_s]||(this[_s]=globalThis.document.createComment("placeholder"))}set[wl](t){let e=this[_s];this[_s]=t,e&&e!=t&&e.parentNode&&e[gn](t)}[Yk](){let t=this[Di],e=t&&t.parentNode;return t&&e&&t!=this&&(this[Di]=null,this[ri](e,t),t[ps](e)),this}[Zk](){this[Sd]!=!0&&(this[Sd]=!0,!0)&&(this[gn]=this[$d],this[ps]=this[xd],this[ri]=this[yd],this[Hr]||(this[Hr]=this[bs]));let t=this[wl];return this.parentNode&&t!=this&&(t[ri](this.parentNode,this),this[ps](this.parentNode)),this[Di]=t,this}[qk](t,e,n){let s=typeof t;if(s==="undefined"||t===null){if(n&&n instanceof Xr)return n;let r=globalThis.document.createComment("");return n?n[gn](r,this):r[ri](this,null)}if(t===n)return t;if(s!=="object"){let r,o=t;return e&128&&e&256,n?n instanceof Fl?(n.textContent=o,n):(r=globalThis.document.createTextNode(o),n[gn](r,this),r):(this.appendChild(r=globalThis.document.createTextNode(o)),r)}else return n?n[gn](t,this):t[ri](this,null)}},Al=Bl;(()=>{bn(Bl,"Node")})();ys(Ne.prototype,Al.prototype);var jl=class{log(...t){return console.log(...t)}emit(t,e,n={bubbles:!0,cancelable:!0}){e!=null&&(n.detail=e);let s=new xs(t,n),r=this.dispatchEvent(s);return s}text$(t){return this.textContent=t,this}[Xk](){return this}[Kk](){return this}[Gk](){this.render&&this.render(),this[gs]&&(this[gs]=null)}get[Jk](){return this[gs]||(this[gs]={})}get flags(){return this.$flags||(this.$flags=new pn(this),this.flag$==Lt.prototype.flag$&&(this.flags$ext=this.className),this.flagDeopt$()),this.$flags}flag$(t){let e=this.flags$ns;this.className=e?e+(this.flags$ext=t):this.flags$ext=t}flagDeopt$(){var t=this;this.flag$=this.flagExt$,this.flagSelf$=function(e){return t.flagSync$(t.flags$own=e)}}flagExt$(t){return this.flagSync$(this.flags$ext=t)}flagSelf$(t){return this.flagDeopt$(),this.flagSelf$(t)}flagSync$(){return this.className=(this.flags$ns||"")+(this.flags$ext||"")+" "+(this.flags$own||"")+" "+(this.$flags||"")}set$(t,e){let n=Br(this,t,Lt);!n||!n.set?this.setAttribute(t,e):this[t]=e}get richValue(){return this.value}set richValue(t){this.value=t}},Rl=jl;(()=>{bn(jl,"Element")})();ys(Lt.prototype,Rl.prototype);Lt.prototype.setns$=Lt.prototype.setAttributeNS;Lt.prototype[Od]=!0;function k(i,t,e,n){let s=globalThis.document.createElement(i);return e&&(s.className=e),n!==null&&s.text$(n),t&&t[El]&&t[El](s),s}var Ul=class{set$(t,e){var r;let n=Cl[r=this.nodeName]||(Cl[r]={}),s=Pd(this,t,n);!s||!s.set?this.setAttribute(t,e):this[t]=e}flag$(t){let e=this.flags$ns;this.setAttribute("class",e?e+(this.flags$ext=t):this.flags$ext=t)}flagSelf$(t){var e=this;return this.flag$=function(n){return e.flagSync$(e.flags$ext=n)},this.flagSelf$=function(n){return e.flagSync$(e.flags$own=n)},this.flagSelf$(t)}flagSync$(){return this.setAttribute("class",(this.flags$ns||"")+(this.flags$ext||"")+" "+(this.flags$own||"")+" "+(this.$flags||""))}},Dl=Ul;(()=>{bn(Ul,"SVGElement")})();ys(Dd.prototype,Dl.prototype);var Vl=class{set src(t){if(this[vd]!=t&&(this[vd]=t,!0)){if(t&&t.adoptNode)t.adoptNode(this);else if(t&&t.type=="svg"){if(t.attributes)for(let e=t.attributes,n=0,s=Object.keys(e),r=s.length,o,a;n<r;n++)o=s[n],a=e[o],this.setAttribute(o,a);this.innerHTML=t.content}}}},Pl=Vl;(()=>{bn(Vl,"SVGSVGElement")})();ys(SVGSVGElement.prototype,Pl.prototype);function oi(i){return globalThis.document.createComment(i)}function Nl(i){return globalThis.document.createTextNode(i)}var Yr=globalThis.navigator,r3=Yr&&Yr.vendor||"",kd=Yr&&Yr.userAgent||"",o3=r3.indexOf("Apple")>-1||kd.indexOf("CriOS")>=0||kd.indexOf("FxiOS")>=0,Zr=!o3,Cd=new Map,qr=class extends Ll{connectedCallback(){return Zr?this.parentNode.removeChild(this):this.parentNode.connectedCallback()}disconnectedCallback(){if(!Zr)return this.parentNode.disconnectedCallback()}},Il=qr;(()=>{bn(qr,"CustomHook"),jk(qr)})();window.customElements.define("i-hook",Il);function a3(i,t){let e=Cd.get(t);if(!e){e={};let n=t.prototype,s=[n];for(;(n=n&&Object.getPrototypeOf(n))&&n.constructor!=i.constructor;)s.unshift(n);for(let r=0,o=Uk(s),a=o.length;r<a;r++){let l=o[r],c=Object.getOwnPropertyDescriptors(l);Object.assign(e,c)}Cd.set(t,e)}return e}function H(i,t,e,n,s){let r;typeof i!="string"&&i&&i.nodeName&&(i=i.nodeName);let o=Tl[i]||i;if(Ml[i]){let a=Ml[i],l=a.prototype[Wr];if(l&&Zr)r=globalThis.document.createElement(l,{is:i});else if(a.create$&&l){r=globalThis.document.createElement(l),r.setAttribute("is",o);let c=a3(r,a);Object.defineProperties(r,c),r.__slots={},r.appendChild(globalThis.document.createElement("i-hook"))}else a.create$?(r=a.create$(r),r.__slots={}):console.warn("could not create tag "+i)}else r=globalThis.document.createElement(Tl[i]||i);return r[Td]=t,r[Ed](),r[Md](),n!==null&&r[Qk]("__").text$(n),(e||r.flags$ns)&&r.flag$(e||""),r}function ai(i,t,e,n){if(i==null||i==null)return oi("");if(i instanceof Ne)return i;if(i[Od])return i;if(typeof i=="string"||i&&i.prototype instanceof Ne)return H(i,t,e,n)}function j(i,t,e={}){i3[i]=n3[i]=t,t.nodeName=i;let n=i,s=t.prototype;if(i.indexOf("-")==-1&&(n=""+i+"-tag",Tl[i]=n),e.cssns){let r=(s._ns_||s[wd]||"")+" "+(e.cssns||"");s._ns_=r.trim()+" ",s[wd]=e.cssns}if(e.cssid){let r=(s.flags$ns||"")+" "+e.cssid;s[t3]=e.cssid,s.flags$ns=r.trim()+" "}return s[Wr]&&!e.extends&&(e.extends=s[Wr]),e.extends?(s[Wr]=e.extends,Ml[i]=t,Zr&&window.customElements.define(n,t,{extends:e.extends})):window.customElements.define(n,t),t}var l3=globalThis.imba||(globalThis.imba={});l3.document=globalThis.document;function Xl(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}function Hl(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}function c3(i){var t,e;(e=(t=Object.getPrototypeOf(i.prototype).constructor)==null?void 0:t.inherited)==null||e.call(t,i)}function h3(i,t){let e=Object.getOwnPropertyDescriptors(t);return delete e.constructor,Object.defineProperties(i,e),i}var to=Symbol.for("#parent"),Id=Symbol.for("#closestNode"),u3=Symbol.for("#isRichElement"),f3=Symbol.for("#afterVisit"),Fd=Symbol.for("#__initor__"),Ld=Symbol.for("#__inited__"),Nd=Symbol.for("#__hooks__"),zd=Symbol.for("#appendChild"),Bd=Symbol.for("#removeChild"),jd=Symbol.for("#replaceChild"),ze=Symbol.for("#insertInto"),Kr=Symbol.for("#replaceWith"),Ud=Symbol.for("#insertChild"),Gr=Symbol.for("#removeFrom"),Vd=Symbol.for("#placeChild"),d3=Symbol.for("#registerFunctionalSlot"),m3=Symbol.for("#getFunctionalSlot"),Hd=Symbol.for("#getSlot"),Yl=Symbol.for("##parent"),li=Symbol.for("##up"),Wl=Symbol.for("##flags"),p3=Symbol.for("#domFlags"),ne=Symbol.for("#end"),Wd=Symbol.for("#textContent"),Jr=Symbol.for("#textNode"),Qr=Symbol.for("#functionalSlots"),Yd=Symbol();function yn(){return!0}var Kl=class{constructor(){this.childNodes=[]}log(...t){}hasChildNodes(){return!1}set[to](t){this[Yl]=t}get[to](){return this[Yl]||this[li]}get[Id](){return this[to][Id]}get[u3](){return!0}get flags(){return this[Wl]||(this[Wl]=new pn(this))}flagSync$(){return this}[f3](){return this}},ci=Kl;(()=>{Xl(Kl,"Fragment")})();var _3=0,$s=class extends ci{constructor(t,e){super(...arguments),this[li]=e,this.parentNode=null,this[p3]=t,this.childNodes=[],this[ne]=oi("slot"+_3++),e&&e[zd](this),this[Fd]===Yd&&(this[Nd]&&this[Nd].inited(this),this[Ld]&&this[Ld]())}get[to](){return this[Yl]||this.parentNode||this[li]}set textContent(t){this[Wd]=t}get textContent(){return this[Wd]}hasChildNodes(){for(let t=0,e=Hl(this.childNodes),n=e.length;t<n;t++){let s=e[t];if(s instanceof ci&&s.hasChildNodes())return!0;if(!(s instanceof Xr)){if(s instanceof Ne)return!0}}return!1}text$(t){return this[Jr]?this[Jr].textContent=t:this[Jr]=this[Vd](t),this[Jr]}appendChild(t){return this.parentNode&&t[ze](this.parentNode,this[ne]),this.childNodes.push(t)}[zd](t){var e;return this.parentNode?t[ze](this.parentNode,this[ne]):(e=t[li])!=null||(t[li]=this[li]||this),this.childNodes.push(t)}insertBefore(t,e){this.parentNode&&this.parentNode[Ud](t,e);let n=this.childNodes.indexOf(e);return n>=0&&this.childNodes.splice(n,0,t),t}[Bd](t){this.parentNode&&this.parentNode[Bd](t);let e=this.childNodes.indexOf(t);e>=0&&this.childNodes.splice(e,1)}[jd](t,e){this.parentNode&&this.parentNode[jd](t,e);let n=this.childNodes.indexOf(e);return this.childNodes[n]=t,t}[ze](t,e){let n=this.parentNode;if(this.parentNode!=t&&(this.parentNode=t,!0)){this[ne]&&(e=this[ne][ze](t,e));for(let s=0,r=Hl(this.childNodes),o=r.length;s<o;s++)r[s][ze](t,e)}return this}[Kr](t,e){let n=t[ze](e,this[ne]);return this[Gr](e),n}[Ud](t,e){if(this.parentNode&&this.insertBefore(t,e||this[ne]),e){let n=this.childNodes.indexOf(e);n>=0&&this.childNodes.splice(n,0,t)}else this.childNodes.push(t);return t}[Gr](t){for(let e=0,n=Hl(this.childNodes),s=n.length;e<s;e++)n[e][Gr](t);return this[ne]&&this[ne][Gr](t),this.parentNode=null,this}[Vd](t,e,n){let s=this.parentNode,r=typeof t;if(r==="undefined"||t===null){if(n&&n instanceof Xr)return n;let o=oi("");if(n){let a=this.childNodes.indexOf(n);return this.childNodes.splice(a,1,o),s&&n[Kr](o,s),o}return this.childNodes.push(o),s&&o[ze](s,this[ne]),o}if(t===n)return t;if(r!=="object"){let o,a=t;if(n){if(n instanceof Fl)return n.textContent=a,n;{o=Nl(a);let l=this.childNodes.indexOf(n);return this.childNodes.splice(l,1,o),s&&n[Kr](o,s),o}}else return this.childNodes.push(o=Nl(a)),s&&o[ze](s,this[ne]),o}else if(n){let o=this.childNodes.indexOf(n);return this.childNodes.splice(o,1,t),s&&n[Kr](t,s),t}else return this.childNodes.push(t),s&&t[ze](s,this[ne]),t}},Zl=$s;(()=>{$s.prototype[Fd]=Yd,Xl($s,"VirtualFragment"),c3($s)})();function eo(i,t){let e=new Zl(i,null);return e[li]=t,e}var Gl=class{[d3](t){let e=this[Qr]||(this[Qr]={});return e[t]||(e[t]=eo(0,this))}[m3](t,e){let n=this[Qr];return n&&n[t]||this[Hd](t,e)}[Hd](t,e){var n;return t=="__"&&!this.render?this:(n=this.__slots)[t]||(n[t]=eo(0,this))}},ql=Gl;(()=>{Xl(Gl,"Node")})();h3(Ne.prototype,ql.prototype);function g3(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}function b3(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}function y3(i){var t,e;(e=(t=Object.getPrototypeOf(i.prototype).constructor)==null?void 0:t.inherited)==null||e.call(t,i)}var x3=Symbol.for("#afterVisit"),io=Symbol.for("#insertInto"),Zd=Symbol.for("#appendChild"),$3=Symbol.for("#replaceWith"),Jl=Symbol.for("#removeFrom"),qd=Symbol.for("#__initor__"),Xd=Symbol.for("#__inited__"),Kd=Symbol.for("#__hooks__"),S3=Symbol.for("#domFlags"),v3=Symbol.for("##parent"),hi=Symbol.for("#end"),w3=Symbol.for("#removeChild"),k3=Symbol.for("#insertChild"),Gd=Symbol(),Ss=class extends ci{constructor(t,e){super(...arguments),this[S3]=t,this[v3]=e,t&256||(this[hi]=oi("list")),this.$=this.childNodes,this.length=0,e&&e[Zd](this),this[qd]===Gd&&(this[Kd]&&this[Kd].inited(this),this[Xd]&&this[Xd]())}hasChildNodes(){return this.length!=0}[x3](t){let e=this.length;if(this.length=t,e==t)return;let n=this.parentNode;if(!n)return;let s=this.childNodes,r=this[hi];if(e>t)for(;e>t;)n[w3](s[--e]);else if(t>e)for(;t>e;)n[k3](s[e++],r);this.length=t}[io](t,e){this.parentNode=t,this[hi]&&this[hi][io](t,e),e=this[hi];for(let n=0,s=g3(this.childNodes),r=s.length;n<r;n++){let o=s[n];if(n==this.length)break;o[io](t,e)}return this}[Zd](t){}[$3](t,e){let n=t[io](e,this[hi]);return this[Jl](e),n}[Jl](t){let e=this.length;for(;e>0;)this.childNodes[--e][Jl](t);this[hi]&&t.removeChild(this[hi]),this.parentNode=null}},Ql=Ss;(()=>{Ss.prototype[qd]=Gd,b3(Ss,"IndexedTagFragment"),y3(Ss)})();function pt(i,t){return new Ql(i,t)}function Jd(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}function C3(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}function E3(i){var t,e;(e=(t=Object.getPrototypeOf(i.prototype).constructor)==null?void 0:t.inherited)==null||e.call(t,i)}var tc=Symbol.for("#appendChild"),no=Symbol.for("#insertChild"),M3=Symbol.for("#replaceWith"),so=Symbol.for("#insertInto"),ec=Symbol.for("#removeFrom"),T3=Symbol.for("#afterVisit"),Qd=Symbol.for("#__initor__"),tm=Symbol.for("#__inited__"),em=Symbol.for("#__hooks__"),ro=Symbol.for("#domFlags"),im=Symbol.for("##parent"),ui=Symbol.for("#end"),nm=Symbol.for("#removeChild"),sm=Symbol(),vs=class extends ci{constructor(t,e){super(...arguments),this[ro]=t,this[im]=e,this.changes=new Map,this.dirty=!1,this.array=this.childNodes,this.$=new si(this,Symbol()),t&256||(this[ui]=oi("map")),e&&e[tc](this),this[Qd]===sm&&(this[em]&&this[em].inited(this),this[tm]&&this[tm]())}[tc](t){if(this.parentNode)return this.parentNode[no](t,this[ui])}hasChildNodes(){return this.childNodes.length!=0}push(t,e){if(!(this[ro]&1)){this.array.push(t),this[tc](t);return}let n=this.array[e];if(n!==t){this.dirty=!0;let s=this.array.indexOf(t),r=this.changes.get(t);s===-1?(this.array.splice(e,0,t),this.insertChild(t,e,s)):s===e+1?(n&&this.changes.set(n,-1),this.array.splice(e,1)):(s>=0&&this.array.splice(s,1),this.array.splice(e,0,t),this.moveChild(t,e,s)),r==-1&&this.changes.delete(t)}}insertChild(t,e,n){let s=this.parentNode;if(!!s)if(e>0){let r=this.array[e-1];s[no](t,r.nextSibling)}else s[no](t,this.childNodes[e+1]||this[ui])}moveChild(t,e,n){return this.insertChild(t,e,n)}removeChild(t,e){t.parentNode&&t[ec](t.parentNode)}[no](t,e){}[M3](t,e){let n=t[so](e,this[ui]);return this[ec](e),n}[so](t,e){this[im]=t;let n=this.parentNode;if(t!=n){this.parentNode=t;for(let s=0,r=Jd(this.array),o=r.length;s<o;s++)r[s][so](t,e);this[ui]&&this[ui][so](t,e)}return this}[ec](t){for(let e=0,n=Jd(this.array),s=n.length;e<s;e++){let r=n[e];t[nm](r)}return this[ui]&&t[nm](this[ui]),this.parentNode=null}[T3](t){var e=this;if(!(this[ro]&1)){this[ro]|=1;return}if(this.dirty&&(this.changes.forEach(function(n,s){if(n==-1)return e.removeChild(s)}),this.changes.clear(),this.dirty=!1),this.array.length>t)for(;this.array.length>t;){let n=this.array.pop();this.removeChild(n)}}},ic=vs;(()=>{vs.prototype[Qd]=sm,C3(vs,"KeyedTagFragment"),E3(vs)})();function oo(i,t){return new ic(i,t)}function O3(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}function A3(i){var t,e;(e=(t=Object.getPrototypeOf(i.prototype).constructor)==null?void 0:t.inherited)==null||e.call(t,i)}var lo=Symbol.for("#__init__"),R3=Symbol.for("#__patch__"),D3=Symbol.for("##inited"),P3=Symbol.for("#afterVisit"),I3=Symbol.for("#beforeReconcile"),F3=Symbol.for("#afterReconcile"),rm=Symbol.for("#__hooks__"),Ii=Symbol.for("#autorender"),ao=Symbol.for("##visitContext"),L3=new class{[R3](i={}){var t;(t=i.items)!==void 0&&(this.items=t),(t=i.current)!==void 0&&(this.current=t),(t=i.lastQueued)!==void 0&&(this.lastQueued=t),(t=i.tests)!==void 0&&(this.tests=t)}constructor(i=null){this[lo](i)}[lo](i=null,t=!0){var e;this.items=i&&(e=i.items)!==void 0?e:[],this.current=i&&(e=i.current)!==void 0?e:null,this.lastQueued=i&&(e=i.lastQueued)!==void 0?e:null,this.tests=i&&(e=i.tests)!==void 0?e:0}flush(){let i=null;for(;i=this.items.shift();){if(!i.parentNode||i.hydratedΦ)continue;let t=this.current;this.current=i,i.__F|=1024,i.connectedCallback(),this.current=t}}queue(i){var t=this;let e=this.items.length,n=0,s=this.lastQueued;this.lastQueued=i;let r=Ne.DOCUMENT_POSITION_PRECEDING,o=Ne.DOCUMENT_POSITION_FOLLOWING;if(e){let a=this.items.indexOf(s),l=a,c=function(u,f){return t.tests++,u.compareDocumentPosition(f)};(a==-1||s.nodeName!=i.nodeName)&&(l=a=0);let h=this.items[l];for(;h&&c(h,i)&o;)h=this.items[++l];if(l!=a)h?this.items.splice(l,0,i):this.items.push(i);else{for(;h&&c(h,i)&r;)h=this.items[--l];l!=a&&(h?this.items.splice(l+1,0,i):this.items.unshift(i))}}else this.items.push(i),this.current||globalThis.queueMicrotask(this.flush.bind(this))}};var co=class extends Ll{constructor(){super(),this.flags$ns&&(this.flag$=this.flagExt$),this.setup$(),this.build()}setup$(){return this.__slots={},this.__F=0}[lo](){return this.__F|=3,this}[D3](){if(this[rm])return this[rm].inited(this)}flag$(t){this.className=this.flags$ext=t}build(){return this}awaken(){return this}mount(){return this}unmount(){return this}rendered(){return this}dehydrate(){return this}hydrate(){return this.autoschedule=!0,this}tick(){return this.commit()}visit(){return this.commit()}commit(){return this.renderΦ?(this.__F|=256,this.render&&this.render(),this.rendered(),this.__F=(this.__F|512)&-257&-8193):(this.__F|=8192,this)}get autoschedule(){return(this.__F&64)!=0}set autoschedule(t){t?this.__F|=64:this.__F&=-65}set autorender(t){let e=this[Ii]||(this[Ii]={});e.value=t,this.mountedΦ&&Ft.schedule(this,e)}get renderΦ(){return!this.suspendedΦ}get mountingΦ(){return(this.__F&16)!=0}get mountedΦ(){return(this.__F&32)!=0}get awakenedΦ(){return(this.__F&8)!=0}get renderedΦ(){return(this.__F&512)!=0}get suspendedΦ(){return(this.__F&4096)!=0}get renderingΦ(){return(this.__F&256)!=0}get scheduledΦ(){return(this.__F&128)!=0}get hydratedΦ(){return(this.__F&2)!=0}get ssrΦ(){return(this.__F&1024)!=0}schedule(){return Ft.on("commit",this),this.__F|=128,this}unschedule(){return Ft.un("commit",this),this.__F&=-129,this}async suspend(t=null){let e=this.flags.incr("@suspended");return this.__F|=4096,t instanceof Function&&(await t(),this.unsuspend()),this}unsuspend(){return this.flags.decr("@suspended")==0&&(this.__F&=-4097,this.commit()),this}[P3](){if(this.visit(),this[ao])return this[ao]=null}[I3](){return this.__F&1024&&(this.__F=this.__F&-1025,this.classList.remove("_ssr_"),this.flags$ext&&this.flags$ext.indexOf("_ssr_")==0&&(this.flags$ext=this.flags$ext.slice(5)),this.__F&512||(this.innerHTML="")),this[ao]&&(this[ao]=null),this}[F3](){return this}connectedCallback(){let t=this.__F,e=t&1,n=t&8;if(!e&&!(t&1024)){L3.queue(this);return}if(t&48)return;this.__F|=16,e||this[lo](),t&2||(this.flags$ext=this.className,this.__F|=2,this.hydrate(),this.commit()),n||(this.awaken(),this.__F|=8),Ri(this,"mount");let s=this.mount();return s&&s.then instanceof Function&&s.then(Ft.commit),t=this.__F=(this.__F|32)&-17,t&64&&this.schedule(),this[Ii]&&Ft.schedule(this,this[Ii]),this}disconnectedCallback(){if(this.__F=this.__F&-49,this.__F&128&&this.unschedule(),Ri(this,"unmount"),this.unmount(),this[Ii])return Ft.unschedule(this,this[Ii])}},B=co;(()=>{O3(co,"Component"),A3(co)})();function lm(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}function N3(i,t){let e=Object.getOwnPropertyDescriptors(t);return delete e.constructor,Object.defineProperties(i,e),i}var om=Symbol.for("#__init__"),z3=Symbol.for("#__patch__");var B3={cm:1,mm:1,Q:1,pc:1,pt:1,px:1,em:1,ex:1,ch:1,rem:1,vw:1,vh:1,vmin:1,vmax:1,s:1,ms:1,fr:1,"%":1,in:1,turn:1,grad:1,rad:1,deg:1,Hz:1,kHz:1};var am={prefix:1,suffix:1,content:1},rc={rose:[[356,100,97],[356,100,95],[353,96,90],[353,96,82],[351,95,71],[350,89,60],[347,77,50],[345,83,41],[343,80,35],[342,75,30]],pink:[[327,73,97],[326,78,95],[326,85,90],[327,87,82],[329,86,70],[330,81,60],[333,71,51],[335,78,42],[336,74,35],[336,69,30]],fuchsia:[[289,100,98],[287,100,95],[288,96,91],[291,93,83],[292,91,73],[292,84,61],[293,69,49],[295,72,40],[295,70,33],[297,64,28]],purple:[[270,100,98],[269,100,95],[269,100,92],[269,97,85],[270,95,75],[271,91,65],[271,81,56],[272,72,47],[273,67,39],[274,66,32]],violet:[[250,100,98],[251,91,95],[251,95,92],[252,95,85],[255,92,76],[258,90,66],[262,83,58],[263,70,50],[263,69,42],[264,67,35]],indigo:[[226,100,97],[226,100,94],[228,96,89],[230,94,82],[234,89,74],[239,84,67],[243,75,59],[245,58,51],[244,55,41],[242,47,34]],blue:[[214,100,97],[214,95,93],[213,97,87],[212,96,78],[213,94,68],[217,91,60],[221,83,53],[224,76,48],[226,71,40],[224,64,33]],sky:[[204,100,97],[204,94,94],[201,94,86],[199,95,74],[198,93,60],[199,89,48],[200,98,39],[201,96,32],[201,90,27],[202,80,24]],cyan:[[183,100,96],[185,96,90],[186,94,82],[187,92,69],[188,86,53],[189,94,43],[192,91,36],[193,82,31],[194,70,27],[196,64,24]],teal:[[166,76,97],[167,85,89],[168,84,78],[171,77,64],[172,66,50],[173,80,40],[175,84,32],[175,77,26],[176,69,22],[176,61,19]],emerald:[[152,81,96],[149,80,90],[152,76,80],[156,72,67],[158,64,52],[160,84,39],[161,94,30],[163,94,24],[163,88,20],[164,86,16]],green:[[138,76,97],[141,84,93],[141,79,85],[142,77,73],[142,69,58],[142,71,45],[142,76,36],[142,72,29],[143,64,24],[144,61,20]],lime:[[78,92,95],[80,89,89],[81,88,80],[82,85,67],[83,78,55],[84,81,44],[85,85,35],[86,78,27],[86,69,23],[88,61,20]],yellow:[[55,92,95],[55,97,88],[53,98,77],[50,98,64],[48,96,53],[45,93,47],[41,96,40],[35,92,33],[32,81,29],[28,73,26]],amber:[[48,100,96],[48,96,89],[48,97,77],[46,97,65],[43,96,56],[38,92,50],[32,95,44],[26,90,37],[23,83,31],[22,78,26]],orange:[[33,100,96],[34,100,92],[32,98,83],[31,97,72],[27,96,61],[25,95,53],[21,90,48],[17,88,40],[15,79,34],[15,75,28]],red:[[0,86,97],[0,93,94],[0,96,89],[0,94,82],[0,91,71],[0,84,60],[0,72,51],[0,74,42],[0,70,35],[0,63,31]],warmer:[[60,9,98],[60,5,96],[20,6,90],[24,6,83],[24,5,64],[25,5,45],[33,5,32],[30,6,25],[12,6,15],[24,10,10]],warm:[[0,0,98],[0,0,96],[0,0,90],[0,0,83],[0,0,64],[0,0,45],[0,0,32],[0,0,25],[0,0,15],[0,0,9]],gray:[[0,0,98],[240,5,96],[240,6,90],[240,5,84],[240,5,65],[240,4,46],[240,5,34],[240,5,26],[240,4,16],[240,6,10]],cool:[[210,20,98],[220,14,96],[220,13,91],[216,12,84],[218,11,65],[220,9,46],[215,14,34],[217,19,27],[215,28,17],[221,39,11]],cooler:[[210,40,98],[210,40,96],[214,32,91],[213,27,84],[215,20,65],[215,16,47],[215,19,35],[215,25,27],[217,33,17],[222,47,11]]},j3=new RegExp("^("+Object.keys(rc).join("|")+")(\\d+(?:\\.\\d+)?)$"),U3=/^([xyz])$/,V3=/^([tlbr]|size|[whtlbr]|[mps][tlbrxy]?|[rcxy]?[gs])$/,H3=`*,::before,::after {
box-sizing: border-box;
border-width: 0;
border-style: solid;
border-color: currentColor;
}`,oc=class{[z3](t={}){var e;(e=t.entries)!==void 0&&(this.entries=e)}constructor(t=null){this[om](t)}[om](t=null,e=!0){var n;this.entries=t&&(n=t.entries)!==void 0?n:{}}register(t,e){let n=this.entries[t];n?n&&(n.css=e,n.node&&(n.node.textContent=e)):(n=this.entries[t]={sourceId:t,css:e},this.entries.resets||this.register("resets",H3),n.node=globalThis.document.createElement("style"),n.node.setAttribute("data-id",t),n.node.textContent=n.css,globalThis.document.head.appendChild(n.node))}toString(){return Object.values(this.entries).map(function(t){return t.css}).join(`

`)}toValue(t,e,n,s=null){let r;am[n]&&(t=String(t));let o=typeof t;if(o=="number"){if(e||(U3.test(n)?e="px":V3.test(n)?e="u":n=="rotate"&&(e="turn",t=(t%1).toFixed(4))),e)return B3[e]?t+e:e=="u"?t*4+"px":"calc(var(--u_"+e+",1px) * "+t+")"}else if(o=="string"){if(n&&am[n]&&t[0]!='"'&&t[0]!="'"&&(t.indexOf('"')>=0?t.indexOf("'")==-1&&(t="'"+t+"'"):t='"'+t+'"'),r=t.match(j3)){let l=rc[r[1]][parseInt(r[2])],c="100%";if(typeof s=="number"?c=s+"%":typeof s=="string"&&(c=s),l)return"hsla("+l[0]+","+l[1]+"%,"+l[2]+"%,"+c+")"}}else if(t&&t.toStyleString instanceof Function)return t.toStyleString();return t}parseDimension(t){if(typeof t=="string"){let[e,n,s]=t.match(/^([-+]?[\d\.]+)(%|\w+)$/);return[parseFloat(n),s]}else if(typeof t=="number")return[t]}},nc=oc;(()=>{lm(oc,"Styles")})();var W3=new nc,mP=Object.keys(rc);function be(){return!0}var ac=class{css$(t,e,n){return this.style[t]=e}css$var(t,e,n,s,r=null){let o=W3.toValue(e,n,s,r);this.style.setProperty(t,o)}},sc=ac;(()=>{lm(ac,"Element")})();N3(Lt.prototype,sc.prototype);var Y3=Symbol.for("#insertInto"),cm=Symbol.for("#removeFrom");function lc(i,t){let e=t||globalThis.document.body,n=i;if(i instanceof Function){let s=new si(e,null),r=function(){let o=U.context;U.context=s;let a=i(s);return U.context==s&&(U.context=o),a};n=r(),Ft.listen("commit",r)}else n.__F|=64;return n[Y3](e),n}function Z3(i){return i&&i[cm]&&i[cm](i.parentNode),i}var hm=globalThis.imba||(globalThis.imba={});hm.mount=lc;hm.unmount=Z3;function um(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}function gm(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}function bm(i){var t,e;(e=(t=Object.getPrototypeOf(i.prototype).constructor)==null?void 0:t.inherited)==null||e.call(t,i)}var q3=Symbol.for("#getSlot"),X3=Symbol.for("#container"),K3=Symbol.for("#afterVisit"),ws=Symbol.for("#__init__"),cc=Symbol.for("#__patch__"),fm=Symbol.for("#__initor__"),dm=Symbol.for("#__inited__"),mm=Symbol.for("#__hooks__"),ho=Symbol.for("#listeners"),he=Symbol.for("#slot"),G3=Symbol.for("#parent"),Zt=Symbol.for("##container"),uo=Symbol.for("#domTarget"),pm=Symbol.for("#insertInto"),J3=Symbol.for("#removeFrom"),Q3=Symbol.for("#teleport"),t8=Symbol.for("#self"),e8=Symbol.for("#target"),_m=Symbol(),ks=class extends B{[cc](t={}){var e;super[cc]&&super[cc](t),(e=t.to)!==void 0&&(this.to=e)}constructor(){super(...arguments),super[ws]||this[ws](),this[fm]===_m&&(this[mm]&&this[mm].inited(this),this[dm]&&this[dm]())}[ws](t=null,e=!0){e&&super[ws]&&super[ws](...arguments),this.to=t?t.to:void 0}build(){return this[ho]=[],this.win=globalThis,this.doc=globalThis.document}setup(){return this.setAttribute("style","display:none !important;")}[q3](t,e){return this[he]||(this[he]=eo(0,this[G3])),this[he]}get[X3](){if(!this[Zt]){let t=this.className;this[Zt]=this.doc.createElement("div"),this[Zt].className=t,this[Zt].style.cssText="display:contents !important;"}return this[Zt]}get domTarget(){return this[uo]||(this[uo]=this.to instanceof Lt?this.to:this.closest(this.to)||this.doc.querySelector(this.to))}get eventTarget(){return this.domTarget}get style(){return this[Zt]?this[Zt].style:super.style}get classList(){return this[Zt]?this[Zt].classList:super.classList}get className(){return this[Zt]?this[Zt].className:super.className}set className(t){this[Zt]?this[Zt].className=t:super.className=t}[K3](){if(this.mountedΦ&&this[he]&&!this[he].parentNode)return this[he][pm](this.target)}mount(){for(let e=0,n=um(this[ho]),s=n.length;e<s;e++){let[r,o,a]=n[e];this.eventTarget.addEventListener(r,o,a)}let t=this.domTarget;return this[he]&&this[he][pm](t),this}unmount(){for(let t=0,e=um(this[ho]),n=e.length;t<n;t++){let[s,r,o]=e[t];this.eventTarget.removeEventListener(s,r,o)}return this[he]&&this[he][J3](this.domTarget),this[uo]=null,this}addEventListener(t,e,n={}){var s;if(e[Q3]=this,e[t8]=this,this[ho].push([t,e,n]),this.mountedΦ&&((s=this.eventTarget)==null?void 0:s.addEventListener))return this.eventTarget.addEventListener(t,e,n)}},fo=ks;(()=>{ks.prototype[fm]=_m,gm(ks,"TeleportHook"),bm(ks)})();var mo=class extends fo{get domTarget(){return this.doc.body}get eventTarget(){return this.win}addEventListener(t,e,n={}){return e[e8]=this.domTarget.parentNode,super.addEventListener(...arguments)}on$resize(t,e,n,s){return this.addEventListener("resize",n,s),n}},hc=mo;(()=>{gm(mo,"GlobalHook"),bm(mo)})();globalThis.customElements&&(globalThis.customElements.define("i-teleport",fo),globalThis.customElements.define("i-global",hc));function po(){return!0}function i8(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}function n8(i,t){let e=Object.getOwnPropertyDescriptors(t);return delete e.constructor,Object.defineProperties(i,e),i}function ym(){return!0}var fc=class{αesc(){return this.keyCode==27}αtab(){return this.keyCode==9}αenter(){return this.keyCode==13}αspace(){return this.keyCode==32}αup(){return this.keyCode==38}αdown(){return this.keyCode==40}αleft(){return this.keyCode==37}αright(){return this.keyCode==39}αdel(){return this.keyCode==8||this.keyCode==46}αkey(t){if(typeof t=="string")return this.key==t;if(typeof t=="number")return this.keyCode==t}},uc=fc;(()=>{i8(fc,"KeyboardEvent")})();n8(Rd.prototype,uc.prototype);function s8(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}function r8(i,t){let e=Object.getOwnPropertyDescriptors(t);return delete e.constructor,Object.defineProperties(i,e),i}function Tt(){return!0}var mc=class{αleft(){return this.button==0}αmiddle(){return this.button==1}αright(){return this.button==2}αshift(){return!!this.shiftKey}αalt(){return!!this.altKey}αctrl(){return!!this.ctrlKey}αmeta(){return!!this.metaKey}αmod(){let t=globalThis.navigator.platform;return/^(Mac|iPhone|iPad|iPod)/.test(t||"")?!!this.metaKey:!!this.ctrlKey}},dc=mc;(()=>{s8(mc,"MouseEvent")})();r8(Ad.prototype,dc.prototype);function go(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}function $c(i,t){let e=Object.getOwnPropertyDescriptors(t);return delete e.constructor,Object.defineProperties(i,e),i}function pc(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}var o8=Symbol.for("#extendType"),a8=Symbol.for("#modifierState"),_o=Symbol.for("#sharedModifierState"),xm=Symbol.for("#onceHandlerEnd");var _c=Symbol.for("#extendDescriptors"),qt=Symbol.for("#context"),$m=Symbol.for("#self"),l8=Symbol.for("#target"),Sm=Symbol.for("#stopPropagation"),vm=Symbol.for("#defaultPrevented"),c8=Symbol.for("#teleport");ym();Tt();var Sc=class{[o8](t){var e,n;let s=t[_c]||(t[_c]=(e=Object.getOwnPropertyDescriptors(t.prototype),n=e.constructor,delete e.constructor,e));return Object.defineProperties(this,s)}},gc=Sc;(()=>{go(Sc,"CustomEvent")})();$c(xs.prototype,gc.prototype);var vc=class{get[a8](){var t,e;return(t=this[qt])[e=this[qt].step]||(t[e]={})}get[_o](){var t,e;return(t=this[qt].handler)[e=this[qt].step]||(t[e]={})}[xm](t){return fn(this[qt],"end",t)}αsel(t){return!!this.target.matches(String(t))}αclosest(t){return!!this.target.closest(String(t))}αlog(...t){return console.info(...t),!0}αtrusted(){return!!this.isTrusted}αif(t){return!!t}αwait(t=250){return new Promise(function(e){return setTimeout(e,ds(t))})}αself(){return this.target==this[qt].element}αcooldown(t=250){let e=this[_o];return e.active?!1:(e.active=!0,e.target=this[qt].element,e.target.flags.incr("cooldown"),this[xm](function(){return setTimeout(function(){return e.target.flags.decr("cooldown"),e.active=!1},ds(t))}),!0)}αthrottle(t=250){let e=this[_o];return e.active?(e.next&&e.next(!1),new Promise(function(n){return e.next=function(s){return e.next=null,n(s)}})):(e.active=!0,e.el||(e.el=this[qt].element),e.el.flags.incr("throttled"),fn(this[qt],"end",function(){let n=ds(t);return e.interval=setInterval(function(){e.next?e.next(!0):(clearInterval(e.interval),e.el.flags.decr("throttled"),e.active=!1)},n)}),!0)}αdebounce(t=250){let e=this[_o],n=this;return e.queue||(e.queue=[]),e.queue.push(e.last=n),new Promise(function(s){return setTimeout(function(){return e.last==n?(n.debounced=e.queue,e.last=null,e.queue=[],s(!0)):s(!1)},ds(t))})}αflag(t,e){let{element:n,step:s,state:r,id:o,current:a}=this[qt],l=e instanceof Lt?e:e?n.closest(e):n;if(!l)return!0;this[qt].commit=!0,r[s]=o,l.flags.incr(t);let c=Date.now();return fn(a,"end",function(){let h=Date.now()-c,u=Math.max(250-h,0);return setTimeout(function(){return l.flags.decr(t)},u)}),!0}αbusy(t){return this.αflag("busy",t)}αoutside(){let{handler:t}=this[qt];if(t&&t[$m])return!t[$m].parentNode.contains(this.target)}},bc=vc;(()=>{go(vc,"Event")})();$c(Pi.prototype,bc.prototype);function Nt(){return!0}var wc=class{constructor(t,e){this.params=t,this.closure=e}getHandlerForMethod(t,e){return t?t[e]?t:this.getHandlerForMethod(t.parentNode,e):null}abortCurrentHandlers(){var t;if(this.currentEvents)for(let e of pc(this.currentEvents))e.aborted=!0,(t=e==null?void 0:e.resolver)==null||t.call(e,!0);return this}emit(t,...e){return Ri(this,t,e)}on(t,...e){return jr(this,t,...e)}once(t,...e){return fn(this,t,...e)}un(t,...e){return cl(this,t,...e)}get passiveΦ(){return this.params.passive}get captureΦ(){return this.params.capture}get silentΦ(){return this.params.silent}get globalΦ(){return this.params.global}async handleEvent(t){let e=this[l8]||t.currentTarget,n=this.params,s=null,r=n.silence||n.silent;this.count||(this.count=0),this.state||(this.state={});let o={element:e,event:t,modifiers:n,handler:this,id:++this.count,step:-1,state:this.state,commit:null,current:null,aborted:!1};if(o.current=o,t.handle$mod&&t.handle$mod.apply(o,n.options||[])==!1)return;let a=Pi[this.type+"$handle"]||Pi[t.type+"$handle"]||t.handle$mod||this.guard;if(!(a&&a.apply(o,n.options||[])==!1)){this.currentEvents||(this.currentEvents=new Set),this.currentEvents.add(o);for(let l=0,c=Object.keys(n),h=c.length,u,f;l<h&&(u=c[l],f=n[u],!o.aborted);l++){if(o.step++,u[0]=="_")continue;u.indexOf("~")>0&&(u=u.split("~")[0]);let d=null,m=[t,o],_,p=null,g,y=!1,x=typeof u=="string";if(u[0]=="$"&&u[1]=="_"&&f[0]instanceof Function)u=f[0],u.passive||(o.commit=!0),m=[t,o].concat(f.slice(1)),p=e;else if(f instanceof Array){m=f.slice(),d=m;for(let b=0,$=pc(m),w=$.length;b<w;b++){let v=$[b];if(typeof v=="string"&&v[0]=="~"&&v[1]=="$"){let E=v.slice(2).split("."),C=o[E.shift()]||t;for(let M=0,O=pc(E),D=O.length;M<D;M++){let I=O[M];C=C?C[I]:void 0}m[b]=C}}}if(typeof u=="string"&&(g=u.match(/^(emit|flag|mod|moved|pin|fit|refit|map|remap|css)-(.+)$/))&&(d||(d=m=[]),m.unshift(g[2]),u=g[1]),u=="trap")t[Sm]=!0,t.stopImmediatePropagation(),t[vm]=!0,t.preventDefault();else if(u=="stop")t[Sm]=!0,t.stopImmediatePropagation();else if(u=="prevent")t[vm]=!0,t.preventDefault();else if(u=="commit")o.commit=!0;else if(u=="once")e.removeEventListener(t.type,this);else{if(u=="options"||u=="silence"||u=="silent")continue;if(u=="emit"){let b=m[0],$=m[1],w=new xs(b,{bubbles:!0,detail:$});w.originalEvent=t;let S=(this[c8]||e).dispatchEvent(w)}else if(typeof u=="string"){u[0]=="!"&&(y=!0,u=u.slice(1));let b="α"+u,$=t[b];$||($=this.type&&Pi[this.type+"$"+u+"$mod"]),$||($=t[u+"$mod"]||Pi[t.type+"$"+u]||Pi[u+"$mod"]),$ instanceof Function?(u=$,p=o,m=d||[],t[b]&&(p=t,t[qt]=o)):u[0]=="_"?(u=u.slice(1),p=this.closure):p=this.getHandlerForMethod(e,u)}}try{u instanceof Function?_=u.apply(p||e,m):p&&(_=p[u].apply(p,m)),_&&_.then instanceof Function&&_!=Ft.$promise&&(o.commit&&!r&&Ft.commit(),_=await _)}catch(b){s=b;break}if(y&&_===!0||!y&&_===!1)break;o.value=_}if(Ri(o,"end",o),o.commit&&!r&&Ft.commit(),this.currentEvents.delete(o),this.currentEvents.size==0&&this.emit("idle"),s!=null){if(this.type!="error"){let l=s instanceof Error?s.message:s,c=new xs("error",{detail:l,bubbles:!0,cancelable:!0});c.error=s,c.originalEvent=t;let h=e.dispatchEvent(c);if(c.defaultPrevented)return}throw s}}}},yc=wc;(()=>{go(wc,"EventHandler")})();var kc=class{on$(t,e,n){let s="on$"+t,r;r=new yc(e,n);let o=e.capture||!1,a=e.passive,l=o;return a&&(l={passive:a,capture:o}),this[s]instanceof Function?r=this[s](e,n,r,l):this.addEventListener(t,r,l),r}on$error(t,e,n,s){var r;return(r=t.options)!=null&&r.length&&(n.guard=function(...o){let a=this.event.error;return!!o.find(function(c){return a instanceof c})}),this.addEventListener("error",n,s),n}},xc=kc;(()=>{go(kc,"Element")})();$c(Lt.prototype,xc.prototype);var bo,h8=new Uint8Array(16);function Cc(){if(!bo&&(bo=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!bo))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bo(h8)}var Et=[];for(let i=0;i<256;++i)Et.push((i+256).toString(16).slice(1));function wm(i,t=0){return(Et[i[t+0]]+Et[i[t+1]]+Et[i[t+2]]+Et[i[t+3]]+"-"+Et[i[t+4]]+Et[i[t+5]]+"-"+Et[i[t+6]]+Et[i[t+7]]+"-"+Et[i[t+8]]+Et[i[t+9]]+"-"+Et[i[t+10]]+Et[i[t+11]]+Et[i[t+12]]+Et[i[t+13]]+Et[i[t+14]]+Et[i[t+15]]).toLowerCase()}var u8=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ec={randomUUID:u8};function f8(i,t,e){if(Ec.randomUUID&&!t&&!i)return Ec.randomUUID();i=i||{};let n=i.random||(i.rng||Cc)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){e=e||0;for(let s=0;s<16;++s)t[e+s]=n[s];return t}return wm(n)}var Mc=f8;var R={current_date:new Date,new_dateΦ:!1,test:!1,menuOpenΦ:!1,menuFlipTs:0,menu:{menu_items:{}},signIn:!1,signedIn:!1,subscribe:!1,sockets:{},popUpData:{},source:{},requests:{},metrics:{},abtests:{},contents:{},dashboards:[],user:{},last_ts:{},photo:"",status:"",photo_id:"",subscriptions_on_ws:{},cardsubscriptions:{},sitekey:"",sitekey_login:!1,vipps_client_id:"...",redirect_uri:"https://yoythrest",access_token:"",google_user:{}},Cs={connection:{config:{route:"wss://y0y7h.herokuapp.com"}},commands:[{type:"login.anonymous",wsid:"config",request_type:"anonymous_login",payload:{},request_data:{server:"yoythcapture"},identity_data:{identity:"anonymous"}}],events:{get_sources:Cm,dates:xn("dates"),days:xn("days"),weeks:xn("weeks"),months:xn("months"),years:xn("years"),send_to_subscriber:yo,login_anonymous:void 0,login:Em,ping:Tc,anonymous_login:yo,ACK:yo}};function km(){return R.current_date}function d8(i,t){var e=t&&t.indexOf?t.indexOf(i):[].indexOf.call(i,t);return e>=0}function m8(){let i={};return{route:function(t,e){return console.log("roouuuuuuuuuuuuuuuu",t),i[t]=e},onMessage:function(t){if(t.message_data&&t.message_data.type){if(console.log(t.message_data.type),i[t.message_data.type])return i[t.message_data.type](t);{let e;return t.message_data.request_data&&t.message_data.request_data.request_id&&(e=R.requests[t.message_data.request_data.request_id]),e&&i[e.request_type]?i[e.request_type](t):(console.log("not defined "+t.message_data.type),console.log(R.requests),console.log(i),console.log(t),console.log(e))}}else return console.log("not a message "+t)}}}function Oc(){let i={},t=WebSocket;return{initialize:function(e){return console.log(e),i=e,i.sent=0,i.errors=0,i.waits=0,i.connects=0,i.restarted=!1,i.resend_msgs?i.restarted=!0:i.resend_msgs=[],t=new WebSocket(e.host),t.onclose=function(){return e.onStatusChange({socket:i,socket_status:"close"})},t.onopen=function(){return e.onStatusChange({socket:i,socket_status:"open"})},t.onerror=function(n){return console.log("ws error",n),console.dir(n),e.onStatusChange({socket:i,socket_status:"error",error:n})},t.onmessage=function(n){return e.onmessage(JSON.parse(n.data))},this},reinit:function(){return this.initialize(i)},sendmsg:function(e){function n(){if(i.resend&&!i.restarted&&(d8(e,i.resend_msgs)||i.resend_msgs.push(e)),t.readyState===1)try{return console.log("sending"),t.send(JSON.stringify(e)),i.sent+=1,!0}catch(s){return i.errors+=1,console.dir(s),!1}else return t.readyState===0?(i.waits+=1,i.waits<100?(console.log("waiting $"+i.host+" "+i.waits),setTimeout(function(){return n()},500)):(console.log("waited to long $"+i.host+" "),!1)):(t.onerror(function(){return i.onStatusChange({id:i.id,socketStatus:"error",readystate:t.readyState})}),!1)}if(!n())return i.onStatusChange(i.id,"error")}}}var Ms=m8();function p8(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}var Ac=class{constructor(t,e){if(this.source_id=t,this.source_data=e,this.connections={},this.metrics=[],e.connections)for(let n=e.connections,s=0,r=Object.keys(n),o=r.length,a,l;s<o;s++)a=r[s],l=n[a],this.connections[a]=l,this.connections[a].id=this.source_id+"."+a,l.method==="wss"&&$o({id:this.connections[a].id,host:l.url,resend:l.resend,reconnect:l.reconnect});if(e.metric_groups)for(let n=e.metric_groups,s=0,r=Object.keys(n),o=r.length,a,l;s<o;s++)a=r[s],l=n[a],this.metrics=this.metrics.concat(l.metrics);console.log(this.source_id,this.metrics,this.source_data)}debug(){return console.log("debug source"),console.log("source",this.source_id),console.log("data",this.source_data)}get_data(t,e){let n={},s=this.source_data.sources[t];if(!s||!s.connection)return;let r=this.connections[s.connection];if(!r)return;for(let a=r.payload,l=0,c=Object.keys(a),h=c.length,u,f;l<h;l++)u=c[l],f=a[u],u==="table"&&s.table?n.table=s.table:e[u]&&(n[u]=e[u]);let o=r.identity_data||{};return o.access_token||(o.access_token=R.access_token),console.log({type:s.type,request_type:s.request_type||t,source:this.source_id,payload:n,identity_data:o,wsid:r.wsid}),Ts({type:s.type,request_type:s.request_type||t,source:this.source_id,payload:n,identity_data:o,wsid:r.id})}},xo=Ac;(()=>{p8(Ac,"source")})();function _8(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}function So(i){let t;return i?t=i:t=new Date,t.toISOString().substring(0,10)}function g8(i){let e=new Date(i).getDay();return e===0&&(e=7),e}function Mm(i){return So(i)[{0:7}]}function b8(i){return So(i)[{0:4}]}function y8(i){let e=new Date(i).isoWeek();return e<10&&(e="0"+e),b8()+"W"+e}function x8(i,t){return typeof t[i]=="string"?t[i]:i==="dayno"?g8():i==="today"?So():i==="week"?y8():i==="month"||i==="year"?Mm():"{"+i+"}"}function fi(i,t){let e=i,n=-1;for(var s=[];;){let r=e.indexOf("{",n+1);if(r===-1||(n=e.indexOf("}",r),n===-1))return e;let o="",a="";r>0&&(o=e.substring(0,r)),n<e.length-1&&(a=e.substring(n+1)),s.push(e=o+x8(e.substring(r+1,n),t)+a)}return s}function Tm(i,t){let e=[];for(let n=0,s=_8(i),r=s.length;n<r;n++){let o=s[n],a;o.indexOf("{")==0?a=o.split("{")[1].split("}")[0]:a=o,Array.isArray(t[a])&&a.length==o.length-2?e.push(t[a]):e.push(fi(o,t))}return e}function $8(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}function S8(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}function Om(i,t){let e={};for(let n=0,s=Object.keys(i),r=s.length,o,a;n<r;n++)o=s[n],a=i[o],Array.isArray(a)?e[o]=Am(Tm(a,t)):typeof a=="string"?e[o]=fi(a,t):e[o]=a;return e}var Rc=class{constructor(t,e,n){this.ix=n,this.element_def=t,this.instancedata={...e},this.text="",this.factor,this.usefactor,this.metrics=[],this.type=this.element_def.type,this.timestamp,this.max_hour,this.max_minute=0,this.rt_ts,this.order,this.element_def.text&&(this.text=fi(this.element_def.text,this.instancedata)),this.element_def.state&&this.element_def.state.factor&&(this.factor=Om(this.element_def.state.factor,this.instancedata)),this.update_state()}update_state(){var t;let e;this.metrics=[],this.element_def.state.metric?e=[this.element_def.state.metric]:e=this.element_def.state.metrics||[],t=[];for(let n=0,s=$8(e),r=s.length;n<r;n++){let o=s[n];t.push(this.metrics.push(Om(o,this.instancedata)))}return t}flip_order(){return!this.order||this.order=="N"?this.order="C":this.order="N"}set_instance_data(t,e){return this.instancedata[t]=e,this.update_state()}notify(t){(!this.timestamp||t>this.timestamp)&&(this.timestamp=t),this.rt_ts=km;let e=Math.max(this.max_hour||0,parseInt(this.timestamp.substring(11,13)));if((typeof this.max_hour!="number"||e>this.max_hour)&&(this.max_hour=e,this.max_minute=0),this.max_minute=Math.max(this.max_minute,parseInt(this.timestamp.substring(14,16))+1),this.factor&&this.timestamp&&this.factor.hours&&this.factor.total){let n=0;if(e>0)for(let r=e,o=0,a=0,l=r-o;l>0?o<r:o>r;l>0?o++:o--,a++)this.factor.hours.observed&&(n+=this.factor.hours.observed[a].mean);let s;if(this.factor.hours.observed&&this.factor.hours.observed[e]&&(s=Math.trunc((this.factor.hours.observed[e].mean||0)*this.max_minute/60)),this.factor.total.observed&&this.factor.total.observed.mean)return this.usefactor=Math.trunc(n+s)/this.factor.total.observed.mean}}},vo=Rc;(()=>{S8(Rc,"dashboard_element")})();function Rm(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}function v8(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}var Dc=class{constructor(t,e,n){this.dashboard_type=t,this.boarddef=e,this.instancedata=n,this.elements=[],this.text=fi(this.boarddef.dashboard.text,this.instancedata),this.type=this.boarddef.dashboard.type;for(let s=0,r=Rm(this.boarddef.dashboard.dashboard_elements),o=r.length;s<o;s++){let a=r[s];this.elements.push(new vo(a,this.instancedata,s))}Pc(this,this.instancedata)}notify(t){var e;e=[];for(let n=0,s=Rm(this.elements),r=s.length;n<r;n++){let o=s[n];e.push(o.notify(t))}return e}},wo=Dc;(()=>{v8(Dc,"dashboard")})();function ko(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}function w8(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}var Fc=class{constructor(t,e){var n;this.userid=t,this.userdata=e,console.log("datadata",e);let s,r;for(let a=this.userdata.sources,l=0,c=Object.keys(a),h=c.length,u,f;l<h;l++){u=c[l],f=a[u],console.log("sourcedata",f),s=void 0,r=void 0;for(let d=f.groups,m=0,_=Object.keys(d),p=_.length,g,y;m<p;m++)if(g=_[m],y=d[g],console.log("ggggggggg",g,y),R.sitekey&&g.includes("{sitekey}")&&(s=g.replace("{sitekey}",R.sitekey),r=g),y.now&&(u==="maximinus"?Co(u,"now",{cardkey:s||g}):Co(u,"now",{cardkey:u+"#"+(s||g)})),u==="maximinus"&&!R.test)for(let x=0,b=ko(R.source[u].metrics),$=b.length;x<$;x++){let w=b[x];Co(u,"days",{start_key:(s||g)+"#"+w+"#",end_key:(s||g)+"#"+w+"#x"})}s&&(f.groups[s]=f.groups[r],n=f.groups[r],delete f.groups[r])}let o=$n(R.menu,"Dashboards",{collapsed:!0});$n(R.menu,"content",{flip:"content_test"}),$n(R.menu,"ab-test",{flip:"ab_test"});for(let a=0,l=ko(this.userdata.dashboard_profiles),c=l.length;a<c;a++){let h=l[a],u=$n(o,h.profile_name,{collapsed:!0});for(let f=0,d=ko(h.dashboards),m=d.length;f<m;f++){let _=d[f];if(R.sitekey)for(let p=0,g=ko(_.instance_parameters),y=g.length;p<y;p++){let x=g[p];for(let b=0,$=Object.keys(x),w=$.length,v,S;b<w;b++)v=$[b],S=x[v],typeof S=="string"&&(x[v]=x[v].replace("{sitekey}",R.sitekey))}Dm(u,_)}}console.log(R.menu)}new_metrics(){}},Eo=Fc;(()=>{w8(Fc,"user")})();function k8(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}var Lc=class{constructor(t){this.instancedata=t}flip_hidden(){var t=this;function e(){return t.instancedata.hidden=!t.instancedata.hidden,R.menuOpenΦ=!1}return e}get_menu_item(){return this.instancedata.hidden?{text:"Vis",click:this.flip_hidden(),icon:"unfold_more"}:{text:"Skjul",click:this.flip_hidden(),icon:"unfold_less"}}},Mo=Lc;(()=>{k8(Lc,"board_menu_item")})();var kh=Mk(tp());/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */function An(i){let t=i.length;for(;--t>=0;)i[t]=0}var sC=0,zp=1,rC=2,oC=3,aC=258,gh=29,Ws=256,Ls=Ws+1+gh,Mn=30,bh=19,Bp=2*Ls+1,Ni=15,qc=16,lC=7,yh=256,jp=16,Up=17,Vp=18,lh=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Lo=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),cC=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Hp=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),hC=512,Ue=new Array((Ls+2)*2);An(Ue);var Ps=new Array(Mn*2);An(Ps);var Ns=new Array(hC);An(Ns);var zs=new Array(aC-oC+1);An(zs);var xh=new Array(gh);An(xh);var No=new Array(Mn);An(No);function Xc(i,t,e,n,s){this.static_tree=i,this.extra_bits=t,this.extra_base=e,this.elems=n,this.max_length=s,this.has_stree=i&&i.length}var Wp,Yp,Zp;function Kc(i,t){this.dyn_tree=i,this.max_code=0,this.stat_desc=t}var qp=i=>i<256?Ns[i]:Ns[256+(i>>>7)],Bs=(i,t)=>{i.pending_buf[i.pending++]=t&255,i.pending_buf[i.pending++]=t>>>8&255},Bt=(i,t,e)=>{i.bi_valid>qc-e?(i.bi_buf|=t<<i.bi_valid&65535,Bs(i,i.bi_buf),i.bi_buf=t>>qc-i.bi_valid,i.bi_valid+=e-qc):(i.bi_buf|=t<<i.bi_valid&65535,i.bi_valid+=e)},Se=(i,t,e)=>{Bt(i,e[t*2],e[t*2+1])},Xp=(i,t)=>{let e=0;do e|=i&1,i>>>=1,e<<=1;while(--t>0);return e>>>1},uC=i=>{i.bi_valid===16?(Bs(i,i.bi_buf),i.bi_buf=0,i.bi_valid=0):i.bi_valid>=8&&(i.pending_buf[i.pending++]=i.bi_buf&255,i.bi_buf>>=8,i.bi_valid-=8)},fC=(i,t)=>{let e=t.dyn_tree,n=t.max_code,s=t.stat_desc.static_tree,r=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,l=t.stat_desc.max_length,c,h,u,f,d,m,_=0;for(f=0;f<=Ni;f++)i.bl_count[f]=0;for(e[i.heap[i.heap_max]*2+1]=0,c=i.heap_max+1;c<Bp;c++)h=i.heap[c],f=e[e[h*2+1]*2+1]+1,f>l&&(f=l,_++),e[h*2+1]=f,!(h>n)&&(i.bl_count[f]++,d=0,h>=a&&(d=o[h-a]),m=e[h*2],i.opt_len+=m*(f+d),r&&(i.static_len+=m*(s[h*2+1]+d)));if(_!==0){do{for(f=l-1;i.bl_count[f]===0;)f--;i.bl_count[f]--,i.bl_count[f+1]+=2,i.bl_count[l]--,_-=2}while(_>0);for(f=l;f!==0;f--)for(h=i.bl_count[f];h!==0;)u=i.heap[--c],!(u>n)&&(e[u*2+1]!==f&&(i.opt_len+=(f-e[u*2+1])*e[u*2],e[u*2+1]=f),h--)}},Kp=(i,t,e)=>{let n=new Array(Ni+1),s=0,r,o;for(r=1;r<=Ni;r++)s=s+e[r-1]<<1,n[r]=s;for(o=0;o<=t;o++){let a=i[o*2+1];a!==0&&(i[o*2]=Xp(n[a]++,a))}},dC=()=>{let i,t,e,n,s,r=new Array(Ni+1);for(e=0,n=0;n<gh-1;n++)for(xh[n]=e,i=0;i<1<<lh[n];i++)zs[e++]=n;for(zs[e-1]=n,s=0,n=0;n<16;n++)for(No[n]=s,i=0;i<1<<Lo[n];i++)Ns[s++]=n;for(s>>=7;n<Mn;n++)for(No[n]=s<<7,i=0;i<1<<Lo[n]-7;i++)Ns[256+s++]=n;for(t=0;t<=Ni;t++)r[t]=0;for(i=0;i<=143;)Ue[i*2+1]=8,i++,r[8]++;for(;i<=255;)Ue[i*2+1]=9,i++,r[9]++;for(;i<=279;)Ue[i*2+1]=7,i++,r[7]++;for(;i<=287;)Ue[i*2+1]=8,i++,r[8]++;for(Kp(Ue,Ls+1,r),i=0;i<Mn;i++)Ps[i*2+1]=5,Ps[i*2]=Xp(i,5);Wp=new Xc(Ue,lh,Ws+1,Ls,Ni),Yp=new Xc(Ps,Lo,0,Mn,Ni),Zp=new Xc(new Array(0),cC,0,bh,lC)},Gp=i=>{let t;for(t=0;t<Ls;t++)i.dyn_ltree[t*2]=0;for(t=0;t<Mn;t++)i.dyn_dtree[t*2]=0;for(t=0;t<bh;t++)i.bl_tree[t*2]=0;i.dyn_ltree[yh*2]=1,i.opt_len=i.static_len=0,i.sym_next=i.matches=0},Jp=i=>{i.bi_valid>8?Bs(i,i.bi_buf):i.bi_valid>0&&(i.pending_buf[i.pending++]=i.bi_buf),i.bi_buf=0,i.bi_valid=0},ep=(i,t,e,n)=>{let s=t*2,r=e*2;return i[s]<i[r]||i[s]===i[r]&&n[t]<=n[e]},Gc=(i,t,e)=>{let n=i.heap[e],s=e<<1;for(;s<=i.heap_len&&(s<i.heap_len&&ep(t,i.heap[s+1],i.heap[s],i.depth)&&s++,!ep(t,n,i.heap[s],i.depth));)i.heap[e]=i.heap[s],e=s,s<<=1;i.heap[e]=n},ip=(i,t,e)=>{let n,s,r=0,o,a;if(i.sym_next!==0)do n=i.pending_buf[i.sym_buf+r++]&255,n+=(i.pending_buf[i.sym_buf+r++]&255)<<8,s=i.pending_buf[i.sym_buf+r++],n===0?Se(i,s,t):(o=zs[s],Se(i,o+Ws+1,t),a=lh[o],a!==0&&(s-=xh[o],Bt(i,s,a)),n--,o=qp(n),Se(i,o,e),a=Lo[o],a!==0&&(n-=No[o],Bt(i,n,a)));while(r<i.sym_next);Se(i,yh,t)},ch=(i,t)=>{let e=t.dyn_tree,n=t.stat_desc.static_tree,s=t.stat_desc.has_stree,r=t.stat_desc.elems,o,a,l=-1,c;for(i.heap_len=0,i.heap_max=Bp,o=0;o<r;o++)e[o*2]!==0?(i.heap[++i.heap_len]=l=o,i.depth[o]=0):e[o*2+1]=0;for(;i.heap_len<2;)c=i.heap[++i.heap_len]=l<2?++l:0,e[c*2]=1,i.depth[c]=0,i.opt_len--,s&&(i.static_len-=n[c*2+1]);for(t.max_code=l,o=i.heap_len>>1;o>=1;o--)Gc(i,e,o);c=r;do o=i.heap[1],i.heap[1]=i.heap[i.heap_len--],Gc(i,e,1),a=i.heap[1],i.heap[--i.heap_max]=o,i.heap[--i.heap_max]=a,e[c*2]=e[o*2]+e[a*2],i.depth[c]=(i.depth[o]>=i.depth[a]?i.depth[o]:i.depth[a])+1,e[o*2+1]=e[a*2+1]=c,i.heap[1]=c++,Gc(i,e,1);while(i.heap_len>=2);i.heap[--i.heap_max]=i.heap[1],fC(i,t),Kp(e,l,i.bl_count)},np=(i,t,e)=>{let n,s=-1,r,o=t[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),t[(e+1)*2+1]=65535,n=0;n<=e;n++)r=o,o=t[(n+1)*2+1],!(++a<l&&r===o)&&(a<c?i.bl_tree[r*2]+=a:r!==0?(r!==s&&i.bl_tree[r*2]++,i.bl_tree[jp*2]++):a<=10?i.bl_tree[Up*2]++:i.bl_tree[Vp*2]++,a=0,s=r,o===0?(l=138,c=3):r===o?(l=6,c=3):(l=7,c=4))},sp=(i,t,e)=>{let n,s=-1,r,o=t[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),n=0;n<=e;n++)if(r=o,o=t[(n+1)*2+1],!(++a<l&&r===o)){if(a<c)do Se(i,r,i.bl_tree);while(--a!==0);else r!==0?(r!==s&&(Se(i,r,i.bl_tree),a--),Se(i,jp,i.bl_tree),Bt(i,a-3,2)):a<=10?(Se(i,Up,i.bl_tree),Bt(i,a-3,3)):(Se(i,Vp,i.bl_tree),Bt(i,a-11,7));a=0,s=r,o===0?(l=138,c=3):r===o?(l=6,c=3):(l=7,c=4)}},mC=i=>{let t;for(np(i,i.dyn_ltree,i.l_desc.max_code),np(i,i.dyn_dtree,i.d_desc.max_code),ch(i,i.bl_desc),t=bh-1;t>=3&&i.bl_tree[Hp[t]*2+1]===0;t--);return i.opt_len+=3*(t+1)+5+5+4,t},pC=(i,t,e,n)=>{let s;for(Bt(i,t-257,5),Bt(i,e-1,5),Bt(i,n-4,4),s=0;s<n;s++)Bt(i,i.bl_tree[Hp[s]*2+1],3);sp(i,i.dyn_ltree,t-1),sp(i,i.dyn_dtree,e-1)},_C=i=>{let t=4093624447,e;for(e=0;e<=31;e++,t>>>=1)if(t&1&&i.dyn_ltree[e*2]!==0)return 0;if(i.dyn_ltree[9*2]!==0||i.dyn_ltree[10*2]!==0||i.dyn_ltree[13*2]!==0)return 1;for(e=32;e<Ws;e++)if(i.dyn_ltree[e*2]!==0)return 1;return 0},rp=!1,gC=i=>{rp||(dC(),rp=!0),i.l_desc=new Kc(i.dyn_ltree,Wp),i.d_desc=new Kc(i.dyn_dtree,Yp),i.bl_desc=new Kc(i.bl_tree,Zp),i.bi_buf=0,i.bi_valid=0,Gp(i)},Qp=(i,t,e,n)=>{Bt(i,(sC<<1)+(n?1:0),3),Jp(i),Bs(i,e),Bs(i,~e),e&&i.pending_buf.set(i.window.subarray(t,t+e),i.pending),i.pending+=e},bC=i=>{Bt(i,zp<<1,3),Se(i,yh,Ue),uC(i)},yC=(i,t,e,n)=>{let s,r,o=0;i.level>0?(i.strm.data_type===2&&(i.strm.data_type=_C(i)),ch(i,i.l_desc),ch(i,i.d_desc),o=mC(i),s=i.opt_len+3+7>>>3,r=i.static_len+3+7>>>3,r<=s&&(s=r)):s=r=e+5,e+4<=s&&t!==-1?Qp(i,t,e,n):i.strategy===4||r===s?(Bt(i,(zp<<1)+(n?1:0),3),ip(i,Ue,Ps)):(Bt(i,(rC<<1)+(n?1:0),3),pC(i,i.l_desc.max_code+1,i.d_desc.max_code+1,o+1),ip(i,i.dyn_ltree,i.dyn_dtree)),Gp(i),n&&Jp(i)},xC=(i,t,e)=>(i.pending_buf[i.sym_buf+i.sym_next++]=t,i.pending_buf[i.sym_buf+i.sym_next++]=t>>8,i.pending_buf[i.sym_buf+i.sym_next++]=e,t===0?i.dyn_ltree[e*2]++:(i.matches++,t--,i.dyn_ltree[(zs[e]+Ws+1)*2]++,i.dyn_dtree[qp(t)*2]++),i.sym_next===i.sym_end),$C=gC,SC=Qp,vC=yC,wC=xC,kC=bC,CC={_tr_init:$C,_tr_stored_block:SC,_tr_flush_block:vC,_tr_tally:wC,_tr_align:kC},EC=(i,t,e,n)=>{let s=i&65535|0,r=i>>>16&65535|0,o=0;for(;e!==0;){o=e>2e3?2e3:e,e-=o;do s=s+t[n++]|0,r=r+s|0;while(--o);s%=65521,r%=65521}return s|r<<16|0},js=EC,MC=()=>{let i,t=[];for(var e=0;e<256;e++){i=e;for(var n=0;n<8;n++)i=i&1?3988292384^i>>>1:i>>>1;t[e]=i}return t},TC=new Uint32Array(MC()),OC=(i,t,e,n)=>{let s=TC,r=n+e;i^=-1;for(let o=n;o<r;o++)i=i>>>8^s[(i^t[o])&255];return i^-1},wt=OC,ji={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Hi={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:AC,_tr_stored_block:hh,_tr_flush_block:RC,_tr_tally:_i,_tr_align:DC}=CC,{Z_NO_FLUSH:gi,Z_PARTIAL_FLUSH:PC,Z_FULL_FLUSH:IC,Z_FINISH:re,Z_BLOCK:op,Z_OK:Mt,Z_STREAM_END:ap,Z_STREAM_ERROR:ve,Z_DATA_ERROR:FC,Z_BUF_ERROR:Jc,Z_DEFAULT_COMPRESSION:LC,Z_FILTERED:NC,Z_HUFFMAN_ONLY:Ro,Z_RLE:zC,Z_FIXED:BC,Z_DEFAULT_STRATEGY:jC,Z_UNKNOWN:UC,Z_DEFLATED:jo}=Hi,VC=9,HC=15,WC=8,YC=29,ZC=256,uh=ZC+1+YC,qC=30,XC=19,KC=2*uh+1,GC=15,K=3,pi=258,we=pi+K+1,JC=32,Tn=42,$h=57,fh=69,dh=73,mh=91,ph=103,zi=113,Rs=666,Rt=1,Rn=2,Ui=3,Dn=4,QC=3,Bi=(i,t)=>(i.msg=ji[t],t),lp=i=>i*2-(i>4?9:0),mi=i=>{let t=i.length;for(;--t>=0;)i[t]=0},tE=i=>{let t,e,n,s=i.w_size;t=i.hash_size,n=t;do e=i.head[--n],i.head[n]=e>=s?e-s:0;while(--t);t=s,n=t;do e=i.prev[--n],i.prev[n]=e>=s?e-s:0;while(--t)},eE=(i,t,e)=>(t<<i.hash_shift^e)&i.hash_mask,bi=eE,Xt=i=>{let t=i.state,e=t.pending;e>i.avail_out&&(e=i.avail_out),e!==0&&(i.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+e),i.next_out),i.next_out+=e,t.pending_out+=e,i.total_out+=e,i.avail_out-=e,t.pending-=e,t.pending===0&&(t.pending_out=0))},Kt=(i,t)=>{RC(i,i.block_start>=0?i.block_start:-1,i.strstart-i.block_start,t),i.block_start=i.strstart,Xt(i.strm)},Q=(i,t)=>{i.pending_buf[i.pending++]=t},As=(i,t)=>{i.pending_buf[i.pending++]=t>>>8&255,i.pending_buf[i.pending++]=t&255},_h=(i,t,e,n)=>{let s=i.avail_in;return s>n&&(s=n),s===0?0:(i.avail_in-=s,t.set(i.input.subarray(i.next_in,i.next_in+s),e),i.state.wrap===1?i.adler=js(i.adler,t,s,e):i.state.wrap===2&&(i.adler=wt(i.adler,t,s,e)),i.next_in+=s,i.total_in+=s,s)},t_=(i,t)=>{let e=i.max_chain_length,n=i.strstart,s,r,o=i.prev_length,a=i.nice_match,l=i.strstart>i.w_size-we?i.strstart-(i.w_size-we):0,c=i.window,h=i.w_mask,u=i.prev,f=i.strstart+pi,d=c[n+o-1],m=c[n+o];i.prev_length>=i.good_match&&(e>>=2),a>i.lookahead&&(a=i.lookahead);do if(s=t,!(c[s+o]!==m||c[s+o-1]!==d||c[s]!==c[n]||c[++s]!==c[n+1])){n+=2,s++;do;while(c[++n]===c[++s]&&c[++n]===c[++s]&&c[++n]===c[++s]&&c[++n]===c[++s]&&c[++n]===c[++s]&&c[++n]===c[++s]&&c[++n]===c[++s]&&c[++n]===c[++s]&&n<f);if(r=pi-(f-n),n=f-pi,r>o){if(i.match_start=t,o=r,r>=a)break;d=c[n+o-1],m=c[n+o]}}while((t=u[t&h])>l&&--e!==0);return o<=i.lookahead?o:i.lookahead},On=i=>{let t=i.w_size,e,n,s;do{if(n=i.window_size-i.lookahead-i.strstart,i.strstart>=t+(t-we)&&(i.window.set(i.window.subarray(t,t+t-n),0),i.match_start-=t,i.strstart-=t,i.block_start-=t,i.insert>i.strstart&&(i.insert=i.strstart),tE(i),n+=t),i.strm.avail_in===0)break;if(e=_h(i.strm,i.window,i.strstart+i.lookahead,n),i.lookahead+=e,i.lookahead+i.insert>=K)for(s=i.strstart-i.insert,i.ins_h=i.window[s],i.ins_h=bi(i,i.ins_h,i.window[s+1]);i.insert&&(i.ins_h=bi(i,i.ins_h,i.window[s+K-1]),i.prev[s&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=s,s++,i.insert--,!(i.lookahead+i.insert<K)););}while(i.lookahead<we&&i.strm.avail_in!==0)},e_=(i,t)=>{let e=i.pending_buf_size-5>i.w_size?i.w_size:i.pending_buf_size-5,n,s,r,o=0,a=i.strm.avail_in;do{if(n=65535,r=i.bi_valid+42>>3,i.strm.avail_out<r||(r=i.strm.avail_out-r,s=i.strstart-i.block_start,n>s+i.strm.avail_in&&(n=s+i.strm.avail_in),n>r&&(n=r),n<e&&(n===0&&t!==re||t===gi||n!==s+i.strm.avail_in)))break;o=t===re&&n===s+i.strm.avail_in?1:0,hh(i,0,0,o),i.pending_buf[i.pending-4]=n,i.pending_buf[i.pending-3]=n>>8,i.pending_buf[i.pending-2]=~n,i.pending_buf[i.pending-1]=~n>>8,Xt(i.strm),s&&(s>n&&(s=n),i.strm.output.set(i.window.subarray(i.block_start,i.block_start+s),i.strm.next_out),i.strm.next_out+=s,i.strm.avail_out-=s,i.strm.total_out+=s,i.block_start+=s,n-=s),n&&(_h(i.strm,i.strm.output,i.strm.next_out,n),i.strm.next_out+=n,i.strm.avail_out-=n,i.strm.total_out+=n)}while(o===0);return a-=i.strm.avail_in,a&&(a>=i.w_size?(i.matches=2,i.window.set(i.strm.input.subarray(i.strm.next_in-i.w_size,i.strm.next_in),0),i.strstart=i.w_size,i.insert=i.strstart):(i.window_size-i.strstart<=a&&(i.strstart-=i.w_size,i.window.set(i.window.subarray(i.w_size,i.w_size+i.strstart),0),i.matches<2&&i.matches++,i.insert>i.strstart&&(i.insert=i.strstart)),i.window.set(i.strm.input.subarray(i.strm.next_in-a,i.strm.next_in),i.strstart),i.strstart+=a,i.insert+=a>i.w_size-i.insert?i.w_size-i.insert:a),i.block_start=i.strstart),i.high_water<i.strstart&&(i.high_water=i.strstart),o?Dn:t!==gi&&t!==re&&i.strm.avail_in===0&&i.strstart===i.block_start?Rn:(r=i.window_size-i.strstart,i.strm.avail_in>r&&i.block_start>=i.w_size&&(i.block_start-=i.w_size,i.strstart-=i.w_size,i.window.set(i.window.subarray(i.w_size,i.w_size+i.strstart),0),i.matches<2&&i.matches++,r+=i.w_size,i.insert>i.strstart&&(i.insert=i.strstart)),r>i.strm.avail_in&&(r=i.strm.avail_in),r&&(_h(i.strm,i.window,i.strstart,r),i.strstart+=r,i.insert+=r>i.w_size-i.insert?i.w_size-i.insert:r),i.high_water<i.strstart&&(i.high_water=i.strstart),r=i.bi_valid+42>>3,r=i.pending_buf_size-r>65535?65535:i.pending_buf_size-r,e=r>i.w_size?i.w_size:r,s=i.strstart-i.block_start,(s>=e||(s||t===re)&&t!==gi&&i.strm.avail_in===0&&s<=r)&&(n=s>r?r:s,o=t===re&&i.strm.avail_in===0&&n===s?1:0,hh(i,i.block_start,n,o),i.block_start+=n,Xt(i.strm)),o?Ui:Rt)},Qc=(i,t)=>{let e,n;for(;;){if(i.lookahead<we){if(On(i),i.lookahead<we&&t===gi)return Rt;if(i.lookahead===0)break}if(e=0,i.lookahead>=K&&(i.ins_h=bi(i,i.ins_h,i.window[i.strstart+K-1]),e=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),e!==0&&i.strstart-e<=i.w_size-we&&(i.match_length=t_(i,e)),i.match_length>=K)if(n=_i(i,i.strstart-i.match_start,i.match_length-K),i.lookahead-=i.match_length,i.match_length<=i.max_lazy_match&&i.lookahead>=K){i.match_length--;do i.strstart++,i.ins_h=bi(i,i.ins_h,i.window[i.strstart+K-1]),e=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart;while(--i.match_length!==0);i.strstart++}else i.strstart+=i.match_length,i.match_length=0,i.ins_h=i.window[i.strstart],i.ins_h=bi(i,i.ins_h,i.window[i.strstart+1]);else n=_i(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++;if(n&&(Kt(i,!1),i.strm.avail_out===0))return Rt}return i.insert=i.strstart<K-1?i.strstart:K-1,t===re?(Kt(i,!0),i.strm.avail_out===0?Ui:Dn):i.sym_next&&(Kt(i,!1),i.strm.avail_out===0)?Rt:Rn},Cn=(i,t)=>{let e,n,s;for(;;){if(i.lookahead<we){if(On(i),i.lookahead<we&&t===gi)return Rt;if(i.lookahead===0)break}if(e=0,i.lookahead>=K&&(i.ins_h=bi(i,i.ins_h,i.window[i.strstart+K-1]),e=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),i.prev_length=i.match_length,i.prev_match=i.match_start,i.match_length=K-1,e!==0&&i.prev_length<i.max_lazy_match&&i.strstart-e<=i.w_size-we&&(i.match_length=t_(i,e),i.match_length<=5&&(i.strategy===NC||i.match_length===K&&i.strstart-i.match_start>4096)&&(i.match_length=K-1)),i.prev_length>=K&&i.match_length<=i.prev_length){s=i.strstart+i.lookahead-K,n=_i(i,i.strstart-1-i.prev_match,i.prev_length-K),i.lookahead-=i.prev_length-1,i.prev_length-=2;do++i.strstart<=s&&(i.ins_h=bi(i,i.ins_h,i.window[i.strstart+K-1]),e=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart);while(--i.prev_length!==0);if(i.match_available=0,i.match_length=K-1,i.strstart++,n&&(Kt(i,!1),i.strm.avail_out===0))return Rt}else if(i.match_available){if(n=_i(i,0,i.window[i.strstart-1]),n&&Kt(i,!1),i.strstart++,i.lookahead--,i.strm.avail_out===0)return Rt}else i.match_available=1,i.strstart++,i.lookahead--}return i.match_available&&(n=_i(i,0,i.window[i.strstart-1]),i.match_available=0),i.insert=i.strstart<K-1?i.strstart:K-1,t===re?(Kt(i,!0),i.strm.avail_out===0?Ui:Dn):i.sym_next&&(Kt(i,!1),i.strm.avail_out===0)?Rt:Rn},iE=(i,t)=>{let e,n,s,r,o=i.window;for(;;){if(i.lookahead<=pi){if(On(i),i.lookahead<=pi&&t===gi)return Rt;if(i.lookahead===0)break}if(i.match_length=0,i.lookahead>=K&&i.strstart>0&&(s=i.strstart-1,n=o[s],n===o[++s]&&n===o[++s]&&n===o[++s])){r=i.strstart+pi;do;while(n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&s<r);i.match_length=pi-(r-s),i.match_length>i.lookahead&&(i.match_length=i.lookahead)}if(i.match_length>=K?(e=_i(i,1,i.match_length-K),i.lookahead-=i.match_length,i.strstart+=i.match_length,i.match_length=0):(e=_i(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++),e&&(Kt(i,!1),i.strm.avail_out===0))return Rt}return i.insert=0,t===re?(Kt(i,!0),i.strm.avail_out===0?Ui:Dn):i.sym_next&&(Kt(i,!1),i.strm.avail_out===0)?Rt:Rn},nE=(i,t)=>{let e;for(;;){if(i.lookahead===0&&(On(i),i.lookahead===0)){if(t===gi)return Rt;break}if(i.match_length=0,e=_i(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++,e&&(Kt(i,!1),i.strm.avail_out===0))return Rt}return i.insert=0,t===re?(Kt(i,!0),i.strm.avail_out===0?Ui:Dn):i.sym_next&&(Kt(i,!1),i.strm.avail_out===0)?Rt:Rn};function $e(i,t,e,n,s){this.good_length=i,this.max_lazy=t,this.nice_length=e,this.max_chain=n,this.func=s}var Ds=[new $e(0,0,0,0,e_),new $e(4,4,8,4,Qc),new $e(4,5,16,8,Qc),new $e(4,6,32,32,Qc),new $e(4,4,16,16,Cn),new $e(8,16,32,32,Cn),new $e(8,16,128,128,Cn),new $e(8,32,128,256,Cn),new $e(32,128,258,1024,Cn),new $e(32,258,258,4096,Cn)],sE=i=>{i.window_size=2*i.w_size,mi(i.head),i.max_lazy_match=Ds[i.level].max_lazy,i.good_match=Ds[i.level].good_length,i.nice_match=Ds[i.level].nice_length,i.max_chain_length=Ds[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=K-1,i.match_available=0,i.ins_h=0};function rE(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=jo,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(KC*2),this.dyn_dtree=new Uint16Array((2*qC+1)*2),this.bl_tree=new Uint16Array((2*XC+1)*2),mi(this.dyn_ltree),mi(this.dyn_dtree),mi(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(GC+1),this.heap=new Uint16Array(2*uh+1),mi(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*uh+1),mi(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Ys=i=>{if(!i)return 1;let t=i.state;return!t||t.strm!==i||t.status!==Tn&&t.status!==$h&&t.status!==fh&&t.status!==dh&&t.status!==mh&&t.status!==ph&&t.status!==zi&&t.status!==Rs?1:0},i_=i=>{if(Ys(i))return Bi(i,ve);i.total_in=i.total_out=0,i.data_type=UC;let t=i.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?$h:t.wrap?Tn:zi,i.adler=t.wrap===2?0:1,t.last_flush=-2,AC(t),Mt},n_=i=>{let t=i_(i);return t===Mt&&sE(i.state),t},oE=(i,t)=>Ys(i)||i.state.wrap!==2?ve:(i.state.gzhead=t,Mt),s_=(i,t,e,n,s,r)=>{if(!i)return ve;let o=1;if(t===LC&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),s<1||s>VC||e!==jo||n<8||n>15||t<0||t>9||r<0||r>BC||n===8&&o!==1)return Bi(i,ve);n===8&&(n=9);let a=new rE;return i.state=a,a.strm=i,a.status=Tn,a.wrap=o,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=s+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+K-1)/K),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<s+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=r,a.method=e,n_(i)},aE=(i,t)=>s_(i,t,jo,HC,WC,jC),lE=(i,t)=>{if(Ys(i)||t>op||t<0)return i?Bi(i,ve):ve;let e=i.state;if(!i.output||i.avail_in!==0&&!i.input||e.status===Rs&&t!==re)return Bi(i,i.avail_out===0?Jc:ve);let n=e.last_flush;if(e.last_flush=t,e.pending!==0){if(Xt(i),i.avail_out===0)return e.last_flush=-1,Mt}else if(i.avail_in===0&&lp(t)<=lp(n)&&t!==re)return Bi(i,Jc);if(e.status===Rs&&i.avail_in!==0)return Bi(i,Jc);if(e.status===Tn&&e.wrap===0&&(e.status=zi),e.status===Tn){let s=jo+(e.w_bits-8<<4)<<8,r=-1;if(e.strategy>=Ro||e.level<2?r=0:e.level<6?r=1:e.level===6?r=2:r=3,s|=r<<6,e.strstart!==0&&(s|=JC),s+=31-s%31,As(e,s),e.strstart!==0&&(As(e,i.adler>>>16),As(e,i.adler&65535)),i.adler=1,e.status=zi,Xt(i),e.pending!==0)return e.last_flush=-1,Mt}if(e.status===$h){if(i.adler=0,Q(e,31),Q(e,139),Q(e,8),e.gzhead)Q(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),Q(e,e.gzhead.time&255),Q(e,e.gzhead.time>>8&255),Q(e,e.gzhead.time>>16&255),Q(e,e.gzhead.time>>24&255),Q(e,e.level===9?2:e.strategy>=Ro||e.level<2?4:0),Q(e,e.gzhead.os&255),e.gzhead.extra&&e.gzhead.extra.length&&(Q(e,e.gzhead.extra.length&255),Q(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(i.adler=wt(i.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=fh;else if(Q(e,0),Q(e,0),Q(e,0),Q(e,0),Q(e,0),Q(e,e.level===9?2:e.strategy>=Ro||e.level<2?4:0),Q(e,QC),e.status=zi,Xt(i),e.pending!==0)return e.last_flush=-1,Mt}if(e.status===fh){if(e.gzhead.extra){let s=e.pending,r=(e.gzhead.extra.length&65535)-e.gzindex;for(;e.pending+r>e.pending_buf_size;){let a=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+a),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>s&&(i.adler=wt(i.adler,e.pending_buf,e.pending-s,s)),e.gzindex+=a,Xt(i),e.pending!==0)return e.last_flush=-1,Mt;s=0,r-=a}let o=new Uint8Array(e.gzhead.extra);e.pending_buf.set(o.subarray(e.gzindex,e.gzindex+r),e.pending),e.pending+=r,e.gzhead.hcrc&&e.pending>s&&(i.adler=wt(i.adler,e.pending_buf,e.pending-s,s)),e.gzindex=0}e.status=dh}if(e.status===dh){if(e.gzhead.name){let s=e.pending,r;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>s&&(i.adler=wt(i.adler,e.pending_buf,e.pending-s,s)),Xt(i),e.pending!==0)return e.last_flush=-1,Mt;s=0}e.gzindex<e.gzhead.name.length?r=e.gzhead.name.charCodeAt(e.gzindex++)&255:r=0,Q(e,r)}while(r!==0);e.gzhead.hcrc&&e.pending>s&&(i.adler=wt(i.adler,e.pending_buf,e.pending-s,s)),e.gzindex=0}e.status=mh}if(e.status===mh){if(e.gzhead.comment){let s=e.pending,r;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>s&&(i.adler=wt(i.adler,e.pending_buf,e.pending-s,s)),Xt(i),e.pending!==0)return e.last_flush=-1,Mt;s=0}e.gzindex<e.gzhead.comment.length?r=e.gzhead.comment.charCodeAt(e.gzindex++)&255:r=0,Q(e,r)}while(r!==0);e.gzhead.hcrc&&e.pending>s&&(i.adler=wt(i.adler,e.pending_buf,e.pending-s,s))}e.status=ph}if(e.status===ph){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(Xt(i),e.pending!==0))return e.last_flush=-1,Mt;Q(e,i.adler&255),Q(e,i.adler>>8&255),i.adler=0}if(e.status=zi,Xt(i),e.pending!==0)return e.last_flush=-1,Mt}if(i.avail_in!==0||e.lookahead!==0||t!==gi&&e.status!==Rs){let s=e.level===0?e_(e,t):e.strategy===Ro?nE(e,t):e.strategy===zC?iE(e,t):Ds[e.level].func(e,t);if((s===Ui||s===Dn)&&(e.status=Rs),s===Rt||s===Ui)return i.avail_out===0&&(e.last_flush=-1),Mt;if(s===Rn&&(t===PC?DC(e):t!==op&&(hh(e,0,0,!1),t===IC&&(mi(e.head),e.lookahead===0&&(e.strstart=0,e.block_start=0,e.insert=0))),Xt(i),i.avail_out===0))return e.last_flush=-1,Mt}return t!==re?Mt:e.wrap<=0?ap:(e.wrap===2?(Q(e,i.adler&255),Q(e,i.adler>>8&255),Q(e,i.adler>>16&255),Q(e,i.adler>>24&255),Q(e,i.total_in&255),Q(e,i.total_in>>8&255),Q(e,i.total_in>>16&255),Q(e,i.total_in>>24&255)):(As(e,i.adler>>>16),As(e,i.adler&65535)),Xt(i),e.wrap>0&&(e.wrap=-e.wrap),e.pending!==0?Mt:ap)},cE=i=>{if(Ys(i))return ve;let t=i.state.status;return i.state=null,t===zi?Bi(i,FC):Mt},hE=(i,t)=>{let e=t.length;if(Ys(i))return ve;let n=i.state,s=n.wrap;if(s===2||s===1&&n.status!==Tn||n.lookahead)return ve;if(s===1&&(i.adler=js(i.adler,t,e,0)),n.wrap=0,e>=n.w_size){s===0&&(mi(n.head),n.strstart=0,n.block_start=0,n.insert=0);let l=new Uint8Array(n.w_size);l.set(t.subarray(e-n.w_size,e),0),t=l,e=n.w_size}let r=i.avail_in,o=i.next_in,a=i.input;for(i.avail_in=e,i.next_in=0,i.input=t,On(n);n.lookahead>=K;){let l=n.strstart,c=n.lookahead-(K-1);do n.ins_h=bi(n,n.ins_h,n.window[l+K-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++;while(--c);n.strstart=l,n.lookahead=K-1,On(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=K-1,n.match_available=0,i.next_in=o,i.input=a,i.avail_in=r,n.wrap=s,Mt},uE=aE,fE=s_,dE=n_,mE=i_,pE=oE,_E=lE,gE=cE,bE=hE,yE="pako deflate (from Nodeca project)",Is={deflateInit:uE,deflateInit2:fE,deflateReset:dE,deflateResetKeep:mE,deflateSetHeader:pE,deflate:_E,deflateEnd:gE,deflateSetDictionary:bE,deflateInfo:yE},xE=(i,t)=>Object.prototype.hasOwnProperty.call(i,t),$E=function(i){let t=Array.prototype.slice.call(arguments,1);for(;t.length;){let e=t.shift();if(!!e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(let n in e)xE(e,n)&&(i[n]=e[n])}}return i},SE=i=>{let t=0;for(let n=0,s=i.length;n<s;n++)t+=i[n].length;let e=new Uint8Array(t);for(let n=0,s=0,r=i.length;n<r;n++){let o=i[n];e.set(o,s),s+=o.length}return e},Uo={assign:$E,flattenChunks:SE},r_=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r_=!1}var Us=new Uint8Array(256);for(let i=0;i<256;i++)Us[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;Us[254]=Us[254]=1;var vE=i=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(i);let t,e,n,s,r,o=i.length,a=0;for(s=0;s<o;s++)e=i.charCodeAt(s),(e&64512)===55296&&s+1<o&&(n=i.charCodeAt(s+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),s++)),a+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(a),r=0,s=0;r<a;s++)e=i.charCodeAt(s),(e&64512)===55296&&s+1<o&&(n=i.charCodeAt(s+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),s++)),e<128?t[r++]=e:e<2048?(t[r++]=192|e>>>6,t[r++]=128|e&63):e<65536?(t[r++]=224|e>>>12,t[r++]=128|e>>>6&63,t[r++]=128|e&63):(t[r++]=240|e>>>18,t[r++]=128|e>>>12&63,t[r++]=128|e>>>6&63,t[r++]=128|e&63);return t},wE=(i,t)=>{if(t<65534&&i.subarray&&r_)return String.fromCharCode.apply(null,i.length===t?i:i.subarray(0,t));let e="";for(let n=0;n<t;n++)e+=String.fromCharCode(i[n]);return e},kE=(i,t)=>{let e=t||i.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(i.subarray(0,t));let n,s,r=new Array(e*2);for(s=0,n=0;n<e;){let o=i[n++];if(o<128){r[s++]=o;continue}let a=Us[o];if(a>4){r[s++]=65533,n+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&n<e;)o=o<<6|i[n++]&63,a--;if(a>1){r[s++]=65533;continue}o<65536?r[s++]=o:(o-=65536,r[s++]=55296|o>>10&1023,r[s++]=56320|o&1023)}return wE(r,s)},CE=(i,t)=>{t=t||i.length,t>i.length&&(t=i.length);let e=t-1;for(;e>=0&&(i[e]&192)===128;)e--;return e<0||e===0?t:e+Us[i[e]]>t?e:t},Vs={string2buf:vE,buf2string:kE,utf8border:CE};function EE(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var o_=EE,a_=Object.prototype.toString,{Z_NO_FLUSH:ME,Z_SYNC_FLUSH:TE,Z_FULL_FLUSH:OE,Z_FINISH:AE,Z_OK:zo,Z_STREAM_END:RE,Z_DEFAULT_COMPRESSION:DE,Z_DEFAULT_STRATEGY:PE,Z_DEFLATED:IE}=Hi;function Zs(i){this.options=Uo.assign({level:DE,method:IE,chunkSize:16384,windowBits:15,memLevel:8,strategy:PE},i||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o_,this.strm.avail_out=0;let e=Is.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(e!==zo)throw new Error(ji[e]);if(t.header&&Is.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=Vs.string2buf(t.dictionary):a_.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,e=Is.deflateSetDictionary(this.strm,n),e!==zo)throw new Error(ji[e]);this._dict_set=!0}}Zs.prototype.push=function(i,t){let e=this.strm,n=this.options.chunkSize,s,r;if(this.ended)return!1;for(t===~~t?r=t:r=t===!0?AE:ME,typeof i=="string"?e.input=Vs.string2buf(i):a_.call(i)==="[object ArrayBuffer]"?e.input=new Uint8Array(i):e.input=i,e.next_in=0,e.avail_in=e.input.length;;){if(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),(r===TE||r===OE)&&e.avail_out<=6){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(s=Is.deflate(e,r),s===RE)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),s=Is.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===zo;if(e.avail_out===0){this.onData(e.output);continue}if(r>0&&e.next_out>0){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(e.avail_in===0)break}return!0};Zs.prototype.onData=function(i){this.chunks.push(i)};Zs.prototype.onEnd=function(i){i===zo&&(this.result=Uo.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};function Sh(i,t){let e=new Zs(t);if(e.push(i,!0),e.err)throw e.msg||ji[e.err];return e.result}function FE(i,t){return t=t||{},t.raw=!0,Sh(i,t)}function LE(i,t){return t=t||{},t.gzip=!0,Sh(i,t)}var NE=Zs,zE=Sh,BE=FE,jE=LE,UE=Hi,VE={Deflate:NE,deflate:zE,deflateRaw:BE,gzip:jE,constants:UE},Do=16209,HE=16191,WE=function(t,e){let n,s,r,o,a,l,c,h,u,f,d,m,_,p,g,y,x,b,$,w,v,S,E,C,M=t.state;n=t.next_in,E=t.input,s=n+(t.avail_in-5),r=t.next_out,C=t.output,o=r-(e-t.avail_out),a=r+(t.avail_out-257),l=M.dmax,c=M.wsize,h=M.whave,u=M.wnext,f=M.window,d=M.hold,m=M.bits,_=M.lencode,p=M.distcode,g=(1<<M.lenbits)-1,y=(1<<M.distbits)-1;t:do{m<15&&(d+=E[n++]<<m,m+=8,d+=E[n++]<<m,m+=8),x=_[d&g];e:for(;;){if(b=x>>>24,d>>>=b,m-=b,b=x>>>16&255,b===0)C[r++]=x&65535;else if(b&16){$=x&65535,b&=15,b&&(m<b&&(d+=E[n++]<<m,m+=8),$+=d&(1<<b)-1,d>>>=b,m-=b),m<15&&(d+=E[n++]<<m,m+=8,d+=E[n++]<<m,m+=8),x=p[d&y];i:for(;;){if(b=x>>>24,d>>>=b,m-=b,b=x>>>16&255,b&16){if(w=x&65535,b&=15,m<b&&(d+=E[n++]<<m,m+=8,m<b&&(d+=E[n++]<<m,m+=8)),w+=d&(1<<b)-1,w>l){t.msg="invalid distance too far back",M.mode=Do;break t}if(d>>>=b,m-=b,b=r-o,w>b){if(b=w-b,b>h&&M.sane){t.msg="invalid distance too far back",M.mode=Do;break t}if(v=0,S=f,u===0){if(v+=c-b,b<$){$-=b;do C[r++]=f[v++];while(--b);v=r-w,S=C}}else if(u<b){if(v+=c+u-b,b-=u,b<$){$-=b;do C[r++]=f[v++];while(--b);if(v=0,u<$){b=u,$-=b;do C[r++]=f[v++];while(--b);v=r-w,S=C}}}else if(v+=u-b,b<$){$-=b;do C[r++]=f[v++];while(--b);v=r-w,S=C}for(;$>2;)C[r++]=S[v++],C[r++]=S[v++],C[r++]=S[v++],$-=3;$&&(C[r++]=S[v++],$>1&&(C[r++]=S[v++]))}else{v=r-w;do C[r++]=C[v++],C[r++]=C[v++],C[r++]=C[v++],$-=3;while($>2);$&&(C[r++]=C[v++],$>1&&(C[r++]=C[v++]))}}else if((b&64)===0){x=p[(x&65535)+(d&(1<<b)-1)];continue i}else{t.msg="invalid distance code",M.mode=Do;break t}break}}else if((b&64)===0){x=_[(x&65535)+(d&(1<<b)-1)];continue e}else if(b&32){M.mode=HE;break t}else{t.msg="invalid literal/length code",M.mode=Do;break t}break}}while(n<s&&r<a);$=m>>3,n-=$,m-=$<<3,d&=(1<<m)-1,t.next_in=n,t.next_out=r,t.avail_in=n<s?5+(s-n):5-(n-s),t.avail_out=r<a?257+(a-r):257-(r-a),M.hold=d,M.bits=m},En=15,cp=852,hp=592,up=0,th=1,fp=2,YE=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ZE=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),qE=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),XE=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),KE=(i,t,e,n,s,r,o,a)=>{let l=a.bits,c=0,h=0,u=0,f=0,d=0,m=0,_=0,p=0,g=0,y=0,x,b,$,w,v,S=null,E,C=new Uint16Array(En+1),M=new Uint16Array(En+1),O=null,D,I,A;for(c=0;c<=En;c++)C[c]=0;for(h=0;h<n;h++)C[t[e+h]]++;for(d=l,f=En;f>=1&&C[f]===0;f--);if(d>f&&(d=f),f===0)return s[r++]=1<<24|64<<16|0,s[r++]=1<<24|64<<16|0,a.bits=1,0;for(u=1;u<f&&C[u]===0;u++);for(d<u&&(d=u),p=1,c=1;c<=En;c++)if(p<<=1,p-=C[c],p<0)return-1;if(p>0&&(i===up||f!==1))return-1;for(M[1]=0,c=1;c<En;c++)M[c+1]=M[c]+C[c];for(h=0;h<n;h++)t[e+h]!==0&&(o[M[t[e+h]]++]=h);if(i===up?(S=O=o,E=20):i===th?(S=YE,O=ZE,E=257):(S=qE,O=XE,E=0),y=0,h=0,c=u,v=r,m=d,_=0,$=-1,g=1<<d,w=g-1,i===th&&g>cp||i===fp&&g>hp)return 1;for(;;){D=c-_,o[h]+1<E?(I=0,A=o[h]):o[h]>=E?(I=O[o[h]-E],A=S[o[h]-E]):(I=32+64,A=0),x=1<<c-_,b=1<<m,u=b;do b-=x,s[v+(y>>_)+b]=D<<24|I<<16|A|0;while(b!==0);for(x=1<<c-1;y&x;)x>>=1;if(x!==0?(y&=x-1,y+=x):y=0,h++,--C[c]===0){if(c===f)break;c=t[e+o[h]]}if(c>d&&(y&w)!==$){for(_===0&&(_=d),v+=u,m=c-_,p=1<<m;m+_<f&&(p-=C[m+_],!(p<=0));)m++,p<<=1;if(g+=1<<m,i===th&&g>cp||i===fp&&g>hp)return 1;$=y&w,s[$]=d<<24|m<<16|v-r|0}}return y!==0&&(s[v+y]=c-_<<24|64<<16|0),a.bits=d,0},Fs=KE,GE=0,l_=1,c_=2,{Z_FINISH:dp,Z_BLOCK:JE,Z_TREES:Po,Z_OK:Vi,Z_STREAM_END:QE,Z_NEED_DICT:t4,Z_STREAM_ERROR:oe,Z_DATA_ERROR:h_,Z_MEM_ERROR:u_,Z_BUF_ERROR:e4,Z_DEFLATED:mp}=Hi,Vo=16180,pp=16181,_p=16182,gp=16183,bp=16184,yp=16185,xp=16186,$p=16187,Sp=16188,vp=16189,Bo=16190,je=16191,eh=16192,wp=16193,ih=16194,kp=16195,Cp=16196,Ep=16197,Mp=16198,Io=16199,Fo=16200,Tp=16201,Op=16202,Ap=16203,Rp=16204,Dp=16205,nh=16206,Pp=16207,Ip=16208,ft=16209,f_=16210,d_=16211,i4=852,n4=592,s4=15,r4=s4,Fp=i=>(i>>>24&255)+(i>>>8&65280)+((i&65280)<<8)+((i&255)<<24);function o4(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Wi=i=>{if(!i)return 1;let t=i.state;return!t||t.strm!==i||t.mode<Vo||t.mode>d_?1:0},m_=i=>{if(Wi(i))return oe;let t=i.state;return i.total_in=i.total_out=t.total=0,i.msg="",t.wrap&&(i.adler=t.wrap&1),t.mode=Vo,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(i4),t.distcode=t.distdyn=new Int32Array(n4),t.sane=1,t.back=-1,Vi},p_=i=>{if(Wi(i))return oe;let t=i.state;return t.wsize=0,t.whave=0,t.wnext=0,m_(i)},__=(i,t)=>{let e;if(Wi(i))return oe;let n=i.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?oe:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=e,n.wbits=t,p_(i))},g_=(i,t)=>{if(!i)return oe;let e=new o4;i.state=e,e.strm=i,e.window=null,e.mode=Vo;let n=__(i,t);return n!==Vi&&(i.state=null),n},a4=i=>g_(i,r4),Lp=!0,sh,rh,l4=i=>{if(Lp){sh=new Int32Array(512),rh=new Int32Array(32);let t=0;for(;t<144;)i.lens[t++]=8;for(;t<256;)i.lens[t++]=9;for(;t<280;)i.lens[t++]=7;for(;t<288;)i.lens[t++]=8;for(Fs(l_,i.lens,0,288,sh,0,i.work,{bits:9}),t=0;t<32;)i.lens[t++]=5;Fs(c_,i.lens,0,32,rh,0,i.work,{bits:5}),Lp=!1}i.lencode=sh,i.lenbits=9,i.distcode=rh,i.distbits=5},b_=(i,t,e,n)=>{let s,r=i.state;return r.window===null&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),n>=r.wsize?(r.window.set(t.subarray(e-r.wsize,e),0),r.wnext=0,r.whave=r.wsize):(s=r.wsize-r.wnext,s>n&&(s=n),r.window.set(t.subarray(e-n,e-n+s),r.wnext),n-=s,n?(r.window.set(t.subarray(e-n,e),0),r.wnext=n,r.whave=r.wsize):(r.wnext+=s,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=s))),0},c4=(i,t)=>{let e,n,s,r,o,a,l,c,h,u,f,d,m,_,p=0,g,y,x,b,$,w,v,S,E=new Uint8Array(4),C,M,O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Wi(i)||!i.output||!i.input&&i.avail_in!==0)return oe;e=i.state,e.mode===je&&(e.mode=eh),o=i.next_out,s=i.output,l=i.avail_out,r=i.next_in,n=i.input,a=i.avail_in,c=e.hold,h=e.bits,u=a,f=l,S=Vi;t:for(;;)switch(e.mode){case Vo:if(e.wrap===0){e.mode=eh;break}for(;h<16;){if(a===0)break t;a--,c+=n[r++]<<h,h+=8}if(e.wrap&2&&c===35615){e.wbits===0&&(e.wbits=15),e.check=0,E[0]=c&255,E[1]=c>>>8&255,e.check=wt(e.check,E,2,0),c=0,h=0,e.mode=pp;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((c&255)<<8)+(c>>8))%31){i.msg="incorrect header check",e.mode=ft;break}if((c&15)!==mp){i.msg="unknown compression method",e.mode=ft;break}if(c>>>=4,h-=4,v=(c&15)+8,e.wbits===0&&(e.wbits=v),v>15||v>e.wbits){i.msg="invalid window size",e.mode=ft;break}e.dmax=1<<e.wbits,e.flags=0,i.adler=e.check=1,e.mode=c&512?vp:je,c=0,h=0;break;case pp:for(;h<16;){if(a===0)break t;a--,c+=n[r++]<<h,h+=8}if(e.flags=c,(e.flags&255)!==mp){i.msg="unknown compression method",e.mode=ft;break}if(e.flags&57344){i.msg="unknown header flags set",e.mode=ft;break}e.head&&(e.head.text=c>>8&1),e.flags&512&&e.wrap&4&&(E[0]=c&255,E[1]=c>>>8&255,e.check=wt(e.check,E,2,0)),c=0,h=0,e.mode=_p;case _p:for(;h<32;){if(a===0)break t;a--,c+=n[r++]<<h,h+=8}e.head&&(e.head.time=c),e.flags&512&&e.wrap&4&&(E[0]=c&255,E[1]=c>>>8&255,E[2]=c>>>16&255,E[3]=c>>>24&255,e.check=wt(e.check,E,4,0)),c=0,h=0,e.mode=gp;case gp:for(;h<16;){if(a===0)break t;a--,c+=n[r++]<<h,h+=8}e.head&&(e.head.xflags=c&255,e.head.os=c>>8),e.flags&512&&e.wrap&4&&(E[0]=c&255,E[1]=c>>>8&255,e.check=wt(e.check,E,2,0)),c=0,h=0,e.mode=bp;case bp:if(e.flags&1024){for(;h<16;){if(a===0)break t;a--,c+=n[r++]<<h,h+=8}e.length=c,e.head&&(e.head.extra_len=c),e.flags&512&&e.wrap&4&&(E[0]=c&255,E[1]=c>>>8&255,e.check=wt(e.check,E,2,0)),c=0,h=0}else e.head&&(e.head.extra=null);e.mode=yp;case yp:if(e.flags&1024&&(d=e.length,d>a&&(d=a),d&&(e.head&&(v=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(n.subarray(r,r+d),v)),e.flags&512&&e.wrap&4&&(e.check=wt(e.check,n,d,r)),a-=d,r+=d,e.length-=d),e.length))break t;e.length=0,e.mode=xp;case xp:if(e.flags&2048){if(a===0)break t;d=0;do v=n[r+d++],e.head&&v&&e.length<65536&&(e.head.name+=String.fromCharCode(v));while(v&&d<a);if(e.flags&512&&e.wrap&4&&(e.check=wt(e.check,n,d,r)),a-=d,r+=d,v)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=$p;case $p:if(e.flags&4096){if(a===0)break t;d=0;do v=n[r+d++],e.head&&v&&e.length<65536&&(e.head.comment+=String.fromCharCode(v));while(v&&d<a);if(e.flags&512&&e.wrap&4&&(e.check=wt(e.check,n,d,r)),a-=d,r+=d,v)break t}else e.head&&(e.head.comment=null);e.mode=Sp;case Sp:if(e.flags&512){for(;h<16;){if(a===0)break t;a--,c+=n[r++]<<h,h+=8}if(e.wrap&4&&c!==(e.check&65535)){i.msg="header crc mismatch",e.mode=ft;break}c=0,h=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),i.adler=e.check=0,e.mode=je;break;case vp:for(;h<32;){if(a===0)break t;a--,c+=n[r++]<<h,h+=8}i.adler=e.check=Fp(c),c=0,h=0,e.mode=Bo;case Bo:if(e.havedict===0)return i.next_out=o,i.avail_out=l,i.next_in=r,i.avail_in=a,e.hold=c,e.bits=h,t4;i.adler=e.check=1,e.mode=je;case je:if(t===JE||t===Po)break t;case eh:if(e.last){c>>>=h&7,h-=h&7,e.mode=nh;break}for(;h<3;){if(a===0)break t;a--,c+=n[r++]<<h,h+=8}switch(e.last=c&1,c>>>=1,h-=1,c&3){case 0:e.mode=wp;break;case 1:if(l4(e),e.mode=Io,t===Po){c>>>=2,h-=2;break t}break;case 2:e.mode=Cp;break;case 3:i.msg="invalid block type",e.mode=ft}c>>>=2,h-=2;break;case wp:for(c>>>=h&7,h-=h&7;h<32;){if(a===0)break t;a--,c+=n[r++]<<h,h+=8}if((c&65535)!==(c>>>16^65535)){i.msg="invalid stored block lengths",e.mode=ft;break}if(e.length=c&65535,c=0,h=0,e.mode=ih,t===Po)break t;case ih:e.mode=kp;case kp:if(d=e.length,d){if(d>a&&(d=a),d>l&&(d=l),d===0)break t;s.set(n.subarray(r,r+d),o),a-=d,r+=d,l-=d,o+=d,e.length-=d;break}e.mode=je;break;case Cp:for(;h<14;){if(a===0)break t;a--,c+=n[r++]<<h,h+=8}if(e.nlen=(c&31)+257,c>>>=5,h-=5,e.ndist=(c&31)+1,c>>>=5,h-=5,e.ncode=(c&15)+4,c>>>=4,h-=4,e.nlen>286||e.ndist>30){i.msg="too many length or distance symbols",e.mode=ft;break}e.have=0,e.mode=Ep;case Ep:for(;e.have<e.ncode;){for(;h<3;){if(a===0)break t;a--,c+=n[r++]<<h,h+=8}e.lens[O[e.have++]]=c&7,c>>>=3,h-=3}for(;e.have<19;)e.lens[O[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,C={bits:e.lenbits},S=Fs(GE,e.lens,0,19,e.lencode,0,e.work,C),e.lenbits=C.bits,S){i.msg="invalid code lengths set",e.mode=ft;break}e.have=0,e.mode=Mp;case Mp:for(;e.have<e.nlen+e.ndist;){for(;p=e.lencode[c&(1<<e.lenbits)-1],g=p>>>24,y=p>>>16&255,x=p&65535,!(g<=h);){if(a===0)break t;a--,c+=n[r++]<<h,h+=8}if(x<16)c>>>=g,h-=g,e.lens[e.have++]=x;else{if(x===16){for(M=g+2;h<M;){if(a===0)break t;a--,c+=n[r++]<<h,h+=8}if(c>>>=g,h-=g,e.have===0){i.msg="invalid bit length repeat",e.mode=ft;break}v=e.lens[e.have-1],d=3+(c&3),c>>>=2,h-=2}else if(x===17){for(M=g+3;h<M;){if(a===0)break t;a--,c+=n[r++]<<h,h+=8}c>>>=g,h-=g,v=0,d=3+(c&7),c>>>=3,h-=3}else{for(M=g+7;h<M;){if(a===0)break t;a--,c+=n[r++]<<h,h+=8}c>>>=g,h-=g,v=0,d=11+(c&127),c>>>=7,h-=7}if(e.have+d>e.nlen+e.ndist){i.msg="invalid bit length repeat",e.mode=ft;break}for(;d--;)e.lens[e.have++]=v}}if(e.mode===ft)break;if(e.lens[256]===0){i.msg="invalid code -- missing end-of-block",e.mode=ft;break}if(e.lenbits=9,C={bits:e.lenbits},S=Fs(l_,e.lens,0,e.nlen,e.lencode,0,e.work,C),e.lenbits=C.bits,S){i.msg="invalid literal/lengths set",e.mode=ft;break}if(e.distbits=6,e.distcode=e.distdyn,C={bits:e.distbits},S=Fs(c_,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,C),e.distbits=C.bits,S){i.msg="invalid distances set",e.mode=ft;break}if(e.mode=Io,t===Po)break t;case Io:e.mode=Fo;case Fo:if(a>=6&&l>=258){i.next_out=o,i.avail_out=l,i.next_in=r,i.avail_in=a,e.hold=c,e.bits=h,WE(i,f),o=i.next_out,s=i.output,l=i.avail_out,r=i.next_in,n=i.input,a=i.avail_in,c=e.hold,h=e.bits,e.mode===je&&(e.back=-1);break}for(e.back=0;p=e.lencode[c&(1<<e.lenbits)-1],g=p>>>24,y=p>>>16&255,x=p&65535,!(g<=h);){if(a===0)break t;a--,c+=n[r++]<<h,h+=8}if(y&&(y&240)===0){for(b=g,$=y,w=x;p=e.lencode[w+((c&(1<<b+$)-1)>>b)],g=p>>>24,y=p>>>16&255,x=p&65535,!(b+g<=h);){if(a===0)break t;a--,c+=n[r++]<<h,h+=8}c>>>=b,h-=b,e.back+=b}if(c>>>=g,h-=g,e.back+=g,e.length=x,y===0){e.mode=Dp;break}if(y&32){e.back=-1,e.mode=je;break}if(y&64){i.msg="invalid literal/length code",e.mode=ft;break}e.extra=y&15,e.mode=Tp;case Tp:if(e.extra){for(M=e.extra;h<M;){if(a===0)break t;a--,c+=n[r++]<<h,h+=8}e.length+=c&(1<<e.extra)-1,c>>>=e.extra,h-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=Op;case Op:for(;p=e.distcode[c&(1<<e.distbits)-1],g=p>>>24,y=p>>>16&255,x=p&65535,!(g<=h);){if(a===0)break t;a--,c+=n[r++]<<h,h+=8}if((y&240)===0){for(b=g,$=y,w=x;p=e.distcode[w+((c&(1<<b+$)-1)>>b)],g=p>>>24,y=p>>>16&255,x=p&65535,!(b+g<=h);){if(a===0)break t;a--,c+=n[r++]<<h,h+=8}c>>>=b,h-=b,e.back+=b}if(c>>>=g,h-=g,e.back+=g,y&64){i.msg="invalid distance code",e.mode=ft;break}e.offset=x,e.extra=y&15,e.mode=Ap;case Ap:if(e.extra){for(M=e.extra;h<M;){if(a===0)break t;a--,c+=n[r++]<<h,h+=8}e.offset+=c&(1<<e.extra)-1,c>>>=e.extra,h-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){i.msg="invalid distance too far back",e.mode=ft;break}e.mode=Rp;case Rp:if(l===0)break t;if(d=f-l,e.offset>d){if(d=e.offset-d,d>e.whave&&e.sane){i.msg="invalid distance too far back",e.mode=ft;break}d>e.wnext?(d-=e.wnext,m=e.wsize-d):m=e.wnext-d,d>e.length&&(d=e.length),_=e.window}else _=s,m=o-e.offset,d=e.length;d>l&&(d=l),l-=d,e.length-=d;do s[o++]=_[m++];while(--d);e.length===0&&(e.mode=Fo);break;case Dp:if(l===0)break t;s[o++]=e.length,l--,e.mode=Fo;break;case nh:if(e.wrap){for(;h<32;){if(a===0)break t;a--,c|=n[r++]<<h,h+=8}if(f-=l,i.total_out+=f,e.total+=f,e.wrap&4&&f&&(i.adler=e.check=e.flags?wt(e.check,s,f,o-f):js(e.check,s,f,o-f)),f=l,e.wrap&4&&(e.flags?c:Fp(c))!==e.check){i.msg="incorrect data check",e.mode=ft;break}c=0,h=0}e.mode=Pp;case Pp:if(e.wrap&&e.flags){for(;h<32;){if(a===0)break t;a--,c+=n[r++]<<h,h+=8}if(e.wrap&4&&c!==(e.total&4294967295)){i.msg="incorrect length check",e.mode=ft;break}c=0,h=0}e.mode=Ip;case Ip:S=QE;break t;case ft:S=h_;break t;case f_:return u_;case d_:default:return oe}return i.next_out=o,i.avail_out=l,i.next_in=r,i.avail_in=a,e.hold=c,e.bits=h,(e.wsize||f!==i.avail_out&&e.mode<ft&&(e.mode<nh||t!==dp))&&b_(i,i.output,i.next_out,f-i.avail_out),u-=i.avail_in,f-=i.avail_out,i.total_in+=u,i.total_out+=f,e.total+=f,e.wrap&4&&f&&(i.adler=e.check=e.flags?wt(e.check,s,f,i.next_out-f):js(e.check,s,f,i.next_out-f)),i.data_type=e.bits+(e.last?64:0)+(e.mode===je?128:0)+(e.mode===Io||e.mode===ih?256:0),(u===0&&f===0||t===dp)&&S===Vi&&(S=e4),S},h4=i=>{if(Wi(i))return oe;let t=i.state;return t.window&&(t.window=null),i.state=null,Vi},u4=(i,t)=>{if(Wi(i))return oe;let e=i.state;return(e.wrap&2)===0?oe:(e.head=t,t.done=!1,Vi)},f4=(i,t)=>{let e=t.length,n,s,r;return Wi(i)||(n=i.state,n.wrap!==0&&n.mode!==Bo)?oe:n.mode===Bo&&(s=1,s=js(s,t,e,0),s!==n.check)?h_:(r=b_(i,t,e,e),r?(n.mode=f_,u_):(n.havedict=1,Vi))},d4=p_,m4=__,p4=m_,_4=a4,g4=g_,b4=c4,y4=h4,x4=u4,$4=f4,S4="pako inflate (from Nodeca project)",Ve={inflateReset:d4,inflateReset2:m4,inflateResetKeep:p4,inflateInit:_4,inflateInit2:g4,inflate:b4,inflateEnd:y4,inflateGetHeader:x4,inflateSetDictionary:$4,inflateInfo:S4};function v4(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var w4=v4,y_=Object.prototype.toString,{Z_NO_FLUSH:k4,Z_FINISH:C4,Z_OK:Hs,Z_STREAM_END:oh,Z_NEED_DICT:ah,Z_STREAM_ERROR:E4,Z_DATA_ERROR:Np,Z_MEM_ERROR:M4}=Hi;function qs(i){this.options=Uo.assign({chunkSize:1024*64,windowBits:15,to:""},i||{});let t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(i&&i.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o_,this.strm.avail_out=0;let e=Ve.inflateInit2(this.strm,t.windowBits);if(e!==Hs)throw new Error(ji[e]);if(this.header=new w4,Ve.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Vs.string2buf(t.dictionary):y_.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=Ve.inflateSetDictionary(this.strm,t.dictionary),e!==Hs)))throw new Error(ji[e])}qs.prototype.push=function(i,t){let e=this.strm,n=this.options.chunkSize,s=this.options.dictionary,r,o,a;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?C4:k4,y_.call(i)==="[object ArrayBuffer]"?e.input=new Uint8Array(i):e.input=i,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),r=Ve.inflate(e,o),r===ah&&s&&(r=Ve.inflateSetDictionary(e,s),r===Hs?r=Ve.inflate(e,o):r===Np&&(r=ah));e.avail_in>0&&r===oh&&e.state.wrap>0&&i[e.next_in]!==0;)Ve.inflateReset(e),r=Ve.inflate(e,o);switch(r){case E4:case Np:case ah:case M4:return this.onEnd(r),this.ended=!0,!1}if(a=e.avail_out,e.next_out&&(e.avail_out===0||r===oh))if(this.options.to==="string"){let l=Vs.utf8border(e.output,e.next_out),c=e.next_out-l,h=Vs.buf2string(e.output,l);e.next_out=c,e.avail_out=n-c,c&&e.output.set(e.output.subarray(l,l+c),0),this.onData(h)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(r===Hs&&a===0)){if(r===oh)return r=Ve.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};qs.prototype.onData=function(i){this.chunks.push(i)};qs.prototype.onEnd=function(i){i===Hs&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Uo.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};function vh(i,t){let e=new qs(t);if(e.push(i),e.err)throw e.msg||ji[e.err];return e.result}function T4(i,t){return t=t||{},t.raw=!0,vh(i,t)}var O4=qs,A4=vh,R4=T4,D4=vh,P4=Hi,I4={Inflate:O4,inflate:A4,inflateRaw:R4,ungzip:D4,constants:P4},{Deflate:F4,deflate:L4,deflateRaw:N4,gzip:z4}=VE,{Inflate:B4,inflate:j4,inflateRaw:U4,ungzip:V4}=I4,H4=F4,W4=L4,Y4=N4,Z4=z4,q4=B4,X4=j4,K4=U4,G4=V4,J4=Hi,x_={Deflate:H4,deflate:W4,deflateRaw:Y4,gzip:Z4,Inflate:q4,inflate:X4,inflateRaw:K4,ungzip:G4,constants:J4};function Xs(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}function Ho(i,t){var e=t&&t.indexOf?t.indexOf(i):[].indexOf.call(i,t);return e>=0}var Wo="googleUserToken",$_=!1;function Ch(){return localStorage.removeItem(Wo),R.signedIn=!1,ge()}async function Q4(){let i={client_id:R.google_client_id,scope:"profile email",redirect_uri:R.redirect_uri};n5(),i.callback=function(n){return n};let t=window.google.accounts.oauth2.initTokenClient(i),e=await new Promise(function(n,s){try{return t.callback=function(r){return r.error!==void 0&&s(r),n(r)},t.requestAccessToken({prompt:"consent"})}catch(r){return console.error(r)}});localStorage.setItem(Wo,e.access_token),w_()}function yo(i){if(console.log(i),i.payload=="ping")return Tc(i);if(i.payload&&i.payload.data&&i.payload.data.photo){let t=kh.Buffer.from(i.payload.data.photo,"base64"),e=x_.inflate(t),n=new TextDecoder().decode(e),s=JSON.parse(n),r=kh.Buffer.from(s).toString("base64");return console.log(t.length),console.log(e.length),console.log(n.length),localStorage.setItem("gbphoto",JSON.stringify(r)),localStorage.setItem("gbstatus",JSON.stringify(i.payload.data.camera_status,null,"	")),localStorage.setItem("gbid",i.payload.data.id),R.photo=r,R.status=i.payload.data.camera_status,R.photo_id=i.payload.data.id,ge()}}function t5(i,t){function e(r,o){var a;a=[];for(let l=0,c=Object.keys(r),h=c.length,u,f;l<h;l++)u=c[l],f=r[u],a.push(typeof o[u]>"u"?o[u]=f:o[u].constructor==Object?e(f,o[u]):o[u]=f);return a}let n=R,s=t.observed||t;for(let r=i.length,o=0,a=r-o;a>0?o<r:o>r;a>0?o++:o--)typeof n[i[o]]>"u"&&(n[i[o]]={}),n=n[i[o]];return s.constructor==Object?e(s,n):n.observed=s,n}function Am(i){function t(r,o){return typeof o[r]>"u"&&(o[r]={}),o[r]}function e(r,o,a){let l;if(Array.isArray(r)){l=[];for(let c=0,h=Xs(r),u=h.length;c<u;c++){let f=h[c];l.push(e(f,o,a))}return l}else return a=t(r,a),o.length===0?a:(r=o[0],o=o.slice(1),e(r,o,a))}let n=i[0],s=i.slice(1);return e(n,s,R)}function xn(i){function t(e){var n;let s;if(e.message_data.request_data&&e.message_data.request_data.request_id&&(s=R.requests[e.message_data.request_data.request_id].source),i==="days"){n=[];for(let r=0,o=Xs(e.payload.result),a=o.length;r<a;r++){let l=o[r],c=l.row_key.split("#"),h=JSON.parse(l.json),u;h.card?u=h.metrics:u=h,n.push(t5(["metrics",s,c[0],c[1],"days",c[2]],u))}return n}}return t}function S_(i){return function(t){var e;if(t.socket_status==="close"){if(t.socket.reconnect)return $o({...t.socket})}else if(t.socket_status==="open"&&t.socket.resend_msgs&&t.socket.resend_msgs.length>0){e=[];for(let n=0,s=Xs(t.socket.resend_msgs),r=s.length;n<r;n++){let o=s[n];console.log("socket resubscribe ",o),e.push(R.sockets[i].sendmsg(o))}return e}}}async function v_(i){if(!i)return;let e=await(await fetch("https://www.googleapis.com/oauth2/v1/userinfo?access_token="+i)).json();if(Ho("amedia.no",e.email))return e}function Ic(){function i(){let t=globalThis.document.createElement("script");return t.src="https://accounts.google.com/gsi/client",t.async=!0,globalThis.document.body.appendChild(t)}if(w_(),!R.test)return i()}async function w_(){Ho("localhost",window.location.href)&&($_=!0);let i=window.location.href.split("/");if(i.length>3&&i[i.length-1]=="test_components"){i5(),ge();return}let t=localStorage.getItem(Wo);if(t){R.access_token=t;let e=await v_(t);e?(R.google_user=e,R.signedIn=!0):(console.log("error sign out"),Ch())}for(let e=0,n=Xs(Cs.commands),s=n.length;e<s;e++){let r=n[e];R.sockets[r.wsid]||$o({id:r.wsid,host:Cs.connection[r.wsid].route,onmessage:Ms.onMessage,onStatusChange:S_(r.wsid)}),r.identity_data.access_token=t,Ts(r)}for(let e=Cs.events,n=0,s=Object.keys(e),r=s.length,o,a;n<r;n++)o=s[n],a=e[o],Ms.route(o,a);return setTimeout(function(){return k_()},6e4),setInterval(function(){return e5()},15e3),ge()}function Tc(){return console.log("ping received")}function e5(){var i;console.log("ping"),i=[];for(let t=R.sockets,e=0,n=Object.keys(t),s=n.length,r,o;e<s;e++)r=n[e],o=t[r],console.log(r),i.push(Ts({type:"ping",request_type:"ping",payload:"ping",wsid:r}));return i}async function k_(){$_&&console.log("state on resub check",R);let i=localStorage.getItem(Wo);if(!await v_(i)){Ch();return}for(let e=R.subscriptions_on_ws,n=0,s=Object.keys(e),r=s.length,o,a;n<r;n++){o=s[n],a=e[o];for(let l=a.msgs,c=0,h=Object.keys(l),u=h.length,f,d;c<u;c++)f=h[c],d=l[f],(Date.now()-d.lastts>3e5||R.new_dateΦ)&&(console.log("resend sub",d.cmd),d.lastts=Date.now(),R.sockets[R.requests[f].wsid].sendmsg(d.cmd))}return R.new_dateΦ&&(R.new_dateΦ=!1,R.abtests={},R.metrics={},R.current_date=new Date),setTimeout(function(){return k_()},6e4)}function i5(){return R.test=!0,R.photo=JSON.parse(localStorage.getItem("gbphoto")),R.status=localStorage.getItem("gbstatus"),R.photo_id=localStorage.getItem("gbid")}function $o(i){return R.sockets[i.id]=Oc().initialize({...i,onmessage:Ms.onMessage,onStatusChange:S_(i.id)})}function wh({email:i,pw:t}){return Ts({type:"x.get_user_def",request_type:"login",payload:{user:i},identity_data:{server:"ic_metadata",access_token:R.access_token},wsid:"config"})}function C_(){return console.log("addDashboard")}function Ts(i){let t=Mc().toString();R.requests[t]=i;let e={message_data:{id:t,type:i.type,request_data:i.request_data||{}},identity_data:i.identity_data||{},payload:i.payload};return e.message_data.request_data.request_id=t,e.identity_data.access_token||(e.identity_data.access_token=R.access_token),console.log(e),Ho(i.type,["x.subscribe","subscribe"])&&(R.subscriptions_on_ws[i.wsid]||(R.subscriptions_on_ws[i.wsid]={msgs:{}}),R.subscriptions_on_ws[i.wsid].msgs[t]={lastts:Date.now(),cmd:e}),R.sockets[i.wsid].sendmsg(e)}function Cm(i){for(let t=i.payload,e=0,n=Object.keys(t),s=n.length,r,o;e<s;e++)r=n[e],o=t[r],R.source[r]=new xo(r,o);if(!R.sitekey_login){let t=window.location.href.split("/");if(t.length>3&&t[t.length-1].length==6||t[t.length-1]=="all_sites"||t[t.length-1].startsWith("amedia_"))return R.sitekey=t[t.length-1],console.log("sitelogin",R.sitekey),t[t.length-1]=="all_sites"?wh({email:"all_sites",pw:""}):t[t.length-1].startsWith("amedia_")?wh({email:"amedia",pw:""}):wh({email:"sitekey",pw:""}),R.sitekey_login=!0}}function Em(i){R.signedIn=!0,R.signIn=!1;let t=i.payload;return R.user=new Eo(t.email,t),ge()}function E_(i){return R[i]=!R[i]}function Ks(){return console.log("flip"),Date.now()>R.menuFlipTs+100&&(R.menuOpenΦ=!R.menuOpenΦ),R.menuFlipTs=Date.now()}function n5(){return console.log("resatt"),R.signIn=!1}function M_(){return R.signIn=!0,Q4()}function T_(){return R.signedIn=!1,Ch(),ge()}function Dm(i,t,e=!1){var n;if(t.instance_parameters){n=[];for(let s=0,r=Xs(t.instance_parameters),o=r.length;s<o;s++){let a=r[s];$n(i,a.instance_name,{collapsed:!0,type:new Mo(a)});let l=new wo(t.dashboard.type,t,a);R.dashboards.push(l),n.push(e&&Pc(l,a))}return n}}function $n(i,t,e){return i.menu_items[t]={...e},i.menu_items[t].menu_items={},i.menu_items[t]}function Co(i,t,e){return R.source[i].get_data(t,e)}function Pc(i,t){let e;if(typeof t.segment=="string"?e=t.source+"."+t.group+"."+t.segment:e=t.source+"."+t.group+".*",R.cardsubscriptions[e]||(R.cardsubscriptions[e]=[]),!Ho(i,R.cardsubscriptions[e]))return R.cardsubscriptions[e].push(i)}function s5(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}var O_=Symbol.for("#__init__"),r5=Symbol.for("#__patch__"),o5=Symbol.for("#beforeReconcile"),A_=Symbol.for("##up"),R_=Symbol.for("#placeChild"),a5=Symbol.for("#afterReconcile"),D_=Symbol(),P_=Symbol(),I_=Symbol(),F_=Symbol(),L_=Symbol(),N_=Symbol(),z_=Symbol(),B_=Symbol(),Mh=class extends B{[r5](t={}){var e;(e=t.button)!==void 0&&(this.button=e)}[O_](t=null,e=!0){var n;super[O_](...arguments),this.button=t&&(n=t.button)!==void 0?n:{}}render(){var t,e,n,s,r=this._ns_||"",o,a,l,c,h,u;return e=this,e[o5](),n=s=1,e[D_]===1||(n=s=0,e[D_]=1),(o=e[P_])||(e[P_]=o=k("div",e,`button-item-icon ${r}`,null)),t=null,this.button.icon?(a=l=1,(t=e[I_])||(a=l=0,e[I_]=t=k("span",null,`${r}`,null)),a||(t[A_]=o),a||(t.className="material-icons"),c=this.button.title,c===t[F_]||(t.title=t[F_]=c),c=this.button.icon,c===t[N_]&&a||(t[L_]=t[R_](t[N_]=c,384,t[L_]))):(h=u=1,(t=e[z_])||(h=u=0,e[z_]=t=k("span",null,`${r}`,"Sign In")),h||(t[A_]=o),h||(t.className="material-icons")),e[B_]=o[R_](t,0,e[B_]),e[a5](s),e}},Eh=Mh;(()=>{s5(Mh,"button-item-icon")})();j("button-item-icon",Eh,{cssns:"dg_af"});function l5(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}Nt(),Tt();var j_=Symbol.for("#__init__"),c5=Symbol.for("#__patch__"),h5=Symbol.for("#beforeReconcile"),u5=Symbol.for("#afterVisit"),f5=Symbol.for("#appendChild"),d5=Symbol.for("#afterReconcile"),U_=Symbol(),V_=Symbol();var Th=Symbol(),H_=Symbol(),W_=Symbol(),Ah=class extends B{[c5](t={}){var e;(e=t.button)!==void 0&&(this.button=e)}[j_](t=null,e=!0){super[j_](...arguments),this.button=t?t.button:void 0}render(){var t=this,e,n,s,r=this._ns_||"",o,a,l,c,h,u,f,d;return e=this,e[h5](),n=s=1,e[U_]===1||(n=s=0,e[U_]=1),a=l=1,(o=e[V_])||(a=l=0,e[V_]=o=k("div",e,`ic-menu-button ${r}`,null)),c=this.button.open||void 0,c===e[Th]||(l|=2,e[Th]=c),a||o.on$("click",{$_:[function(m,_){return t.button.click(m)}]},this),l&2&&o.flag$(`ic-menu-button ${r} `+(e[Th]?"open":"")),u=f=1,(h=e[H_])||(u=f=0,e[H_]=h=H("button-item-icon",o,`${r}`,null)),d=this.button,d===e[W_]||(h.button=e[W_]=d),u||!h.setup||h.setup(f),h[u5](f),u||o[f5](h),e[d5](s),e}},Oh=Ah;(()=>{l5(Ah,"menu-button")})();j("menu-button",Oh,{cssns:"dc_af"});function m5(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}var p5=Symbol.for("#beforeReconcile"),Rh=Symbol.for("#afterVisit"),Dh=Symbol.for("#appendChild"),_5=Symbol.for("#afterReconcile"),Y_=Symbol(),Z_=Symbol(),q_=Symbol(),X_=Symbol(),K_=Symbol(),G_=Symbol(),J_=Symbol(),Ih=class extends B{render(){var t,e,n,s=this._ns_||"",r,o,a,l,c,h,u,f,d,m,_,p,g,y;return t=this,t[p5](),e=n=1,t[Y_]===1||(e=n=0,t[Y_]=1),R.menuOpenΦ?this.menubutton={icon:"keyboard_arrow_left",title:"close menu",click:Ks,open:!1}:this.menubutton={open:!0,icon:"keyboard_arrow_right",title:"open menu",click:Ks},R.signedIn?this.userStatusButton={icon:"logout",title:"sign out",click:T_,open:!0}:this.userStatusButton={icon:"login",title:"sign in",click:M_,open:!0},this.addDashboard={icon:"add",title:"new Dashboard",click:C_,open:!0},e||(r=k("div",t,`header-icons ${s}`,null)),a=l=1,(o=t[Z_])||(a=l=0,t[Z_]=o=H("menu-button",r,`${s}`,null)),c=this.menubutton,c===t[q_]||(o.button=t[q_]=c),a||!o.setup||o.setup(l),o[Rh](l),a||r[Dh](o),e||(h=k("div",t,`other-icons ${s}`,null)),f=d=1,(u=t[X_])||(f=d=0,t[X_]=u=H("menu-button",h,`${s}`,null)),m=this.addDashboard,m===t[K_]||(u.button=t[K_]=m),f||!u.setup||u.setup(d),u[Rh](d),f||h[Dh](u),p=g=1,(_=t[G_])||(p=g=0,t[G_]=_=H("menu-button",h,`${s}`,null)),y=this.userStatusButton,y===t[J_]||(_.button=t[J_]=y),p||!_.setup||_.setup(g),_[Rh](g),p||h[Dh](_),t[_5](n),t}},Ph=Ih;(()=>{m5(Ih,"ic-header")})();j("ic-header",Ph,{cssns:"cw_af"});function g5(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}var Q_=Symbol.for("#__init__"),b5=Symbol.for("#__patch__"),y5=Symbol.for("#beforeReconcile"),tg=Symbol.for("#placeChild"),x5=Symbol.for("#afterReconcile"),eg=Symbol(),ig=Symbol(),ng=Symbol(),sg=Symbol(),rg=Symbol(),og=Symbol(),ag=Symbol(),Fh=class extends B{[b5](t={}){var e;(e=t.text_and_value)!==void 0&&(this.text_and_value=e)}[Q_](t=null,e=!0){super[Q_](...arguments),this.text_and_value=t?t.text_and_value:void 0}render(){var t,e,n,s=this._ns_||"",r,o,a,l,c,h,u;return t=this,t[y5](),e=n=1,t[eg]===1||(e=n=0,t[eg]=1),e||(r=k("span",t,`txt ${s}`,null)),e||(o=k("span",r,`jleft ${s}`,null)),(a=t[ig])||(t[ig]=a=k("span",o,`dz-aj ${s}`,null)),l=this.text_and_value.text,l===t[sg]&&e||(t[ng]=a[tg](t[sg]=l,384,t[ng])),e||(c=k("span",r,`jright ${s}`,null)),(h=t[rg])||(t[rg]=h=k("span",c,`dz-al ${s}`,null)),u=this.text_and_value.value,u===t[ag]&&e||(t[og]=h[tg](t[ag]=u,384,t[og])),t[x5](n),t}},ke=Fh;(()=>{g5(Fh,"TextAndValue")})();j("text-and-value-dz-al",ke,{cssns:"dz_af"});function $5(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}function S5(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}yn();var lg=Symbol.for("#__init__"),v5=Symbol.for("#__patch__"),w5=Symbol.for("#beforeReconcile"),k5=Symbol.for("#placeChild"),Gs=Symbol.for("##up"),C5=Symbol.for("#getRenderContext"),E5=Symbol.for("#isRichElement"),M5=Symbol.for("#getFunctionalSlot"),Yo=Symbol.for("#afterVisit"),T5=Symbol.for("#appendChild"),O5=Symbol.for("#insertInto"),A5=Symbol.for("#replaceWith"),R5=Symbol.for("#afterReconcile"),cg=Symbol(),hg=Symbol(),ug=Symbol(),fg=Symbol(),dg=Symbol(),mg=Symbol(),pg=Symbol(),_g=Symbol(),gg=Symbol(),bg=Symbol(),Pn=Symbol(),D5=Symbol(),yg=Symbol(),xg=Symbol(),Lh=class extends B{[v5](t={}){var e;(e=t.element)!==void 0&&(this.element=e),(e=t.instancedata)!==void 0&&(this.instancedata=e),(e=t.refmean)!==void 0&&(this.refmean=e),(e=t.reftxt)!==void 0&&(this.reftxt=e),(e=t.refnow)!==void 0&&(this.refnow=e),(e=t.last)!==void 0&&(this.last=e),(e=t.values)!==void 0&&(this.values=e),(e=t.text)!==void 0&&(this.text=e)}[lg](t=null,e=!0){super[lg](...arguments),this.element=t?t.element:void 0,this.instancedata=t?t.instancedata:void 0,this.refmean=t?t.refmean:void 0,this.reftxt=t?t.reftxt:void 0,this.refnow=t?t.refnow:void 0,this.last=t?t.last:void 0,this.values=t?t.values:void 0,this.text=t?t.text:void 0}render(){var t,e,n,s=this._ns_||"",r,o,a,l,c,h,u,f,d,m,_,p,g,y,x,b,$,w,v,S,E,C,M,O,D,I,A;t=this,t[w5](),e=n=1,t[cg]===1||(e=n=0,t[cg]=1),(r=t[hg])||(t[hg]=r=k("div",t,`multiple_metrics ${s}`,null)),(o=t[ug])||(t[ug]=o=k("a",r,`dl-ai ${s}`,null)),a=this.element.text,a===t[dg]&&e||(t[fg]=o[k5](t[dg]=a,384,t[fg])),e||(l=k("p",r,`${s}`,null)),(c=t[mg])||(t[mg]=c=pt(256,r)),h=0,u=c.$;for(let P=0,L=$5(this.element.metrics),z=L.length;P<z;P++){let N=L[P];d=m=1,(f=u[h])||(d=m=0,u[h]=f=k("div",c,`${s}`,null)),d||(f[Gs]=c),this.last=N.last.observed,N.ref&&N.ref.observed&&N.ref.observed.mean?(this.refobj=N,this.refmean=Math.trunc(this.refobj.ref.observed.mean),this.reftxt=JSON.stringify(N.ref.observed)):(this.refobj={},this.refmean="",this.reftxt=""),this.refnow="",this.last&&this.refmean&&this.element.usefactor&&(this.refnow=Math.trunc(this.refmean*this.element.usefactor)),this.element.usefactor&&this.last&&this.refmean?this.last>this.refnow&&!this.refobj.reversed_factor||this.last<this.refnow&&this.refobj.reversed_factor?this.divx=(d=p=1,(_=f[pg])||(d=p=0,_=f[pg]=_=k("div",null,`dl-al one_metric_box ${s}`,null)),d||(_[Gs]=f),_):this.last<this.refnow&&!this.refobj.reversed_factor||this.last>this.refnow&&this.refobj.reversed_factor?this.divx=(d=y=1,(g=f[_g])||(d=y=0,g=f[_g]=g=k("div",null,`dl-am one_metric_box ${s}`,null)),d||(g[Gs]=f),g):this.divx=(d=b=1,(x=f[gg])||(d=b=0,x=f[gg]=x=k("div",null,`dl-an one_metric_box ${s}`,null)),d||(x[Gs]=f),x):this.divx=(d=w=1,($=f[bg])||(d=w=0,$=f[bg]=$=k("div",null,`dl-ao one_metric_box ${s}`,null)),d||($[Gs]=f),$),this.refmean==""&&this.refnow==""?this.values=this.last||0:this.values=(this.last||0)+" / "+(this.refnow||0)+" / "+(this.refmean||0),this.text=N.text,v=f[C5](D5),E=C=1,(S=v.run(this.divx))||(E=C=0,v.cache(S=ai(v.value,f,`${s}`,null))),S[E5]&&(M=S[M5]("__",S),(!E||C&2)&&S.flags.reconcile(Pn,`${s}`),D=I=1,(O=S[yg])||(D=I=0,S[yg]=O=H(ke,M,`${s}`,null)),A={text:N.text,value:this.values,title:this.reftxt},A===S[xg]||(O.text_and_value=S[xg]=A),D||!O.setup||O.setup(I),O[Yo](I),D||M[T5](O),E||!S.setup||S.setup(C),S[Yo](C)),S==f[Pn]||!f[Pn]&&(f[Pn]=S)[O5](f)||f[Pn][A5](f[Pn]=S,f),d||!f.setup||f.setup(m),f[Yo](m),h++}return c[Yo](h),t[R5](n),t}},In=Lh;(()=>{S5(Lh,"MultipleMetrics")})();j("multiple-metrics-dl-aq",In,{cssns:"dl_af"});function P5(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}yn();var $g=Symbol.for("#__init__"),I5=Symbol.for("#__patch__"),F5=Symbol.for("#beforeReconcile"),Zo=Symbol.for("##up"),L5=Symbol.for("#getRenderContext"),N5=Symbol.for("#isRichElement"),z5=Symbol.for("#getFunctionalSlot"),Sg=Symbol.for("#placeChild"),B5=Symbol.for("#afterVisit"),j5=Symbol.for("#insertInto"),U5=Symbol.for("#replaceWith"),V5=Symbol.for("#afterReconcile"),vg=Symbol(),wg=Symbol(),kg=Symbol(),Cg=Symbol(),Eg=Symbol(),Fn=Symbol(),H5=Symbol(),Mg=Symbol(),Tg=Symbol(),Og=Symbol(),Ag=Symbol(),Rg=Symbol(),Dg=Symbol(),Pg=Symbol(),Ig=Symbol(),Nh=class extends B{[I5](t={}){var e;(e=t.element)!==void 0&&(this.element=e),(e=t.instancedata)!==void 0&&(this.instancedata=e),(e=t.refmean)!==void 0&&(this.refmean=e),(e=t.reftxt)!==void 0&&(this.reftxt=e),(e=t.refnow)!==void 0&&(this.refnow=e),(e=t.last)!==void 0&&(this.last=e)}[$g](t=null,e=!0){super[$g](...arguments),this.element=t?t.element:void 0,this.instancedata=t?t.instancedata:void 0,this.refmean=t?t.refmean:void 0,this.reftxt=t?t.reftxt:void 0,this.refnow=t?t.refnow:void 0,this.last=t?t.last:void 0}render(){var t,e,n,s=this._ns_||"",r,o,a,l,c,h,u,f,d,m,_,p,g,y,x,b,$,w,v,S,E,C;return t=this,t[F5](),e=n=1,t[vg]===1||(e=n=0,t[vg]=1),this.last=this.element.metrics[0].last.observed,this.element.metrics[0].ref&&this.element.metrics[0].ref.observed&&this.element.metrics[0].ref.observed.mean?(this.refobj=this.element.metrics[0],this.refmean=Math.trunc(this.refobj.ref.observed.mean),this.reftxt=JSON.stringify(this.element.metrics[0].ref.observed)):(this.refobj={},this.refmean="",this.reftxt=""),this.refnow="",this.last&&this.refmean&&this.element.usefactor&&(this.refnow=Math.trunc(this.refmean*this.element.usefactor)),this.element.usefactor&&this.last&&this.refmean?this.last>this.refnow&&!this.refobj.reversed_factor||this.last<this.refnow&&this.refobj.reversed_factor?this.divx=(e=o=1,(r=t[wg])||(e=o=0,r=t[wg]=r=k("div",null,`dm-ah one_metric_box ${s}`,null)),e||(r[Zo]=t),r):this.last<this.refnow&&!this.refobj.reversed_factor||this.last>this.refnow&&this.refobj.reversed_factor?this.divx=(e=l=1,(a=t[kg])||(e=l=0,a=t[kg]=a=k("div",null,`dm-ai one_metric_box ${s}`,null)),e||(a[Zo]=t),a):this.divx=(e=h=1,(c=t[Cg])||(e=h=0,c=t[Cg]=c=k("div",null,`dm-aj one_metric_box ${s}`,null)),e||(c[Zo]=t),c):this.divx=(e=f=1,(u=t[Eg])||(e=f=0,u=t[Eg]=u=k("div",null,`dm-ak one_metric_box ${s}`,null)),e||(u[Zo]=t),u),d=t[L5](H5),_=p=1,(m=d.run(this.divx))||(_=p=0,d.cache(m=ai(d.value,t,`${s}`,null))),m[N5]&&(g=m[z5]("__",m),(!_||p&2)&&m.flags.reconcile(Fn,`${s}`),x=b=1,(y=m[Mg])||(x=b=0,m[Mg]=y=k("div",g,`txt ${s}`,null)),$=this.reftxt,$===m[Tg]||(y.title=m[Tg]=$),(w=m[Og])||(m[Og]=w=k("a",y,`dm-an ${s}`,null)),v=this.element.text,v===m[Rg]&&x||(m[Ag]=w[Sg](m[Rg]=v,384,m[Ag])),x||(S=k("br",y,`${s}`,null)),(E=m[Dg])||(m[Dg]=E=k("a",y,`dm-ap ${s}`,null)),C=(this.last||0)+" / "+(this.refnow||0)+" / "+(this.refmean||0),C===m[Ig]&&x||(m[Pg]=E[Sg](m[Ig]=C,384,m[Pg])),_||!m.setup||m.setup(p),m[B5](p)),m==t[Fn]||!t[Fn]&&(t[Fn]=m)[j5](t)||t[Fn][U5](t[Fn]=m,t),t[V5](n),t}},Ln=Nh;(()=>{P5(Nh,"OneMetric")})();j("one-metric-dm-ap",Ln,{cssns:"dm_af"});function W5(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}function Y5(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}var Fg=Symbol.for("#__init__"),Z5=Symbol.for("#__patch__"),q5=Symbol.for("#beforeReconcile"),X5=Symbol.for("#placeChild"),K5=Symbol.for("##up"),Lg=Symbol.for("#afterVisit"),G5=Symbol.for("#appendChild"),J5=Symbol.for("#afterReconcile"),Ng=Symbol(),zg=Symbol(),Bg=Symbol(),jg=Symbol(),Ug=Symbol(),Vg=Symbol(),Hg=Symbol(),Wg=Symbol(),zh=class extends B{[Z5](t={}){var e;(e=t.element)!==void 0&&(this.element=e),(e=t.instancedata)!==void 0&&(this.instancedata=e),(e=t.divx)!==void 0&&(this.divx=e),(e=t.values)!==void 0&&(this.values=e),(e=t.reftxt)!==void 0&&(this.reftxt=e)}[Fg](t=null,e=!0){super[Fg](...arguments),this.element=t?t.element:void 0,this.instancedata=t?t.instancedata:void 0,this.divx=t?t.divx:void 0,this.values=t?t.values:void 0,this.reftxt=t?t.reftxt:void 0}render(){var t,e,n,s=this._ns_||"",r,o,a,l,c,h,u,f,d,m,_,p,g,y,x;t=this,t[q5](),e=n=1,t[Ng]===1||(e=n=0,t[Ng]=1),(r=t[zg])||(t[zg]=r=k("div",t,`prsec_metrics ${s}`,null)),(o=t[Bg])||(t[Bg]=o=k("a",r,`dn-ai ${s}`,null)),a=this.element.text,a===t[Ug]&&e||(t[jg]=o[X5](t[Ug]=a,384,t[jg])),e||(l=k("p",r,`${s}`,null)),(c=t[Vg])||(t[Vg]=c=pt(256,r)),h=0,u=c.$;for(let b=0,$=W5(this.element.metrics),w=$.length;b<w;b++){let v=$[b];{d=m=1,(f=u[h])||(d=m=0,u[h]=f=k("div",c,`${s}`,null)),d||(f[K5]=c);let S=new Date,E=v.total.observed;if(v.last_rt_ts){let M=(S.getTime()-v.last_rt_ts.getTime())/1e3;M>0&&E>v.last_value?v.prsec=Math.trunc((E-v.last_value)/M):M>40&&(v.prsec=0)}E-v.last_value>0&&(v.last_rt_ts=S),this.element.max_hour&&v.hours.observed&&v.hours.observed[this.element.max_hour]&&(v.thishour=v.hours.observed[this.element.max_hour]),v.last_value=E,this.values=(E||0)+" / "+(v.thishour||0)+" / "+(v.prsec||0);let C="";d||(_=k("div",f,`dn-al one_metric_box ${s}`,null)),g=y=1,(p=f[Hg])||(g=y=0,f[Hg]=p=H(ke,_,`${s}`,null)),x={text:v.text,value:this.values,title:C},x===f[Wg]||(p.text_and_value=f[Wg]=x),g||!p.setup||p.setup(y),p[Lg](y),g||_[G5](p),h++}}return c[Lg](h),t[J5](n),t}},Nn=zh;(()=>{Y5(zh,"PrSecondMultiple")})();j("pr-second-multiple-dn-am",Nn,{cssns:"dn_af"});/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Qs(i){return i+.5|0}var yi=(i,t,e)=>Math.max(Math.min(i,e),t);function Js(i){return yi(Qs(i*2.55),0,255)}function xi(i){return yi(Qs(i*255),0,255)}function He(i){return yi(Qs(i/2.55)/100,0,1)}function Yg(i){return yi(Qs(i*100),0,100)}var ae={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},jh=[..."0123456789ABCDEF"],Q5=i=>jh[i&15],tM=i=>jh[(i&240)>>4]+jh[i&15],qo=i=>(i&240)>>4===(i&15),eM=i=>qo(i.r)&&qo(i.g)&&qo(i.b)&&qo(i.a);function iM(i){var t=i.length,e;return i[0]==="#"&&(t===4||t===5?e={r:255&ae[i[1]]*17,g:255&ae[i[2]]*17,b:255&ae[i[3]]*17,a:t===5?ae[i[4]]*17:255}:(t===7||t===9)&&(e={r:ae[i[1]]<<4|ae[i[2]],g:ae[i[3]]<<4|ae[i[4]],b:ae[i[5]]<<4|ae[i[6]],a:t===9?ae[i[7]]<<4|ae[i[8]]:255})),e}var nM=(i,t)=>i<255?t(i):"";function sM(i){var t=eM(i)?Q5:tM;return i?"#"+t(i.r)+t(i.g)+t(i.b)+nM(i.a,t):void 0}var rM=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Kg(i,t,e){let n=t*Math.min(e,1-e),s=(r,o=(r+i/30)%12)=>e-n*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function oM(i,t,e){let n=(s,r=(s+i/60)%6)=>e-e*t*Math.max(Math.min(r,4-r,1),0);return[n(5),n(3),n(1)]}function aM(i,t,e){let n=Kg(i,1,.5),s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)n[s]*=1-t-e,n[s]+=t;return n}function lM(i,t,e,n,s){return i===s?(t-e)/n+(t<e?6:0):t===s?(e-i)/n+2:(i-t)/n+4}function Uh(i){let e=i.r/255,n=i.g/255,s=i.b/255,r=Math.max(e,n,s),o=Math.min(e,n,s),a=(r+o)/2,l,c,h;return r!==o&&(h=r-o,c=a>.5?h/(2-r-o):h/(r+o),l=lM(e,n,s,h,r),l=l*60+.5),[l|0,c||0,a]}function Vh(i,t,e,n){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,e,n)).map(xi)}function Hh(i,t,e){return Vh(Kg,i,t,e)}function cM(i,t,e){return Vh(aM,i,t,e)}function hM(i,t,e){return Vh(oM,i,t,e)}function Gg(i){return(i%360+360)%360}function uM(i){let t=rM.exec(i),e=255,n;if(!t)return;t[5]!==n&&(e=t[6]?Js(+t[5]):xi(+t[5]));let s=Gg(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?n=cM(s,r,o):t[1]==="hsv"?n=hM(s,r,o):n=Hh(s,r,o),{r:n[0],g:n[1],b:n[2],a:e}}function fM(i,t){var e=Uh(i);e[0]=Gg(e[0]+t),e=Hh(e),i.r=e[0],i.g=e[1],i.b=e[2]}function dM(i){if(!i)return;let t=Uh(i),e=t[0],n=Yg(t[1]),s=Yg(t[2]);return i.a<255?`hsla(${e}, ${n}%, ${s}%, ${He(i.a)})`:`hsl(${e}, ${n}%, ${s}%)`}var Zg={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},qg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function mM(){let i={},t=Object.keys(qg),e=Object.keys(Zg),n,s,r,o,a;for(n=0;n<t.length;n++){for(o=a=t[n],s=0;s<e.length;s++)r=e[s],a=a.replace(r,Zg[r]);r=parseInt(qg[o],16),i[a]=[r>>16&255,r>>8&255,r&255]}return i}var Xo;function pM(i){Xo||(Xo=mM(),Xo.transparent=[0,0,0,0]);let t=Xo[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var _M=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function gM(i){let t=_M.exec(i),e=255,n,s,r;if(!!t){if(t[7]!==n){let o=+t[7];e=t[8]?Js(o):yi(o*255,0,255)}return n=+t[1],s=+t[3],r=+t[5],n=255&(t[2]?Js(n):yi(n,0,255)),s=255&(t[4]?Js(s):yi(s,0,255)),r=255&(t[6]?Js(r):yi(r,0,255)),{r:n,g:s,b:r,a:e}}}function bM(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${He(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}var Bh=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,zn=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function yM(i,t,e){let n=zn(He(i.r)),s=zn(He(i.g)),r=zn(He(i.b));return{r:xi(Bh(n+e*(zn(He(t.r))-n))),g:xi(Bh(s+e*(zn(He(t.g))-s))),b:xi(Bh(r+e*(zn(He(t.b))-r))),a:i.a+e*(t.a-i.a)}}function Ko(i,t,e){if(i){let n=Uh(i);n[t]=Math.max(0,Math.min(n[t]+n[t]*e,t===0?360:1)),n=Hh(n),i.r=n[0],i.g=n[1],i.b=n[2]}}function Jg(i,t){return i&&Object.assign(t||{},i)}function Xg(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=xi(i[3]))):(t=Jg(i,{r:0,g:0,b:0,a:1}),t.a=xi(t.a)),t}function xM(i){return i.charAt(0)==="r"?gM(i):uM(i)}var $i=class{constructor(t){if(t instanceof $i)return t;let e=typeof t,n;e==="object"?n=Xg(t):e==="string"&&(n=iM(t)||pM(t)||xM(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=Jg(this._rgb);return t&&(t.a=He(t.a)),t}set rgb(t){this._rgb=Xg(t)}rgbString(){return this._valid?bM(this._rgb):void 0}hexString(){return this._valid?sM(this._rgb):void 0}hslString(){return this._valid?dM(this._rgb):void 0}mix(t,e){if(t){let n=this.rgb,s=t.rgb,r,o=e===r?.5:e,a=2*o-1,l=n.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,n.r=255&c*n.r+r*s.r+.5,n.g=255&c*n.g+r*s.g+.5,n.b=255&c*n.b+r*s.b+.5,n.a=o*n.a+(1-o)*s.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=yM(this._rgb,t._rgb,e)),this}clone(){return new $i(this.rgb)}alpha(t){return this._rgb.a=xi(t),this}clearer(t){let e=this._rgb;return e.a*=1-t,this}greyscale(){let t=this._rgb,e=Qs(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){let e=this._rgb;return e.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ko(this._rgb,2,t),this}darken(t){return Ko(this._rgb,2,-t),this}saturate(t){return Ko(this._rgb,1,t),this}desaturate(t){return Ko(this._rgb,1,-t),this}rotate(t){return fM(this._rgb,t),this}};/*!
 * Chart.js v4.3.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function de(){}var qh=(()=>{let i=0;return()=>i++})();function Z(i){return i===null||typeof i>"u"}function st(i){if(Array.isArray&&Array.isArray(i))return!0;let t=Object.prototype.toString.call(i);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function q(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function mt(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function Pt(i,t){return mt(i)?i:t}function V(i,t){return typeof i>"u"?t:i}var Xh=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/t,ia=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*t:+i;function tt(i,t,e){if(i&&typeof i.call=="function")return i.apply(e,t)}function G(i,t,e,n){let s,r,o;if(st(i))if(r=i.length,n)for(s=r-1;s>=0;s--)t.call(e,i[s],s);else for(s=0;s<r;s++)t.call(e,i[s],s);else if(q(i))for(o=Object.keys(i),r=o.length,s=0;s<r;s++)t.call(e,i[o[s]],o[s])}function Un(i,t){let e,n,s,r;if(!i||!t||i.length!==t.length)return!1;for(e=0,n=i.length;e<n;++e)if(s=i[e],r=t[e],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function er(i){if(st(i))return i.map(er);if(q(i)){let t=Object.create(null),e=Object.keys(i),n=e.length,s=0;for(;s<n;++s)t[e[s]]=er(i[e[s]]);return t}return i}function lb(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function cb(i,t,e,n){if(!lb(i))return;let s=t[i],r=e[i];q(s)&&q(r)?Gt(s,r,n):t[i]=er(r)}function Gt(i,t,e){let n=st(t)?t:[t],s=n.length;if(!q(i))return i;e=e||{};let r=e.merger||cb,o;for(let a=0;a<s;++a){if(o=n[a],!q(o))continue;let l=Object.keys(o);for(let c=0,h=l.length;c<h;++c)r(l[c],i,o,e)}return i}function qi(i,t){return Gt(i,t,{merger:hb})}function hb(i,t,e){if(!lb(i))return;let n=t[i],s=e[i];q(n)&&q(s)?qi(n,s):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=er(s))}var Qg={"":i=>i,x:i=>i.x,y:i=>i.y};function ub(i){let t=i.split("."),e=[],n="";for(let s of t)n+=s,n.endsWith("\\")?n=n.slice(0,-1)+".":(e.push(n),n="");return e}function $M(i){let t=ub(i);return e=>{for(let n of t){if(n==="")break;e=e&&e[n]}return e}}function Me(i,t){return(Qg[t]||(Qg[t]=$M(t)))(i)}function sr(i){return i.charAt(0).toUpperCase()+i.slice(1)}var Xi=i=>typeof i<"u",Ce=i=>typeof i=="function",na=(i,t)=>{if(i.size!==t.size)return!1;for(let e of i)if(!t.has(e))return!1;return!0};function Kh(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}var ct=Math.PI,rt=2*ct,fb=rt+ct,ir=Number.POSITIVE_INFINITY,db=ct/180,dt=ct/2,Si=ct/4,Yh=ct*2/3,Ee=Math.log10,le=Math.sign;function Ki(i,t,e){return Math.abs(i-t)<e}function sa(i){let t=Math.round(i);i=Ki(i,t,i/1e3)?t:i;let e=Math.pow(10,Math.floor(Ee(i))),n=i/e;return(n<=1?1:n<=2?2:n<=5?5:10)*e}function Gh(i){let t=[],e=Math.sqrt(i),n;for(n=1;n<e;n++)i%n===0&&(t.push(n),t.push(i/n));return e===(e|0)&&t.push(e),t.sort((s,r)=>s-r).pop(),t}function wi(i){return!isNaN(parseFloat(i))&&isFinite(i)}function Jh(i,t){let e=Math.round(i);return e-t<=i&&e+t>=i}function ra(i,t,e){let n,s,r;for(n=0,s=i.length;n<s;n++)r=i[n][e],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function Jt(i){return i*(ct/180)}function rr(i){return i*(180/ct)}function oa(i){if(!mt(i))return;let t=1,e=0;for(;Math.round(i*t)/t!==i;)t*=10,e++;return e}function aa(i,t){let e=t.x-i.x,n=t.y-i.y,s=Math.sqrt(e*e+n*n),r=Math.atan2(n,e);return r<-.5*ct&&(r+=rt),{angle:r,distance:s}}function nr(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function mb(i,t){return(i-t+fb)%rt-ct}function Dt(i){return(i%rt+rt)%rt}function Gi(i,t,e,n){let s=Dt(i),r=Dt(t),o=Dt(e),a=Dt(r-s),l=Dt(o-s),c=Dt(s-r),h=Dt(s-o);return s===r||s===o||n&&r===o||a>l&&c<h}function bt(i,t,e){return Math.max(t,Math.min(e,i))}function Qh(i){return bt(i,-32768,32767)}function me(i,t,e,n=1e-6){return i>=Math.min(t,e)-n&&i<=Math.max(t,e)+n}function or(i,t,e){e=e||(o=>i[o]<t);let n=i.length-1,s=0,r;for(;n-s>1;)r=s+n>>1,e(r)?s=r:n=r;return{lo:s,hi:n}}var ue=(i,t,e,n)=>or(i,e,n?s=>{let r=i[s][t];return r<e||r===e&&i[s+1][t]===e}:s=>i[s][t]<e),tu=(i,t,e)=>or(i,e,n=>i[n][t]>=e);function eu(i,t,e){let n=0,s=i.length;for(;n<s&&i[n]<t;)n++;for(;s>n&&i[s-1]>e;)s--;return n>0||s<i.length?i.slice(n,s):i}var pb=["push","pop","shift","splice","unshift"];function iu(i,t){if(i._chartjs){i._chartjs.listeners.push(t);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),pb.forEach(e=>{let n="_onData"+sr(e),s=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...r){let o=s.apply(this,r);return i._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...r)}),o}})})}function la(i,t){let e=i._chartjs;if(!e)return;let n=e.listeners,s=n.indexOf(t);s!==-1&&n.splice(s,1),!(n.length>0)&&(pb.forEach(r=>{delete i[r]}),delete i._chartjs)}function ca(i){let t=new Set(i);return t.size===i.length?i:Array.from(t)}var ha=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function ua(i,t){let e=[],n=!1;return function(...s){e=s,n||(n=!0,ha.call(window,()=>{n=!1,i.apply(t,e)}))}}function nu(i,t){let e;return function(...n){return t?(clearTimeout(e),e=setTimeout(i,t,n)):i.apply(this,n),t}}var ar=i=>i==="start"?"left":i==="end"?"right":"center",kt=(i,t,e)=>i==="start"?t:i==="end"?e:(t+e)/2,su=(i,t,e,n)=>i===(n?"left":"right")?e:i==="center"?(t+e)/2:t;function fa(i,t,e){let n=t.length,s=0,r=n;if(i._sorted){let{iScale:o,_parsed:a}=i,l=o.axis,{min:c,max:h,minDefined:u,maxDefined:f}=o.getUserBounds();u&&(s=bt(Math.min(ue(a,o.axis,c).lo,e?n:ue(t,l,o.getPixelForValue(c)).lo),0,n-1)),f?r=bt(Math.max(ue(a,o.axis,h,!0).hi+1,e?0:ue(t,l,o.getPixelForValue(h),!0).hi+1),s,n)-s:r=n-s}return{start:s,count:r}}function da(i){let{xScale:t,yScale:e,_scaleRanges:n}=i,s={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!n)return i._scaleRanges=s,!0;let r=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==e.min||n.ymax!==e.max;return Object.assign(n,s),r}var Go=i=>i===0||i===1,tb=(i,t,e)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-t)*rt/e)),eb=(i,t,e)=>Math.pow(2,-10*i)*Math.sin((i-t)*rt/e)+1,Yi={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*dt)+1,easeOutSine:i=>Math.sin(i*dt),easeInOutSine:i=>-.5*(Math.cos(ct*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>Go(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>Go(i)?i:tb(i,.075,.3),easeOutElastic:i=>Go(i)?i:eb(i,.075,.3),easeInOutElastic(i){return Go(i)?i:i<.5?.5*tb(i*2,.1125,.45):.5+.5*eb(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let t=1.70158;return(i/=.5)<1?.5*(i*i*(((t*=1.525)+1)*i-t)):.5*((i-=2)*i*(((t*=1.525)+1)*i+t)+2)},easeInBounce:i=>1-Yi.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?Yi.easeInBounce(i*2)*.5:Yi.easeOutBounce(i*2-1)*.5+.5};function ma(i){if(i&&typeof i=="object"){let t=i.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function pa(i){return ma(i)?i:new $i(i)}function ta(i){return ma(i)?i:new $i(i).saturate(.5).darken(.1).hexString()}var SM=["x","y","borderWidth","radius","tension"],vM=["color","borderColor","backgroundColor"];function wM(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),i.set("animations",{colors:{type:"color",properties:vM},numbers:{type:"number",properties:SM}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function kM(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var ib=new Map;function CM(i,t){t=t||{};let e=i+JSON.stringify(t),n=ib.get(e);return n||(n=new Intl.NumberFormat(i,t),ib.set(e,n)),n}function Ji(i,t,e){return CM(t,e).format(i)}var _b={values(i){return st(i)?i:""+i},numeric(i,t,e){if(i===0)return"0";let n=this.chart.options.locale,s,r=i;if(e.length>1){let c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),r=EM(i,e)}let o=Ee(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Ji(i,n,l)},logarithmic(i,t,e){if(i===0)return"0";let n=e[t].significand||i/Math.pow(10,Math.floor(Ee(i)));return[1,2,3,5,10,15].includes(n)||t>.8*e.length?_b.numeric.call(this,i,t,e):""}};function EM(i,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&i!==Math.floor(i)&&(e=i-Math.floor(i)),e}var lr={formatters:_b};function MM(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:lr.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var ki=Object.create(null),_a=Object.create(null);function tr(i,t){if(!t)return i;let e=t.split(".");for(let n=0,s=e.length;n<s;++n){let r=e[n];i=i[r]||(i[r]=Object.create(null))}return i}function Wh(i,t,e){return typeof t=="string"?Gt(tr(i,t),e):Gt(tr(i,""),t)}var Zh=class{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,s)=>ta(s.backgroundColor),this.hoverBorderColor=(n,s)=>ta(s.borderColor),this.hoverColor=(n,s)=>ta(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Wh(this,t,e)}get(t){return tr(this,t)}describe(t,e){return Wh(_a,t,e)}override(t,e){return Wh(ki,t,e)}route(t,e,n,s){let r=tr(this,t),o=tr(this,n),a="_"+e;Object.defineProperties(r,{[a]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){let l=this[a],c=o[s];return q(l)?Object.assign({},c,l):V(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(e=>e(this))}},ut=new Zh({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[wM,kM,MM]);function gb(i){return!i||Z(i.size)||Z(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function Bn(i,t,e,n,s){let r=t[s];return r||(r=t[s]=i.measureText(s).width,e.push(s)),r>n&&(n=r),n}function ru(i,t,e,n){n=n||{};let s=n.data=n.data||{},r=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(s=n.data={},r=n.garbageCollect=[],n.font=t),i.save(),i.font=t;let o=0,a=e.length,l,c,h,u,f;for(l=0;l<a;l++)if(u=e[l],u!=null&&!st(u))o=Bn(i,s,r,o,u);else if(st(u))for(c=0,h=u.length;c<h;c++)f=u[c],f!=null&&!st(f)&&(o=Bn(i,s,r,o,f));i.restore();let d=r.length/2;if(d>e.length){for(l=0;l<d;l++)delete s[r[l]];r.splice(0,d)}return o}function Ye(i,t,e){let n=i.currentDevicePixelRatio,s=e!==0?Math.max(e/2,.5):0;return Math.round((t-s)*n)/n+s}function ga(i,t){t=t||i.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore()}function cr(i,t,e,n){ba(i,t,e,n,null)}function ba(i,t,e,n,s){let r,o,a,l,c,h,u,f,d=t.pointStyle,m=t.rotation,_=t.radius,p=(m||0)*db;if(d&&typeof d=="object"&&(r=d.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){i.save(),i.translate(e,n),i.rotate(p),i.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),i.restore();return}if(!(isNaN(_)||_<=0)){switch(i.beginPath(),d){default:s?i.ellipse(e,n,s/2,_,0,0,rt):i.arc(e,n,_,0,rt),i.closePath();break;case"triangle":h=s?s/2:_,i.moveTo(e+Math.sin(p)*h,n-Math.cos(p)*_),p+=Yh,i.lineTo(e+Math.sin(p)*h,n-Math.cos(p)*_),p+=Yh,i.lineTo(e+Math.sin(p)*h,n-Math.cos(p)*_),i.closePath();break;case"rectRounded":c=_*.516,l=_-c,o=Math.cos(p+Si)*l,u=Math.cos(p+Si)*(s?s/2-c:l),a=Math.sin(p+Si)*l,f=Math.sin(p+Si)*(s?s/2-c:l),i.arc(e-u,n-a,c,p-ct,p-dt),i.arc(e+f,n-o,c,p-dt,p),i.arc(e+u,n+a,c,p,p+dt),i.arc(e-f,n+o,c,p+dt,p+ct),i.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*_,h=s?s/2:l,i.rect(e-h,n-l,2*h,2*l);break}p+=Si;case"rectRot":u=Math.cos(p)*(s?s/2:_),o=Math.cos(p)*_,a=Math.sin(p)*_,f=Math.sin(p)*(s?s/2:_),i.moveTo(e-u,n-a),i.lineTo(e+f,n-o),i.lineTo(e+u,n+a),i.lineTo(e-f,n+o),i.closePath();break;case"crossRot":p+=Si;case"cross":u=Math.cos(p)*(s?s/2:_),o=Math.cos(p)*_,a=Math.sin(p)*_,f=Math.sin(p)*(s?s/2:_),i.moveTo(e-u,n-a),i.lineTo(e+u,n+a),i.moveTo(e+f,n-o),i.lineTo(e-f,n+o);break;case"star":u=Math.cos(p)*(s?s/2:_),o=Math.cos(p)*_,a=Math.sin(p)*_,f=Math.sin(p)*(s?s/2:_),i.moveTo(e-u,n-a),i.lineTo(e+u,n+a),i.moveTo(e+f,n-o),i.lineTo(e-f,n+o),p+=Si,u=Math.cos(p)*(s?s/2:_),o=Math.cos(p)*_,a=Math.sin(p)*_,f=Math.sin(p)*(s?s/2:_),i.moveTo(e-u,n-a),i.lineTo(e+u,n+a),i.moveTo(e+f,n-o),i.lineTo(e-f,n+o);break;case"line":o=s?s/2:Math.cos(p)*_,a=Math.sin(p)*_,i.moveTo(e-o,n-a),i.lineTo(e+o,n+a);break;case"dash":i.moveTo(e,n),i.lineTo(e+Math.cos(p)*(s?s/2:_),n+Math.sin(p)*_);break;case!1:i.closePath();break}i.fill(),t.borderWidth>0&&i.stroke()}}function fe(i,t,e){return e=e||.5,!t||i&&i.x>t.left-e&&i.x<t.right+e&&i.y>t.top-e&&i.y<t.bottom+e}function Vn(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function Hn(i){i.restore()}function ou(i,t,e,n,s){if(!t)return i.lineTo(e.x,e.y);if(s==="middle"){let r=(t.x+e.x)/2;i.lineTo(r,t.y),i.lineTo(r,e.y)}else s==="after"!=!!n?i.lineTo(t.x,e.y):i.lineTo(e.x,t.y);i.lineTo(e.x,e.y)}function au(i,t,e,n){if(!t)return i.lineTo(e.x,e.y);i.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?e.cp2x:e.cp1x,n?e.cp2y:e.cp1y,e.x,e.y)}function TM(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),Z(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}function OM(i,t,e,n,s){if(s.strikethrough||s.underline){let r=i.measureText(n),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,l=e-r.actualBoundingBoxAscent,c=e+r.actualBoundingBoxDescent,h=s.strikethrough?(l+c)/2:c;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=s.decorationWidth||2,i.moveTo(o,h),i.lineTo(a,h),i.stroke()}}function AM(i,t){let e=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=e}function Ze(i,t,e,n,s,r={}){let o=st(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="",l,c;for(i.save(),i.font=s.string,TM(i,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&AM(i,r.backdrop),a&&(r.strokeColor&&(i.strokeStyle=r.strokeColor),Z(r.strokeWidth)||(i.lineWidth=r.strokeWidth),i.strokeText(c,e,n,r.maxWidth)),i.fillText(c,e,n,r.maxWidth),OM(i,e,n,c,r),n+=Number(s.lineHeight);i.restore()}function Qi(i,t){let{x:e,y:n,w:s,h:r,radius:o}=t;i.arc(e+o.topLeft,n+o.topLeft,o.topLeft,-dt,ct,!0),i.lineTo(e,n+r-o.bottomLeft),i.arc(e+o.bottomLeft,n+r-o.bottomLeft,o.bottomLeft,ct,dt,!0),i.lineTo(e+s-o.bottomRight,n+r),i.arc(e+s-o.bottomRight,n+r-o.bottomRight,o.bottomRight,dt,0,!0),i.lineTo(e+s,n+o.topRight),i.arc(e+s-o.topRight,n+o.topRight,o.topRight,0,-dt,!0),i.lineTo(e+o.topLeft,n)}var RM=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,DM=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function bb(i,t){let e=(""+i).match(RM);if(!e||e[1]==="normal")return t*1.2;switch(i=+e[2],e[3]){case"px":return i;case"%":i/=100;break}return t*i}var PM=i=>+i||0;function hr(i,t){let e={},n=q(t),s=n?Object.keys(t):t,r=q(i)?n?o=>V(i[o],i[t[o]]):o=>i[o]:()=>i;for(let o of s)e[o]=PM(r(o));return e}function ya(i){return hr(i,{top:"y",right:"x",bottom:"y",left:"x"})}function qe(i){return hr(i,["topLeft","topRight","bottomLeft","bottomRight"])}function yt(i){let t=ya(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function _t(i,t){i=i||{},t=t||ut.font;let e=V(i.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let n=V(i.style,t.style);n&&!(""+n).match(DM)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);let s={family:V(i.family,t.family),lineHeight:bb(V(i.lineHeight,t.lineHeight),e),size:e,style:n,weight:V(i.weight,t.weight),string:""};return s.string=gb(s),s}function it(i,t,e,n){let s=!0,r,o,a;for(r=0,o=i.length;r<o;++r)if(a=i[r],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),s=!1),e!==void 0&&st(a)&&(a=a[e%a.length],s=!1),a!==void 0))return n&&!s&&(n.cacheable=!1),a}function lu(i,t,e){let{min:n,max:s}=i,r=ia(t,(s-n)/2),o=(a,l)=>e&&a===0?0:a+l;return{min:o(n,-Math.abs(r)),max:o(s,r)}}function Te(i,t){return Object.assign(Object.create(i),t)}function ur(i,t=[""],e,n,s=()=>i[0]){let r=e||i;typeof n>"u"&&(n=$b("_fallback",i));let o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:r,_fallback:n,_getTarget:s,override:a=>ur([a,...i],t,r,n)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete i[0][l],!0},get(a,l){return yb(a,l,()=>UM(l,t,i,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(a,l){return sb(a).includes(l)},ownKeys(a){return sb(a)},set(a,l,c){let h=a._storage||(a._storage=s());return a[l]=h[l]=c,delete a._keys,!0}})}function vi(i,t,e,n){let s={_cacheable:!1,_proxy:i,_context:t,_subProxy:e,_stack:new Set,_descriptors:xa(i,n),setContext:r=>vi(i,r,e,n),override:r=>vi(i.override(r),t,e,n)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete i[o],!0},get(r,o,a){return yb(r,o,()=>FM(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(i,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,o)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(r,o){return Reflect.has(i,o)},ownKeys(){return Reflect.ownKeys(i)},set(r,o,a){return i[o]=a,delete r[o],!0}})}function xa(i,t={scriptable:!0,indexable:!0}){let{_scriptable:e=t.scriptable,_indexable:n=t.indexable,_allKeys:s=t.allKeys}=i;return{allKeys:s,scriptable:e,indexable:n,isScriptable:Ce(e)?e:()=>e,isIndexable:Ce(n)?n:()=>n}}var IM=(i,t)=>i?i+sr(t):t,cu=(i,t)=>q(t)&&i!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function yb(i,t,e){if(Object.prototype.hasOwnProperty.call(i,t))return i[t];let n=e();return i[t]=n,n}function FM(i,t,e){let{_proxy:n,_context:s,_subProxy:r,_descriptors:o}=i,a=n[t];return Ce(a)&&o.isScriptable(t)&&(a=LM(t,a,i,e)),st(a)&&a.length&&(a=NM(t,a,i,o.isIndexable)),cu(t,a)&&(a=vi(a,s,r&&r[t],o)),a}function LM(i,t,e,n){let{_proxy:s,_context:r,_subProxy:o,_stack:a}=e;if(a.has(i))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+i);a.add(i);let l=t(r,o||n);return a.delete(i),cu(i,l)&&(l=hu(s._scopes,s,i,l)),l}function NM(i,t,e,n){let{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=e;if(typeof r.index<"u"&&n(i))return t[r.index%t.length];if(q(t[0])){let l=t,c=s._scopes.filter(h=>h!==l);t=[];for(let h of l){let u=hu(c,s,i,h);t.push(vi(u,r,o&&o[i],a))}}return t}function xb(i,t,e){return Ce(i)?i(t,e):i}var zM=(i,t)=>i===!0?t:typeof i=="string"?Me(t,i):void 0;function BM(i,t,e,n,s){for(let r of t){let o=zM(e,r);if(o){i.add(o);let a=xb(o._fallback,e,s);if(typeof a<"u"&&a!==e&&a!==n)return a}else if(o===!1&&typeof n<"u"&&e!==n)return null}return!1}function hu(i,t,e,n){let s=t._rootScopes,r=xb(t._fallback,e,n),o=[...i,...s],a=new Set;a.add(n);let l=nb(a,o,e,r||e,n);return l===null||typeof r<"u"&&r!==e&&(l=nb(a,o,r,l,n),l===null)?!1:ur(Array.from(a),[""],s,r,()=>jM(t,e,n))}function nb(i,t,e,n,s){for(;e;)e=BM(i,t,e,n,s);return e}function jM(i,t,e){let n=i._getTarget();t in n||(n[t]={});let s=n[t];return st(s)&&q(e)?e:s||{}}function UM(i,t,e,n){let s;for(let r of t)if(s=$b(IM(r,i),e),typeof s<"u")return cu(i,s)?hu(e,n,i,s):s}function $b(i,t){for(let e of t){if(!e)continue;let n=e[i];if(typeof n<"u")return n}}function sb(i){let t=i._keys;return t||(t=i._keys=VM(i._scopes)),t}function VM(i){let t=new Set;for(let e of i)for(let n of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(n);return Array.from(t)}function $a(i,t,e,n){let{iScale:s}=i,{key:r="r"}=this._parsing,o=new Array(n),a,l,c,h;for(a=0,l=n;a<l;++a)c=a+e,h=t[c],o[a]={r:s.parse(Me(h,r),c)};return o}var HM=Number.EPSILON||1e-14,jn=(i,t)=>t<i.length&&!i[t].skip&&i[t],Sb=i=>i==="x"?"y":"x";function vb(i,t,e,n){let s=i.skip?t:i,r=t,o=e.skip?t:e,a=nr(r,s),l=nr(o,r),c=a/(a+l),h=l/(a+l);c=isNaN(c)?0:c,h=isNaN(h)?0:h;let u=n*c,f=n*h;return{previous:{x:r.x-u*(o.x-s.x),y:r.y-u*(o.y-s.y)},next:{x:r.x+f*(o.x-s.x),y:r.y+f*(o.y-s.y)}}}function WM(i,t,e){let n=i.length,s,r,o,a,l,c=jn(i,0);for(let h=0;h<n-1;++h)if(l=c,c=jn(i,h+1),!(!l||!c)){if(Ki(t[h],0,HM)){e[h]=e[h+1]=0;continue}s=e[h]/t[h],r=e[h+1]/t[h],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),e[h]=s*o*t[h],e[h+1]=r*o*t[h])}}function YM(i,t,e="x"){let n=Sb(e),s=i.length,r,o,a,l=jn(i,0);for(let c=0;c<s;++c){if(o=a,a=l,l=jn(i,c+1),!a)continue;let h=a[e],u=a[n];o&&(r=(h-o[e])/3,a[`cp1${e}`]=h-r,a[`cp1${n}`]=u-r*t[c]),l&&(r=(l[e]-h)/3,a[`cp2${e}`]=h+r,a[`cp2${n}`]=u+r*t[c])}}function wb(i,t="x"){let e=Sb(t),n=i.length,s=Array(n).fill(0),r=Array(n),o,a,l,c=jn(i,0);for(o=0;o<n;++o)if(a=l,l=c,c=jn(i,o+1),!!l){if(c){let h=c[t]-l[t];s[o]=h!==0?(c[e]-l[e])/h:0}r[o]=a?c?le(s[o-1])!==le(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}WM(i,s,r),YM(i,r,t)}function Jo(i,t,e){return Math.max(Math.min(i,e),t)}function ZM(i,t){let e,n,s,r,o,a=fe(i[0],t);for(e=0,n=i.length;e<n;++e)o=r,r=a,a=e<n-1&&fe(i[e+1],t),r&&(s=i[e],o&&(s.cp1x=Jo(s.cp1x,t.left,t.right),s.cp1y=Jo(s.cp1y,t.top,t.bottom)),a&&(s.cp2x=Jo(s.cp2x,t.left,t.right),s.cp2y=Jo(s.cp2y,t.top,t.bottom)))}function uu(i,t,e,n,s){let r,o,a,l;if(t.spanGaps&&(i=i.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")wb(i,s);else{let c=n?i[i.length-1]:i[0];for(r=0,o=i.length;r<o;++r)a=i[r],l=vb(c,a,i[Math.min(r+1,o-(n?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&ZM(i,e)}function Sa(){return typeof window<"u"&&typeof document<"u"}function fr(i){let t=i.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function ea(i,t,e){let n;return typeof i=="string"?(n=parseInt(i,10),i.indexOf("%")!==-1&&(n=n/100*t.parentNode[e])):n=i,n}var va=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function kb(i,t){return va(i).getPropertyValue(t)}var qM=["top","right","bottom","left"];function Zi(i,t,e){let n={};e=e?"-"+e:"";for(let s=0;s<4;s++){let r=qM[s];n[r]=parseFloat(i[t+"-"+r+e])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}var XM=(i,t,e)=>(i>0||t>0)&&(!e||!e.shadowRoot);function KM(i,t){let e=i.touches,n=e&&e.length?e[0]:i,{offsetX:s,offsetY:r}=n,o=!1,a,l;if(XM(s,r,i.target))a=s,l=r;else{let c=t.getBoundingClientRect();a=n.clientX-c.left,l=n.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Xe(i,t){if("native"in i)return i;let{canvas:e,currentDevicePixelRatio:n}=t,s=va(e),r=s.boxSizing==="border-box",o=Zi(s,"padding"),a=Zi(s,"border","width"),{x:l,y:c,box:h}=KM(i,e),u=o.left+(h&&a.left),f=o.top+(h&&a.top),{width:d,height:m}=t;return r&&(d-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-u)/d*e.width/n),y:Math.round((c-f)/m*e.height/n)}}function GM(i,t,e){let n,s;if(t===void 0||e===void 0){let r=fr(i);if(!r)t=i.clientWidth,e=i.clientHeight;else{let o=r.getBoundingClientRect(),a=va(r),l=Zi(a,"border","width"),c=Zi(a,"padding");t=o.width-c.width-l.width,e=o.height-c.height-l.height,n=ea(a.maxWidth,r,"clientWidth"),s=ea(a.maxHeight,r,"clientHeight")}}return{width:t,height:e,maxWidth:n||ir,maxHeight:s||ir}}var Qo=i=>Math.round(i*10)/10;function fu(i,t,e,n){let s=va(i),r=Zi(s,"margin"),o=ea(s.maxWidth,i,"clientWidth")||ir,a=ea(s.maxHeight,i,"clientHeight")||ir,l=GM(i,t,e),{width:c,height:h}=l;if(s.boxSizing==="content-box"){let f=Zi(s,"border","width"),d=Zi(s,"padding");c-=d.width+f.width,h-=d.height+f.height}return c=Math.max(0,c-r.width),h=Math.max(0,n?c/n:h-r.height),c=Qo(Math.min(c,o,l.maxWidth)),h=Qo(Math.min(h,a,l.maxHeight)),c&&!h&&(h=Qo(c/2)),(t!==void 0||e!==void 0)&&n&&l.height&&h>l.height&&(h=l.height,c=Qo(Math.floor(h*n))),{width:c,height:h}}function wa(i,t,e){let n=t||1,s=Math.floor(i.height*n),r=Math.floor(i.width*n);i.height=Math.floor(i.height),i.width=Math.floor(i.width);let o=i.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${i.height}px`,o.style.width=`${i.width}px`),i.currentDevicePixelRatio!==n||o.height!==s||o.width!==r?(i.currentDevicePixelRatio=n,o.height=s,o.width=r,i.ctx.setTransform(n,0,0,n,0,0),!0):!1}var du=function(){let i=!1;try{let t={get passive(){return i=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return i}();function ka(i,t){let e=kb(i,t),n=e&&e.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function We(i,t,e,n){return{x:i.x+e*(t.x-i.x),y:i.y+e*(t.y-i.y)}}function mu(i,t,e,n){return{x:i.x+e*(t.x-i.x),y:n==="middle"?e<.5?i.y:t.y:n==="after"?e<1?i.y:t.y:e>0?t.y:i.y}}function pu(i,t,e,n){let s={x:i.cp2x,y:i.cp2y},r={x:t.cp1x,y:t.cp1y},o=We(i,s,e),a=We(s,r,e),l=We(r,t,e),c=We(o,a,e),h=We(a,l,e);return We(c,h,e)}var JM=function(i,t){return{x(e){return i+i+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,n){return e-n},leftForLtr(e,n){return e-n}}},QM=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,t){return i+t},leftForLtr(i,t){return i}}};function Ci(i,t,e){return i?JM(t,e):QM()}function Ca(i,t){let e,n;(t==="ltr"||t==="rtl")&&(e=i.canvas.style,n=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),i.prevTextDirection=n)}function Ea(i,t){t!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}function Cb(i){return i==="angle"?{between:Gi,compare:mb,normalize:Dt}:{between:me,compare:(t,e)=>t-e,normalize:t=>t}}function rb({start:i,end:t,count:e,loop:n,style:s}){return{start:i%e,end:t%e,loop:n&&(t-i+1)%e===0,style:s}}function t6(i,t,e){let{property:n,start:s,end:r}=e,{between:o,normalize:a}=Cb(n),l=t.length,{start:c,end:h,loop:u}=i,f,d;if(u){for(c+=l,h+=l,f=0,d=l;f<d&&o(a(t[c%l][n]),s,r);++f)c--,h--;c%=l,h%=l}return h<c&&(h+=l),{start:c,end:h,loop:u,style:i.style}}function Ma(i,t,e){if(!e)return[i];let{property:n,start:s,end:r}=e,o=t.length,{compare:a,between:l,normalize:c}=Cb(n),{start:h,end:u,loop:f,style:d}=t6(i,t,e),m=[],_=!1,p=null,g,y,x,b=()=>l(s,x,g)&&a(s,x)!==0,$=()=>a(r,g)===0||l(r,x,g),w=()=>_||b(),v=()=>!_||$();for(let S=h,E=h;S<=u;++S)y=t[S%o],!y.skip&&(g=c(y[n]),g!==x&&(_=l(g,s,r),p===null&&w()&&(p=a(g,s)===0?S:E),p!==null&&v()&&(m.push(rb({start:p,end:S,loop:f,count:o,style:d})),p=null),E=S,x=g));return p!==null&&m.push(rb({start:p,end:u,loop:f,count:o,style:d})),m}function Ta(i,t){let e=[],n=i.segments;for(let s=0;s<n.length;s++){let r=Ma(n[s],i.points,t);r.length&&e.push(...r)}return e}function e6(i,t,e,n){let s=0,r=t-1;if(e&&!n)for(;s<t&&!i[s].skip;)s++;for(;s<t&&i[s].skip;)s++;for(s%=t,e&&(r+=s);r>s&&i[r%t].skip;)r--;return r%=t,{start:s,end:r}}function i6(i,t,e,n){let s=i.length,r=[],o=t,a=i[t],l;for(l=t+1;l<=e;++l){let c=i[l%s];c.skip||c.stop?a.skip||(n=!1,r.push({start:t%s,end:(l-1)%s,loop:n}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&r.push({start:t%s,end:o%s,loop:n}),r}function _u(i,t){let e=i.points,n=i.options.spanGaps,s=e.length;if(!s)return[];let r=!!i._loop,{start:o,end:a}=e6(e,s,r,n);if(n===!0)return ob(i,[{start:o,end:a,loop:r}],e,t);let l=a<o?a+s:a,c=!!i._fullLoop&&o===0&&a===s-1;return ob(i,i6(e,o,l,c),e,t)}function ob(i,t,e,n){return!n||!n.setContext||!e?t:n6(i,t,e,n)}function n6(i,t,e,n){let s=i._chart.getContext(),r=ab(i.options),{_datasetIndex:o,options:{spanGaps:a}}=i,l=e.length,c=[],h=r,u=t[0].start,f=u;function d(m,_,p,g){let y=a?-1:1;if(m!==_){for(m+=l;e[m%l].skip;)m-=y;for(;e[_%l].skip;)_+=y;m%l!==_%l&&(c.push({start:m%l,end:_%l,loop:p,style:g}),h=g,u=_%l)}}for(let m of t){u=a?u:m.start;let _=e[u%l],p;for(f=u+1;f<=m.end;f++){let g=e[f%l];p=ab(n.setContext(Te(s,{type:"segment",p0:_,p1:g,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),s6(p,h)&&d(u,f-1,m.loop,h),_=g,h=p}u<f-1&&d(u,f-1,m.loop,h)}return c}function ab(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function s6(i,t){if(!t)return!1;let e=[],n=function(s,r){return ma(r)?(e.includes(r)||e.push(r),e.indexOf(r)):r};return JSON.stringify(i,n)!==JSON.stringify(t,n)}/*!
 * Chart.js v4.3.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */var Cu=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,s){let r=e.listeners[s],o=e.duration;r.forEach(a=>a({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(n-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=ha.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((n,s)=>{if(!n.running||!n.items.length)return;let r=n.items,o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,n,t,"progress")),r.length||(n.running=!1,this._notify(s,n,t,"complete"),n.initial=!1),e+=r.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){let e=this._charts,n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){let e=this._charts.get(t);!e||(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((n,s)=>Math.max(n,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;let e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){let e=this._charts.get(t);if(!e||!e.items.length)return;let n=e.items,s=n.length-1;for(;s>=0;--s)n[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},Ke=new Cu,Eb="transparent",r6={boolean(i,t,e){return e>.5?t:i},color(i,t,e){let n=pa(i||Eb),s=n.valid&&pa(t||Eb);return s&&s.valid?s.mix(n,e).hexString():t},number(i,t,e){return i+(t-i)*e}},Eu=class{constructor(t,e,n,s){let r=e[n];s=it([t.to,s,r,t.from]);let o=it([t.from,r,s]);this._active=!0,this._fn=t.fn||r6[t.type||typeof o],this._easing=Yi[t.easing]||Yi.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);let s=this._target[this._prop],r=n-this._start,o=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=it([t.to,e,s,t.from]),this._from=it([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let e=t-this._start,n=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to,l;if(this._active=r!==a&&(o||e<n),!this._active){this._target[s]=a,this._notify(!0);return}if(e<0){this._target[s]=r;return}l=e/n%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,a,l)}wait(){let t=this._promises||(this._promises=[]);return new Promise((e,n)=>{t.push({res:e,rej:n})})}_notify(t){let e=t?"res":"rej",n=this._promises||[];for(let s=0;s<n.length;s++)n[s][e]()}},Na=class{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!q(t))return;let e=Object.keys(ut.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{let r=t[s];if(!q(r))return;let o={};for(let a of e)o[a]=r[a];(st(r.properties)&&r.properties||[s]).forEach(a=>{(a===s||!n.has(a))&&n.set(a,o)})})}_animateOptions(t,e){let n=e.options,s=a6(t,n);if(!s)return[];let r=this._createAnimations(s,n);return n.$shared&&o6(t.options.$animations,n).then(()=>{t.options=n},()=>{}),r}_createAnimations(t,e){let n=this._properties,s=[],r=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now(),l;for(l=o.length-1;l>=0;--l){let c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(t,e));continue}let h=e[c],u=r[c],f=n.get(c);if(u)if(f&&u.active()){u.update(f,h,a);continue}else u.cancel();if(!f||!f.duration){t[c]=h;continue}r[c]=u=new Eu(f,t,c,h),s.push(u)}return s}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}let n=this._createAnimations(t,e);if(n.length)return Ke.add(this._chart,n),!0}};function o6(i,t){let e=[],n=Object.keys(t);for(let s=0;s<n.length;s++){let r=i[n[s]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}function a6(i,t){if(!t)return;let e=i.options;if(!e){i.options=t;return}return e.$shared&&(i.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Mb(i,t){let e=i&&i.options||{},n=e.reverse,s=e.min===void 0?t:0,r=e.max===void 0?t:0;return{start:n?r:s,end:n?s:r}}function l6(i,t,e){if(e===!1)return!1;let n=Mb(i,e),s=Mb(t,e);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}function c6(i){let t,e,n,s;return q(i)?(t=i.top,e=i.right,n=i.bottom,s=i.left):t=e=n=s=i,{top:t,right:e,bottom:n,left:s,disabled:i===!1}}function C0(i,t){let e=[],n=i._getSortedDatasetMetas(t),s,r;for(s=0,r=n.length;s<r;++s)e.push(n[s].index);return e}function Tb(i,t,e,n={}){let s=i.keys,r=n.mode==="single",o,a,l,c;if(t!==null){for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===e){if(n.all)continue;break}c=i.values[l],mt(c)&&(r||t===0||le(t)===le(c))&&(t+=c)}return t}}function h6(i){let t=Object.keys(i),e=new Array(t.length),n,s,r;for(n=0,s=t.length;n<s;++n)r=t[n],e[n]={x:r,y:i[r]};return e}function Ob(i,t){let e=i&&i.options.stacked;return e||e===void 0&&t.stack!==void 0}function u6(i,t,e){return`${i.id}.${t.id}.${e.stack||e.type}`}function f6(i){let{min:t,max:e,minDefined:n,maxDefined:s}=i.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}function d6(i,t,e){let n=i[t]||(i[t]={});return n[e]||(n[e]={})}function Ab(i,t,e,n){for(let s of t.getMatchingVisibleMetas(n).reverse()){let r=i[s.index];if(e&&r>0||!e&&r<0)return s.index}return null}function Rb(i,t){let{chart:e,_cachedMeta:n}=i,s=e._stacks||(e._stacks={}),{iScale:r,vScale:o,index:a}=n,l=r.axis,c=o.axis,h=u6(r,o,n),u=t.length,f;for(let d=0;d<u;++d){let m=t[d],{[l]:_,[c]:p}=m,g=m._stacks||(m._stacks={});f=g[c]=d6(s,h,_),f[a]=p,f._top=Ab(f,o,!0,n.type),f._bottom=Ab(f,o,!1,n.type);let y=f._visualValues||(f._visualValues={});y[a]=p}}function gu(i,t){let e=i.scales;return Object.keys(e).filter(n=>e[n].axis===t).shift()}function m6(i,t){return Te(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function p6(i,t,e){return Te(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function dr(i,t){let e=i.controller.index,n=i.vScale&&i.vScale.axis;if(!!n){t=t||i._parsed;for(let s of t){let r=s._stacks;if(!r||r[n]===void 0||r[n][e]===void 0)return;delete r[n][e],r[n]._visualValues!==void 0&&r[n]._visualValues[e]!==void 0&&delete r[n]._visualValues[e]}}}var bu=i=>i==="reset"||i==="none",Db=(i,t)=>t?i:Object.assign({},i),_6=(i,t,e)=>i&&!t.hidden&&t._stacked&&{keys:C0(e,!0),values:null},Qt=class{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Ob(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&dr(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,e=this._cachedMeta,n=this.getDataset(),s=(u,f,d,m)=>u==="x"?f:u==="r"?m:d,r=e.xAxisID=V(n.xAxisID,gu(t,"x")),o=e.yAxisID=V(n.yAxisID,gu(t,"y")),a=e.rAxisID=V(n.rAxisID,gu(t,"r")),l=e.indexAxis,c=e.iAxisID=s(l,r,o,a),h=e.vAxisID=s(l,o,r,a);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(c),e.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&la(this._data,this),t._stacked&&dr(t)}_dataCheck(){let t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(q(e))this._data=h6(e);else if(n!==e){if(n){la(n,this);let s=this._cachedMeta;dr(s),s._parsed=[]}e&&Object.isExtensible(e)&&iu(e,this),this._syncList=[],this._data=e}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let e=this._cachedMeta,n=this.getDataset(),s=!1;this._dataCheck();let r=e._stacked;e._stacked=Ob(e.vScale,e),e.stack!==n.stack&&(s=!0,dr(e),e.stack=n.stack),this._resyncElements(t),(s||r!==e._stacked)&&Rb(this,e._parsed)}configure(){let t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){let{_cachedMeta:n,_data:s}=this,{iScale:r,_stacked:o}=n,a=r.axis,l=t===0&&e===s.length?!0:n._sorted,c=t>0&&n._parsed[t-1],h,u,f;if(this._parsing===!1)n._parsed=s,n._sorted=!0,f=s;else{st(s[t])?f=this.parseArrayData(n,s,t,e):q(s[t])?f=this.parseObjectData(n,s,t,e):f=this.parsePrimitiveData(n,s,t,e);let d=()=>u[a]===null||c&&u[a]<c[a];for(h=0;h<e;++h)n._parsed[h+t]=u=f[h],l&&(d()&&(l=!1),c=u);n._sorted=l}o&&Rb(this,f)}parsePrimitiveData(t,e,n,s){let{iScale:r,vScale:o}=t,a=r.axis,l=o.axis,c=r.getLabels(),h=r===o,u=new Array(s),f,d,m;for(f=0,d=s;f<d;++f)m=f+n,u[f]={[a]:h||r.parse(c[m],m),[l]:o.parse(e[m],m)};return u}parseArrayData(t,e,n,s){let{xScale:r,yScale:o}=t,a=new Array(s),l,c,h,u;for(l=0,c=s;l<c;++l)h=l+n,u=e[h],a[l]={x:r.parse(u[0],h),y:o.parse(u[1],h)};return a}parseObjectData(t,e,n,s){let{xScale:r,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s),h,u,f,d;for(h=0,u=s;h<u;++h)f=h+n,d=e[f],c[h]={x:r.parse(Me(d,a),f),y:o.parse(Me(d,l),f)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){let s=this.chart,r=this._cachedMeta,o=e[t.axis],a={keys:C0(s,!0),values:e._stacks[t.axis]._visualValues};return Tb(a,o,r.index,{mode:n})}updateRangeFromParsed(t,e,n,s){let r=n[e.axis],o=r===null?NaN:r,a=s&&n._stacks[e.axis];s&&a&&(s.values=a,o=Tb(s,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){let n=this._cachedMeta,s=n._parsed,r=n._sorted&&t===n.iScale,o=s.length,a=this._getOtherScale(t),l=_6(e,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:u}=f6(a),f,d;function m(){d=s[f];let _=d[a.axis];return!mt(d[t.axis])||h>_||u<_}for(f=0;f<o&&!(!m()&&(this.updateRangeFromParsed(c,t,d,l),r));++f);if(r){for(f=o-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(c,t,d,l);break}}return c}getAllParsedValues(t){let e=this._cachedMeta._parsed,n=[],s,r,o;for(s=0,r=e.length;s<r;++s)o=e[s][t.axis],mt(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(t){let e=this._cachedMeta,n=e.iScale,s=e.vScale,r=this.getParsed(t);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(t){let e=this._cachedMeta;this.update(t||"default"),e._clip=c6(V(this.options.clip,l6(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,e=this.chart,n=this._cachedMeta,s=n.data||[],r=e.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop,h;for(n.dataset&&n.dataset.draw(t,r,a,l),h=a;h<a+l;++h){let u=s[h];u.hidden||(u.active&&c?o.push(u):u.draw(t,r))}for(h=0;h<o.length;++h)o[h].draw(t,r)}getStyle(t,e){let n=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){let s=this.getDataset(),r;if(t>=0&&t<this._cachedMeta.data.length){let o=this._cachedMeta.data[t];r=o.$context||(o.$context=p6(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=s.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=m6(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=n,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",n){let s=e==="active",r=this._cachedDataOpts,o=t+"-"+e,a=r[o],l=this.enableOptionSharing&&Xi(n);if(a)return Db(a,l);let c=this.chart.config,h=c.datasetElementScopeKeys(this._type,t),u=s?[`${t}Hover`,"hover",t,""]:[t,""],f=c.getOptionScopes(this.getDataset(),h),d=Object.keys(ut.elements[t]),m=()=>this.getContext(n,s,e),_=c.resolveNamedOptions(f,d,m,u);return _.$shared&&(_.$shared=l,r[o]=Object.freeze(Db(_,l))),_}_resolveAnimations(t,e,n){let s=this.chart,r=this._cachedDataOpts,o=`animation-${e}`,a=r[o];if(a)return a;let l;if(s.options.animation!==!1){let h=this.chart.config,u=h.datasetAnimationScopeKeys(this._type,e),f=h.getOptionScopes(this.getDataset(),u);l=h.createResolver(f,this.getContext(t,n,e))}let c=new Na(s,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(t){if(!!t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||bu(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){let n=this.resolveDataElementOptions(t,e),s=this._sharedOptions,r=this.getSharedOptions(n),o=this.includeOptions(e,r)||r!==s;return this.updateSharedOptions(r,e,n),{sharedOptions:r,includeOptions:o}}updateElement(t,e,n,s){bu(s)?Object.assign(t,n):this._resolveAnimations(e,s).update(t,n)}updateSharedOptions(t,e,n){t&&!bu(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,s){t.active=s;let r=this.getStyle(e,s);this._resolveAnimations(e,n,s).update(t,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let e=this._data,n=this._cachedMeta.data;for(let[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];let s=n.length,r=e.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,t):r<s&&this._removeElements(r,s-r)}_insertElements(t,e,n=!0){let s=this._cachedMeta,r=s.data,o=t+e,a,l=c=>{for(c.length+=e,a=c.length-1;a>=o;a--)c[a]=c[a-e]};for(l(r),a=t;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(t,e),n&&this.updateElements(r,t,e,"reset")}updateElements(t,e,n,s){}_removeElements(t,e){let n=this._cachedMeta;if(this._parsing){let s=n._parsed.splice(t,e);n._stacked&&dr(n,s)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[e,n,s]=t;this[e](n,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);let n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}};F(Qt,"defaults",{}),F(Qt,"datasetElementType",null),F(Qt,"dataElementType",null);function g6(i,t){if(!i._cache.$bar){let e=i.getMatchingVisibleMetas(t),n=[];for(let s=0,r=e.length;s<r;s++)n=n.concat(e[s].controller.getAllParsedValues(i));i._cache.$bar=ca(n.sort((s,r)=>s-r))}return i._cache.$bar}function b6(i){let t=i.iScale,e=g6(t,i.type),n=t._length,s,r,o,a,l=()=>{o===32767||o===-32768||(Xi(a)&&(n=Math.min(n,Math.abs(o-a)||n)),a=o)};for(s=0,r=e.length;s<r;++s)o=t.getPixelForValue(e[s]),l();for(a=void 0,s=0,r=t.ticks.length;s<r;++s)o=t.getPixelForTick(s),l();return n}function y6(i,t,e,n){let s=e.barThickness,r,o;return Z(s)?(r=t.min*e.categoryPercentage,o=e.barPercentage):(r=s*n,o=1),{chunk:r/n,ratio:o,start:t.pixels[i]-r/2}}function x6(i,t,e,n){let s=t.pixels,r=s[i],o=i>0?s[i-1]:null,a=i<s.length-1?s[i+1]:null,l=e.categoryPercentage;o===null&&(o=r-(a===null?t.end-t.start:a-r)),a===null&&(a=r+r-o);let c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/n,ratio:e.barPercentage,start:c}}function $6(i,t,e,n){let s=e.parse(i[0],n),r=e.parse(i[1],n),o=Math.min(s,r),a=Math.max(s,r),l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[e.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:r,min:o,max:a}}function E0(i,t,e,n){return st(i)?$6(i,t,e,n):t[e.axis]=e.parse(i,n),t}function Pb(i,t,e,n){let s=i.iScale,r=i.vScale,o=s.getLabels(),a=s===r,l=[],c,h,u,f;for(c=e,h=e+n;c<h;++c)f=t[c],u={},u[s.axis]=a||s.parse(o[c],c),l.push(E0(f,u,r,c));return l}function yu(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function S6(i,t,e){return i!==0?le(i):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function v6(i){let t,e,n,s,r;return i.horizontal?(t=i.base>i.x,e="left",n="right"):(t=i.base<i.y,e="bottom",n="top"),t?(s="end",r="start"):(s="start",r="end"),{start:e,end:n,reverse:t,top:s,bottom:r}}function w6(i,t,e,n){let s=t.borderSkipped,r={};if(!s){i.borderSkipped=r;return}if(s===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:o,end:a,reverse:l,top:c,bottom:h}=v6(i);s==="middle"&&e&&(i.enableBorderRadius=!0,(e._top||0)===n?s=c:(e._bottom||0)===n?s=h:(r[Ib(h,o,a,l)]=!0,s=c)),r[Ib(s,o,a,l)]=!0,i.borderSkipped=r}function Ib(i,t,e,n){return n?(i=k6(i,t,e),i=Fb(i,e,t)):i=Fb(i,t,e),i}function k6(i,t,e){return i===t?e:i===e?t:i}function Fb(i,t,e){return i==="start"?t:i==="end"?e:i}function C6(i,{inflateAmount:t},e){i.inflateAmount=t==="auto"?e===1?.33:0:t}var Yn=class extends Qt{parsePrimitiveData(t,e,n,s){return Pb(t,e,n,s)}parseArrayData(t,e,n,s){return Pb(t,e,n,s)}parseObjectData(t,e,n,s){let{iScale:r,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,h=o.axis==="x"?a:l,u=[],f,d,m,_;for(f=n,d=n+s;f<d;++f)_=e[f],m={},m[r.axis]=r.parse(Me(_,c),f),u.push(E0(Me(_,h),m,o,f));return u}updateRangeFromParsed(t,e,n,s){super.updateRangeFromParsed(t,e,n,s);let r=n._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){let e=this._cachedMeta,{iScale:n,vScale:s}=e,r=this.getParsed(t),o=r._custom,a=yu(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();let t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){let e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,s){let r=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),h=this._getRuler(),{sharedOptions:u,includeOptions:f}=this._getSharedOptions(e,s);for(let d=e;d<e+n;d++){let m=this.getParsed(d),_=r||Z(m[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(d),p=this._calculateBarIndexPixels(d,h),g=(m._stacks||{})[a.axis],y={horizontal:c,base:_.base,enableBorderRadius:!g||yu(m._custom)||o===g._top||o===g._bottom,x:c?_.head:p.center,y:c?p.center:_.head,height:c?p.size:Math.abs(_.size),width:c?Math.abs(_.size):p.size};f&&(y.options=u||this.resolveDataElementOptions(d,t[d].active?"active":s));let x=y.options||t[d].options;w6(y,x,g,o),C6(y,x,h.ratio),this.updateElement(t[d],d,y,s)}}_getStacks(t,e){let{iScale:n}=this._cachedMeta,s=n.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),r=n.options.stacked,o=[],a=l=>{let c=l.controller.getParsed(e),h=c&&c[l.vScale.axis];if(Z(h)||isNaN(h))return!0};for(let l of s)if(!(e!==void 0&&a(l))&&((r===!1||o.indexOf(l.stack)===-1||r===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){let s=this._getStacks(t,n),r=e!==void 0?s.indexOf(e):-1;return r===-1?s.length-1:r}_getRuler(){let t=this.options,e=this._cachedMeta,n=e.iScale,s=[],r,o;for(r=0,o=e.data.length;r<o;++r)s.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));let a=t.barThickness;return{min:a||b6(e),pixels:s,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){let{_cachedMeta:{vScale:e,_stacked:n,index:s},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(t),c=l._custom,h=yu(c),u=l[e.axis],f=0,d=n?this.applyStack(e,l,n):u,m,_;d!==u&&(f=d-u,d=u),h&&(u=c.barStart,d=c.barEnd-c.barStart,u!==0&&le(u)!==le(c.barEnd)&&(f=0),f+=u);let p=!Z(r)&&!h?r:f,g=e.getPixelForValue(p);if(this.chart.getDataVisibility(t)?m=e.getPixelForValue(f+d):m=g,_=m-g,Math.abs(_)<o){_=S6(_,e,a)*o,u===a&&(g-=_/2);let y=e.getPixelForDecimal(0),x=e.getPixelForDecimal(1),b=Math.min(y,x),$=Math.max(y,x);g=Math.max(Math.min(g,$),b),m=g+_,n&&!h&&(l._stacks[e.axis]._visualValues[s]=e.getValueForPixel(m)-e.getValueForPixel(g))}if(g===e.getPixelForValue(a)){let y=le(_)*e.getLineWidthForValue(a)/2;g+=y,_-=y}return{size:_,base:g,head:m,center:m+_/2}}_calculateBarIndexPixels(t,e){let n=e.scale,s=this.options,r=s.skipNull,o=V(s.maxBarThickness,1/0),a,l;if(e.grouped){let c=r?this._getStackCount(t):e.stackCount,h=s.barThickness==="flex"?x6(t,e,s,c):y6(t,e,s,c),u=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);a=h.start+h.chunk*u+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=n.getPixelForValue(this.getParsed(t)[n.axis],t),l=Math.min(o,e.min*e.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){let t=this._cachedMeta,e=t.vScale,n=t.data,s=n.length,r=0;for(;r<s;++r)this.getParsed(r)[e.axis]!==null&&n[r].draw(this._ctx)}};F(Yn,"id","bar"),F(Yn,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),F(Yn,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});var Zn=class extends Qt{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,s){let r=super.parsePrimitiveData(t,e,n,s);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+n).radius;return r}parseArrayData(t,e,n,s){let r=super.parseArrayData(t,e,n,s);for(let o=0;o<r.length;o++){let a=e[n+o];r[o]._custom=V(a[2],this.resolveDataElementOptions(o+n).radius)}return r}parseObjectData(t,e,n,s){let r=super.parseObjectData(t,e,n,s);for(let o=0;o<r.length;o++){let a=e[n+o];r[o]._custom=V(a&&a.r&&+a.r,this.resolveDataElementOptions(o+n).radius)}return r}getMaxOverflow(){let t=this._cachedMeta.data,e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){let e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:s,yScale:r}=e,o=this.getParsed(t),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:n[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){let e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,s){let r=s==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(e,s),h=o.axis,u=a.axis;for(let f=e;f<e+n;f++){let d=t[f],m=!r&&this.getParsed(f),_={},p=_[h]=r?o.getPixelForDecimal(.5):o.getPixelForValue(m[h]),g=_[u]=r?a.getBasePixel():a.getPixelForValue(m[u]);_.skip=isNaN(p)||isNaN(g),c&&(_.options=l||this.resolveDataElementOptions(f,d.active?"active":s),r&&(_.options.radius=0)),this.updateElement(d,f,_,s)}}resolveDataElementOptions(t,e){let n=this.getParsed(t),s=super.resolveDataElementOptions(t,e);s.$shared&&(s=Object.assign({},s,{$shared:!1}));let r=s.radius;return e!=="active"&&(s.radius=0),s.radius+=V(n&&n._custom,r),s}};F(Zn,"id","bubble"),F(Zn,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),F(Zn,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function E6(i,t,e){let n=1,s=1,r=0,o=0;if(t<rt){let a=i,l=a+t,c=Math.cos(a),h=Math.sin(a),u=Math.cos(l),f=Math.sin(l),d=(x,b,$)=>Gi(x,a,l,!0)?1:Math.max(b,b*e,$,$*e),m=(x,b,$)=>Gi(x,a,l,!0)?-1:Math.min(b,b*e,$,$*e),_=d(0,c,u),p=d(dt,h,f),g=m(ct,c,u),y=m(ct+dt,h,f);n=(_-g)/2,s=(p-y)/2,r=-(_+g)/2,o=-(p+y)/2}return{ratioX:n,ratioY:s,offsetX:r,offsetY:o}}var Je=class extends Qt{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){let n=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=n;else{let r=l=>+n[l];if(q(n[t])){let{key:l="value"}=this._parsing;r=c=>+Me(n[c],l)}let o,a;for(o=t,a=t+e;o<a;++o)s._parsed[o]=r(o)}}_getRotation(){return Jt(this.options.rotation-90)}_getCircumference(){return Jt(this.options.circumference)}_getRotationExtents(){let t=rt,e=-rt;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){let s=this.chart.getDatasetMeta(n).controller,r=s._getRotation(),o=s._getCircumference();t=Math.min(t,r),e=Math.max(e,r+o)}return{rotation:t,circumference:e-t}}update(t){let e=this.chart,{chartArea:n}=e,s=this._cachedMeta,r=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-o)/2,0),l=Math.min(Xh(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:h,rotation:u}=this._getRotationExtents(),{ratioX:f,ratioY:d,offsetX:m,offsetY:_}=E6(u,h,l),p=(n.width-o)/f,g=(n.height-o)/d,y=Math.max(Math.min(p,g)/2,0),x=ia(this.options.radius,y),b=Math.max(x*l,0),$=(x-b)/this._getVisibleDatasetWeightTotal();this.offsetX=m*x,this.offsetY=_*x,s.total=this.calculateTotal(),this.outerRadius=x-$*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-$*c,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){let n=this.options,s=this._cachedMeta,r=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*r/rt)}updateElements(t,e,n,s){let r=s==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,h=(a.left+a.right)/2,u=(a.top+a.bottom)/2,f=r&&c.animateScale,d=f?0:this.innerRadius,m=f?0:this.outerRadius,{sharedOptions:_,includeOptions:p}=this._getSharedOptions(e,s),g=this._getRotation(),y;for(y=0;y<e;++y)g+=this._circumference(y,r);for(y=e;y<e+n;++y){let x=this._circumference(y,r),b=t[y],$={x:h+this.offsetX,y:u+this.offsetY,startAngle:g,endAngle:g+x,circumference:x,outerRadius:m,innerRadius:d};p&&($.options=_||this.resolveDataElementOptions(y,b.active?"active":s)),g+=x,this.updateElement(b,y,$,s)}}calculateTotal(){let t=this._cachedMeta,e=t.data,n=0,s;for(s=0;s<e.length;s++){let r=t._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!e[s].hidden&&(n+=Math.abs(r))}return n}calculateCircumference(t){let e=this._cachedMeta.total;return e>0&&!isNaN(t)?rt*(Math.abs(t)/e):0}getLabelAndValue(t){let e=this._cachedMeta,n=this.chart,s=n.data.labels||[],r=Ji(e._parsed[t],n.options.locale);return{label:s[t]||"",value:r}}getMaxBorderWidth(t){let e=0,n=this.chart,s,r,o,a,l;if(!t){for(s=0,r=n.data.datasets.length;s<r;++s)if(n.isDatasetVisible(s)){o=n.getDatasetMeta(s),t=o.data,a=o.controller;break}}if(!t)return 0;for(s=0,r=t.length;s<r;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(e=Math.max(e,l.borderWidth||0,l.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,s=t.length;n<s;++n){let r=this.resolveDataElementOptions(n);e=Math.max(e,r.offset||0,r.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(V(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}};F(Je,"id","doughnut"),F(Je,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),F(Je,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),F(Je,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let e=t.data;if(e.labels.length&&e.datasets.length){let{labels:{pointStyle:n,color:s}}=t.legend.options;return e.labels.map((r,o)=>{let l=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}}});var qn=class extends Qt{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let e=this._cachedMeta,{dataset:n,data:s=[],_dataset:r}=e,o=this.chart._animationsDisabled,{start:a,count:l}=fa(e,s,o);this._drawStart=a,this._drawCount=l,da(e)&&(a=0,l=s.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=s;let c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:c},t),this.updateElements(s,a,l,t)}updateElements(t,e,n,s){let r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:h,includeOptions:u}=this._getSharedOptions(e,s),f=o.axis,d=a.axis,{spanGaps:m,segment:_}=this.options,p=wi(m)?m:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||r||s==="none",y=e+n,x=t.length,b=e>0&&this.getParsed(e-1);for(let $=0;$<x;++$){let w=t[$],v=g?w:{};if($<e||$>=y){v.skip=!0;continue}let S=this.getParsed($),E=Z(S[d]),C=v[f]=o.getPixelForValue(S[f],$),M=v[d]=r||E?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,S,l):S[d],$);v.skip=isNaN(C)||isNaN(M)||E,v.stop=$>0&&Math.abs(S[f]-b[f])>p,_&&(v.parsed=S,v.raw=c.data[$]),u&&(v.options=h||this.resolveDataElementOptions($,w.active?"active":s)),g||this.updateElement(w,$,v,s),b=S}}getMaxOverflow(){let t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,s=t.data||[];if(!s.length)return n;let r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(n,r,o)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}};F(qn,"id","line"),F(qn,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),F(qn,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});var sn=class extends Qt{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){let e=this._cachedMeta,n=this.chart,s=n.data.labels||[],r=Ji(e._parsed[t].r,n.options.locale);return{label:s[t]||"",value:r}}parseObjectData(t,e,n,s){return $a.bind(this)(t,e,n,s)}update(t){let e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){let t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((n,s)=>{let r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<e.min&&(e.min=r),r>e.max&&(e.max=r))}),e}_updateRadius(){let t=this.chart,e=t.chartArea,n=t.options,s=Math.min(e.right-e.left,e.bottom-e.top),r=Math.max(s/2,0),o=Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0),a=(r-o)/t.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,e,n,s){let r=s==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,h=c.xCenter,u=c.yCenter,f=c.getIndexAngle(0)-.5*ct,d=f,m,_=360/this.countVisibleElements();for(m=0;m<e;++m)d+=this._computeAngle(m,s,_);for(m=e;m<e+n;m++){let p=t[m],g=d,y=d+this._computeAngle(m,s,_),x=o.getDataVisibility(m)?c.getDistanceFromCenterForValue(this.getParsed(m).r):0;d=y,r&&(l.animateScale&&(x=0),l.animateRotate&&(g=y=f));let b={x:h,y:u,innerRadius:0,outerRadius:x,startAngle:g,endAngle:y,options:this.resolveDataElementOptions(m,p.active?"active":s)};this.updateElement(p,m,b,s)}}countVisibleElements(){let t=this._cachedMeta,e=0;return t.data.forEach((n,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&e++}),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?Jt(this.resolveDataElementOptions(t,e).angle||n):0}};F(sn,"id","polarArea"),F(sn,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),F(sn,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let e=t.data;if(e.labels.length&&e.datasets.length){let{labels:{pointStyle:n,color:s}}=t.legend.options;return e.labels.map((r,o)=>{let l=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});var br=class extends Je{};F(br,"id","pie"),F(br,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});var Xn=class extends Qt{getLabelAndValue(t){let e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,s){return $a.bind(this)(t,e,n,s)}update(t){let e=this._cachedMeta,n=e.dataset,s=e.data||[],r=e.iScale.getLabels();if(n.points=s,t!=="resize"){let o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);let a={_loop:!0,_fullLoop:r.length===s.length,options:o};this.updateElement(n,void 0,a,t)}this.updateElements(s,0,s.length,t)}updateElements(t,e,n,s){let r=this._cachedMeta.rScale,o=s==="reset";for(let a=e;a<e+n;a++){let l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":s),h=r.getPointPositionForValue(a,this.getParsed(a).r),u=o?r.xCenter:h.x,f=o?r.yCenter:h.y,d={x:u,y:f,angle:h.angle,skip:isNaN(u)||isNaN(f),options:c};this.updateElement(l,a,d,s)}}};F(Xn,"id","radar"),F(Xn,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),F(Xn,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});var Kn=class extends Qt{getLabelAndValue(t){let e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:s,yScale:r}=e,o=this.getParsed(t),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:n[t]||"",value:"("+a+", "+l+")"}}update(t){let e=this._cachedMeta,{data:n=[]}=e,s=this.chart._animationsDisabled,{start:r,count:o}=fa(e,n,s);if(this._drawStart=r,this._drawCount=o,da(e)&&(r=0,o=n.length),this.options.showLine){let{dataset:a,_dataset:l}=e;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=n;let c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:c},t)}this.updateElements(n,r,o,t)}addElements(){let{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,n,s){let r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,h=this.resolveDataElementOptions(e,s),u=this.getSharedOptions(h),f=this.includeOptions(s,u),d=o.axis,m=a.axis,{spanGaps:_,segment:p}=this.options,g=wi(_)?_:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||s==="none",x=e>0&&this.getParsed(e-1);for(let b=e;b<e+n;++b){let $=t[b],w=this.getParsed(b),v=y?$:{},S=Z(w[m]),E=v[d]=o.getPixelForValue(w[d],b),C=v[m]=r||S?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,w,l):w[m],b);v.skip=isNaN(E)||isNaN(C)||S,v.stop=b>0&&Math.abs(w[d]-x[d])>g,p&&(v.parsed=w,v.raw=c.data[b]),f&&(v.options=u||this.resolveDataElementOptions(b,$.active?"active":s)),y||this.updateElement($,b,v,s),x=w}this.updateSharedOptions(u,s,h)}getMaxOverflow(){let t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let a=0;for(let l=e.length-1;l>=0;--l)a=Math.max(a,e[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}let n=t.dataset,s=n.options&&n.options.borderWidth||0;if(!e.length)return s;let r=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(s,r,o)/2}};F(Kn,"id","scatter"),F(Kn,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),F(Kn,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var M6=Object.freeze({__proto__:null,BarController:Yn,BubbleController:Zn,DoughnutController:Je,LineController:qn,PieController:br,PolarAreaController:sn,RadarController:Xn,ScatterController:Kn});function tn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Cr=class{static override(t){Object.assign(Cr.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return tn()}parse(){return tn()}format(){return tn()}add(){return tn()}diff(){return tn()}startOf(){return tn()}endOf(){return tn()}},T6={_date:Cr};function O6(i,t,e,n){let{controller:s,data:r,_sorted:o}=i,a=s._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&o&&r.length){let l=a._reversePixels?tu:ue;if(n){if(s._sharedOptions){let c=r[0],h=typeof c.getRange=="function"&&c.getRange(t);if(h){let u=l(r,t,e-h),f=l(r,t,e+h);return{lo:u.lo,hi:f.hi}}}}else return l(r,t,e)}return{lo:0,hi:r.length-1}}function Or(i,t,e,n,s){let r=i.getSortedVisibleDatasetMetas(),o=e[t];for(let a=0,l=r.length;a<l;++a){let{index:c,data:h}=r[a],{lo:u,hi:f}=O6(r[a],t,o,s);for(let d=u;d<=f;++d){let m=h[d];m.skip||n(m,c,d)}}}function A6(i){let t=i.indexOf("x")!==-1,e=i.indexOf("y")!==-1;return function(n,s){let r=t?Math.abs(n.x-s.x):0,o=e?Math.abs(n.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function xu(i,t,e,n,s){let r=[];return!s&&!i.isPointInArea(t)||Or(i,e,t,function(a,l,c){!s&&!fe(a,i.chartArea,0)||a.inRange(t.x,t.y,n)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function R6(i,t,e,n){let s=[];function r(o,a,l){let{startAngle:c,endAngle:h}=o.getProps(["startAngle","endAngle"],n),{angle:u}=aa(o,{x:t.x,y:t.y});Gi(u,c,h)&&s.push({element:o,datasetIndex:a,index:l})}return Or(i,e,t,r),s}function D6(i,t,e,n,s,r){let o=[],a=A6(e),l=Number.POSITIVE_INFINITY;function c(h,u,f){let d=h.inRange(t.x,t.y,s);if(n&&!d)return;let m=h.getCenterPoint(s);if(!(!!r||i.isPointInArea(m))&&!d)return;let p=a(t,m);p<l?(o=[{element:h,datasetIndex:u,index:f}],l=p):p===l&&o.push({element:h,datasetIndex:u,index:f})}return Or(i,e,t,c),o}function $u(i,t,e,n,s,r){return!r&&!i.isPointInArea(t)?[]:e==="r"&&!n?R6(i,t,e,s):D6(i,t,e,n,s,r)}function Lb(i,t,e,n,s){let r=[],o=e==="x"?"inXRange":"inYRange",a=!1;return Or(i,e,t,(l,c,h)=>{l[o](t[e],s)&&(r.push({element:l,datasetIndex:c,index:h}),a=a||l.inRange(t.x,t.y,s))}),n&&!a?[]:r}var P6={evaluateInteractionItems:Or,modes:{index(i,t,e,n){let s=Xe(t,i),r=e.axis||"x",o=e.includeInvisible||!1,a=e.intersect?xu(i,s,r,n,o):$u(i,s,r,!1,n,o),l=[];return a.length?(i.getSortedVisibleDatasetMetas().forEach(c=>{let h=a[0].index,u=c.data[h];u&&!u.skip&&l.push({element:u,datasetIndex:c.index,index:h})}),l):[]},dataset(i,t,e,n){let s=Xe(t,i),r=e.axis||"xy",o=e.includeInvisible||!1,a=e.intersect?xu(i,s,r,n,o):$u(i,s,r,!1,n,o);if(a.length>0){let l=a[0].datasetIndex,c=i.getDatasetMeta(l).data;a=[];for(let h=0;h<c.length;++h)a.push({element:c[h],datasetIndex:l,index:h})}return a},point(i,t,e,n){let s=Xe(t,i),r=e.axis||"xy",o=e.includeInvisible||!1;return xu(i,s,r,n,o)},nearest(i,t,e,n){let s=Xe(t,i),r=e.axis||"xy",o=e.includeInvisible||!1;return $u(i,s,r,e.intersect,n,o)},x(i,t,e,n){let s=Xe(t,i);return Lb(i,s,"x",e.intersect,n)},y(i,t,e,n){let s=Xe(t,i);return Lb(i,s,"y",e.intersect,n)}}},M0=["left","top","right","bottom"];function mr(i,t){return i.filter(e=>e.pos===t)}function Nb(i,t){return i.filter(e=>M0.indexOf(e.pos)===-1&&e.box.axis===t)}function pr(i,t){return i.sort((e,n)=>{let s=t?n:e,r=t?e:n;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function I6(i){let t=[],e,n,s,r,o,a;for(e=0,n=(i||[]).length;e<n;++e)s=i[e],{position:r,options:{stack:o,stackWeight:a=1}}=s,t.push({index:e,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return t}function F6(i){let t={};for(let e of i){let{stack:n,pos:s,stackWeight:r}=e;if(!n||!M0.includes(s))continue;let o=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function L6(i,t){let e=F6(i),{vBoxMaxWidth:n,hBoxMaxHeight:s}=t,r,o,a;for(r=0,o=i.length;r<o;++r){a=i[r];let{fullSize:l}=a.box,c=e[a.stack],h=c&&a.stackWeight/c.weight;a.horizontal?(a.width=h?h*n:l&&t.availableWidth,a.height=s):(a.width=n,a.height=h?h*s:l&&t.availableHeight)}return e}function N6(i){let t=I6(i),e=pr(t.filter(c=>c.box.fullSize),!0),n=pr(mr(t,"left"),!0),s=pr(mr(t,"right")),r=pr(mr(t,"top"),!0),o=pr(mr(t,"bottom")),a=Nb(t,"x"),l=Nb(t,"y");return{fullSize:e,leftAndTop:n.concat(r),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:mr(t,"chartArea"),vertical:n.concat(s).concat(l),horizontal:r.concat(o).concat(a)}}function zb(i,t,e,n){return Math.max(i[e],t[e])+Math.max(i[n],t[n])}function T0(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function z6(i,t,e,n){let{pos:s,box:r}=e,o=i.maxPadding;if(!q(s)){e.size&&(i[s]-=e.size);let u=n[e.stack]||{size:0,count:1};u.size=Math.max(u.size,e.horizontal?r.height:r.width),e.size=u.size/u.count,i[s]+=e.size}r.getPadding&&T0(o,r.getPadding());let a=Math.max(0,t.outerWidth-zb(o,i,"left","right")),l=Math.max(0,t.outerHeight-zb(o,i,"top","bottom")),c=a!==i.w,h=l!==i.h;return i.w=a,i.h=l,e.horizontal?{same:c,other:h}:{same:h,other:c}}function B6(i){let t=i.maxPadding;function e(n){let s=Math.max(t[n]-i[n],0);return i[n]+=s,s}i.y+=e("top"),i.x+=e("left"),e("right"),e("bottom")}function j6(i,t){let e=t.maxPadding;function n(s){let r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(t[o],e[o])}),r}return n(i?["left","right"]:["top","bottom"])}function yr(i,t,e,n){let s=[],r,o,a,l,c,h;for(r=0,o=i.length,c=0;r<o;++r){a=i[r],l=a.box,l.update(a.width||t.w,a.height||t.h,j6(a.horizontal,t));let{same:u,other:f}=z6(t,e,a,n);c|=u&&s.length,h=h||f,l.fullSize||s.push(a)}return c&&yr(s,t,e,n)||h}function Oa(i,t,e,n,s){i.top=e,i.left=t,i.right=t+n,i.bottom=e+s,i.width=n,i.height=s}function Bb(i,t,e,n){let s=e.padding,{x:r,y:o}=t;for(let a of i){let l=a.box,c=n[a.stack]||{count:1,placed:0,weight:1},h=a.stackWeight/c.weight||1;if(a.horizontal){let u=t.w*h,f=c.size||l.height;Xi(c.start)&&(o=c.start),l.fullSize?Oa(l,s.left,o,e.outerWidth-s.right-s.left,f):Oa(l,t.left+c.placed,o,u,f),c.start=o,c.placed+=u,o=l.bottom}else{let u=t.h*h,f=c.size||l.width;Xi(c.start)&&(r=c.start),l.fullSize?Oa(l,r,s.top,f,e.outerHeight-s.bottom-s.top):Oa(l,r,t.top+c.placed,f,u),c.start=r,c.placed+=u,r=l.right}}t.x=r,t.y=o}var Ot={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},i.boxes.push(t)},removeBox(i,t){let e=i.boxes?i.boxes.indexOf(t):-1;e!==-1&&i.boxes.splice(e,1)},configure(i,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(i,t,e,n){if(!i)return;let s=yt(i.options.layout.padding),r=Math.max(t-s.width,0),o=Math.max(e-s.height,0),a=N6(i.boxes),l=a.vertical,c=a.horizontal;G(i.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});let h=l.reduce((_,p)=>p.box.options&&p.box.options.display===!1?_:_+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/h,hBoxMaxHeight:o/2}),f=Object.assign({},s);T0(f,yt(n));let d=Object.assign({maxPadding:f,w:r,h:o,x:s.left,y:s.top},s),m=L6(l.concat(c),u);yr(a.fullSize,d,u,m),yr(l,d,u,m),yr(c,d,u,m)&&yr(l,d,u,m),B6(d),Bb(a.leftAndTop,d,u,m),d.x+=d.w,d.y+=d.h,Bb(a.rightAndBottom,d,u,m),i.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},G(a.chartArea,_=>{let p=_.box;Object.assign(p,i.chartArea),p.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})})}},za=class{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,s){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):n)}}isAttached(t){return!0}updateConfig(t){}},Mu=class extends za{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},Fa="$chartjs",U6={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},jb=i=>i===null||i==="";function V6(i,t){let e=i.style,n=i.getAttribute("height"),s=i.getAttribute("width");if(i[Fa]={initial:{height:n,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",jb(s)){let r=ka(i,"width");r!==void 0&&(i.width=r)}if(jb(n))if(i.style.height==="")i.height=i.width/(t||2);else{let r=ka(i,"height");r!==void 0&&(i.height=r)}return i}var O0=du?{passive:!0}:!1;function H6(i,t,e){i.addEventListener(t,e,O0)}function W6(i,t,e){i.canvas.removeEventListener(t,e,O0)}function Y6(i,t){let e=U6[i.type]||i.type,{x:n,y:s}=Xe(i,t);return{type:e,chart:t,native:i,x:n!==void 0?n:null,y:s!==void 0?s:null}}function Ba(i,t){for(let e of i)if(e===t||e.contains(t))return!0}function Z6(i,t,e){let n=i.canvas,s=new MutationObserver(r=>{let o=!1;for(let a of r)o=o||Ba(a.addedNodes,n),o=o&&!Ba(a.removedNodes,n);o&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function q6(i,t,e){let n=i.canvas,s=new MutationObserver(r=>{let o=!1;for(let a of r)o=o||Ba(a.removedNodes,n),o=o&&!Ba(a.addedNodes,n);o&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}var Er=new Map,Ub=0;function A0(){let i=window.devicePixelRatio;i!==Ub&&(Ub=i,Er.forEach((t,e)=>{e.currentDevicePixelRatio!==i&&t()}))}function X6(i,t){Er.size||window.addEventListener("resize",A0),Er.set(i,t)}function K6(i){Er.delete(i),Er.size||window.removeEventListener("resize",A0)}function G6(i,t,e){let n=i.canvas,s=n&&fr(n);if(!s)return;let r=ua((a,l)=>{let c=s.clientWidth;e(a,l),c<s.clientWidth&&e()},window),o=new ResizeObserver(a=>{let l=a[0],c=l.contentRect.width,h=l.contentRect.height;c===0&&h===0||r(c,h)});return o.observe(s),X6(i,r),o}function Su(i,t,e){e&&e.disconnect(),t==="resize"&&K6(i)}function J6(i,t,e){let n=i.canvas,s=ua(r=>{i.ctx!==null&&e(Y6(r,i))},i);return H6(n,t,s),s}var Tu=class extends za{acquireContext(t,e){let n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(V6(t,e),n):null}releaseContext(t){let e=t.canvas;if(!e[Fa])return!1;let n=e[Fa].initial;["height","width"].forEach(r=>{let o=n[r];Z(o)?e.removeAttribute(r):e.setAttribute(r,o)});let s=n.style||{};return Object.keys(s).forEach(r=>{e.style[r]=s[r]}),e.width=e.width,delete e[Fa],!0}addEventListener(t,e,n){this.removeEventListener(t,e);let s=t.$proxies||(t.$proxies={}),o={attach:Z6,detach:q6,resize:G6}[e]||J6;s[e]=o(t,e,n)}removeEventListener(t,e){let n=t.$proxies||(t.$proxies={}),s=n[e];if(!s)return;({attach:Su,detach:Su,resize:Su}[e]||W6)(t,e,s),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,s){return fu(t,e,n,s)}isAttached(t){let e=fr(t);return!!(e&&e.isConnected)}};function Q6(i){return!Sa()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?Mu:Tu}var te=class{x;y;active=!1;options;$animations;tooltipPosition(t){let{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return wi(this.x)&&wi(this.y)}getProps(t,e){let n=this.$animations;if(!e||!n)return this;let s={};return t.forEach(r=>{s[r]=n[r]&&n[r].active()?n[r]._to:this[r]}),s}};F(te,"defaults",{}),F(te,"defaultRoutes");function tT(i,t){let e=i.options.ticks,n=eT(i),s=Math.min(e.maxTicksLimit||n,n),r=e.major.enabled?nT(t):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>s)return sT(t,c,r,o/s),c;let h=iT(r,t,s);if(o>0){let u,f,d=o>1?Math.round((l-a)/(o-1)):null;for(Aa(t,c,h,Z(d)?0:a-d,a),u=0,f=o-1;u<f;u++)Aa(t,c,h,r[u],r[u+1]);return Aa(t,c,h,l,Z(d)?t.length:l+d),c}return Aa(t,c,h),c}function eT(i){let t=i.options.offset,e=i._tickSize(),n=i._length/e+(t?0:1),s=i._maxLength/e;return Math.floor(Math.min(n,s))}function iT(i,t,e){let n=rT(i),s=t.length/e;if(!n)return Math.max(s,1);let r=Gh(n);for(let o=0,a=r.length-1;o<a;o++){let l=r[o];if(l>s)return l}return Math.max(s,1)}function nT(i){let t=[],e,n;for(e=0,n=i.length;e<n;e++)i[e].major&&t.push(e);return t}function sT(i,t,e,n){let s=0,r=e[0],o;for(n=Math.ceil(n),o=0;o<i.length;o++)o===r&&(t.push(i[o]),s++,r=e[s*n])}function Aa(i,t,e,n,s){let r=V(n,0),o=Math.min(V(s,i.length),i.length),a=0,l,c,h;for(e=Math.ceil(e),s&&(l=s-n,e=l/Math.floor(l/e)),h=r;h<0;)a++,h=Math.round(r+a*e);for(c=Math.max(r,0);c<o;c++)c===h&&(t.push(i[c]),a++,h=Math.round(r+a*e))}function rT(i){let t=i.length,e,n;if(t<2)return!1;for(n=i[0],e=1;e<t;++e)if(i[e]-i[e-1]!==n)return!1;return n}var oT=i=>i==="left"?"right":i==="right"?"left":i,Vb=(i,t,e)=>t==="top"||t==="left"?i[t]+e:i[t]-e,Hb=(i,t)=>Math.min(t||i,i);function Wb(i,t){let e=[],n=i.length/t,s=i.length,r=0;for(;r<s;r+=n)e.push(i[Math.floor(r)]);return e}function aT(i,t,e){let n=i.ticks.length,s=Math.min(t,n-1),r=i._startPixel,o=i._endPixel,a=1e-6,l=i.getPixelForTick(s),c;if(!(e&&(n===1?c=Math.max(l-r,o-l):t===0?c=(i.getPixelForTick(1)-l)/2:c=(l-i.getPixelForTick(s-1))/2,l+=s<t?c:-c,l<r-a||l>o+a)))return l}function lT(i,t){G(i,e=>{let n=e.gc,s=n.length/2,r;if(s>t){for(r=0;r<s;++r)delete e.data[n[r]];n.splice(0,s)}})}function _r(i){return i.drawTicks?i.tickLength:0}function Yb(i,t){if(!i.display)return 0;let e=_t(i.font,t),n=yt(i.padding);return(st(i.text)?i.text.length:1)*e.lineHeight+n.height}function cT(i,t){return Te(i,{scale:t,type:"scale"})}function hT(i,t,e){return Te(i,{tick:e,index:t,type:"tick"})}function uT(i,t,e){let n=ar(i);return(e&&t!=="right"||!e&&t==="right")&&(n=oT(n)),n}function fT(i,t,e,n){let{top:s,left:r,bottom:o,right:a,chart:l}=i,{chartArea:c,scales:h}=l,u=0,f,d,m,_=o-s,p=a-r;if(i.isHorizontal()){if(d=kt(n,r,a),q(e)){let g=Object.keys(e)[0],y=e[g];m=h[g].getPixelForValue(y)+_-t}else e==="center"?m=(c.bottom+c.top)/2+_-t:m=Vb(i,e,t);f=a-r}else{if(q(e)){let g=Object.keys(e)[0],y=e[g];d=h[g].getPixelForValue(y)-p+t}else e==="center"?d=(c.left+c.right)/2-p+t:d=Vb(i,e,t);m=kt(n,o,s),u=e==="left"?-dt:dt}return{titleX:d,titleY:m,maxWidth:f,rotation:u}}var ti=class extends te{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:s}=this;return t=Pt(t,Number.POSITIVE_INFINITY),e=Pt(e,Number.NEGATIVE_INFINITY),n=Pt(n,Number.POSITIVE_INFINITY),s=Pt(s,Number.NEGATIVE_INFINITY),{min:Pt(t,n),max:Pt(e,s),minDefined:mt(t),maxDefined:mt(e)}}getMinMax(t){let{min:e,max:n,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:e,max:n};let a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),s||(e=Math.min(e,o.min)),r||(n=Math.max(n,o.max));return e=r&&e>n?n:e,n=s&&e>n?e:n,{min:Pt(e,Pt(n,e)),max:Pt(n,Pt(e,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){tt(this.options.beforeUpdate,[this])}update(t,e,n){let{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=lu(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=a<this.ticks.length;this._convertTicksToLabels(l?Wb(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=tT(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,n;this.isHorizontal()?(e=this.left,n=this.right):(e=this.top,n=this.bottom,t=!t),this._startPixel=e,this._endPixel=n,this._reversePixels=t,this._length=n-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){tt(this.options.afterUpdate,[this])}beforeSetDimensions(){tt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){tt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),tt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){tt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let e=this.options.ticks,n,s,r;for(n=0,s=t.length;n<s;n++)r=t[n],r.label=tt(e.callback,[r.value,n,t],this)}afterTickToLabelConversion(){tt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){tt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,e=t.ticks,n=Hb(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,r=e.maxRotation,o=s,a,l,c;if(!this._isVisible()||!e.display||s>=r||n<=1||!this.isHorizontal()){this.labelRotation=s;return}let h=this._getLabelSizes(),u=h.widest.width,f=h.highest.height,d=bt(this.chart.width-u,0,this.maxWidth);a=t.offset?this.maxWidth/n:d/(n-1),u+6>a&&(a=d/(n-(t.offset?.5:1)),l=this.maxHeight-_r(t.grid)-e.padding-Yb(t.title,this.chart.options.font),c=Math.sqrt(u*u+f*f),o=rr(Math.min(Math.asin(bt((h.highest.height+6)/a,-1,1)),Math.asin(bt(l/c,-1,1))-Math.asin(bt(f/c,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){tt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){tt(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:e,options:{ticks:n,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){let l=Yb(s,e.options.font);if(a?(t.width=this.maxWidth,t.height=_r(r)+l):(t.height=this.maxHeight,t.width=_r(r)+l),n.display&&this.ticks.length){let{first:c,last:h,widest:u,highest:f}=this._getLabelSizes(),d=n.padding*2,m=Jt(this.labelRotation),_=Math.cos(m),p=Math.sin(m);if(a){let g=n.mirror?0:p*u.width+_*f.height;t.height=Math.min(this.maxHeight,t.height+g+d)}else{let g=n.mirror?0:_*u.width+p*f.height;t.width=Math.min(this.maxWidth,t.width+g+d)}this._calculatePadding(c,h,p,_)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,s){let{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let h=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1),f=0,d=0;l?c?(f=s*t.width,d=n*e.height):(f=n*t.height,d=s*e.width):r==="start"?d=e.width:r==="end"?f=t.width:r!=="inner"&&(f=t.width/2,d=e.width/2),this.paddingLeft=Math.max((f-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((d-u+o)*this.width/(this.width-u),0)}else{let h=e.height/2,u=t.height/2;r==="start"?(h=0,u=t.height):r==="end"&&(h=e.height,u=0),this.paddingTop=h+o,this.paddingBottom=u+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){tt(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,n;for(e=0,n=t.length;e<n;e++)Z(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let e=this.options.ticks.sampleSize,n=this.ticks;e<n.length&&(n=Wb(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){let{ctx:s,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(e/Hb(e,n)),c=0,h=0,u,f,d,m,_,p,g,y,x,b,$;for(u=0;u<e;u+=l){if(m=t[u].label,_=this._resolveTickFontOptions(u),s.font=p=_.string,g=r[p]=r[p]||{data:{},gc:[]},y=_.lineHeight,x=b=0,!Z(m)&&!st(m))x=Bn(s,g.data,g.gc,x,m),b=y;else if(st(m))for(f=0,d=m.length;f<d;++f)$=m[f],!Z($)&&!st($)&&(x=Bn(s,g.data,g.gc,x,$),b+=y);o.push(x),a.push(b),c=Math.max(x,c),h=Math.max(b,h)}lT(r,e);let w=o.indexOf(c),v=a.indexOf(h),S=E=>({width:o[E]||0,height:a[E]||0});return{first:S(0),last:S(e-1),widest:S(w),highest:S(v),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let e=this._startPixel+t*this._length;return Qh(this._alignToPixels?Ye(this.chart,e,0):e)}getDecimalForPixel(t){let e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){let e=this.ticks||[];if(t>=0&&t<e.length){let n=e[t];return n.$context||(n.$context=hT(this.getContext(),t,n))}return this.$context||(this.$context=cT(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,e=Jt(this.labelRotation),n=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*n>a*s?a/n:l/s:l*s<a*n?l/n:a/s}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let e=this.axis,n=this.chart,s=this.options,{grid:r,position:o,border:a}=s,l=r.offset,c=this.isHorizontal(),u=this.ticks.length+(l?1:0),f=_r(r),d=[],m=a.setContext(this.getContext()),_=m.display?m.width:0,p=_/2,g=function(P){return Ye(n,P,_)},y,x,b,$,w,v,S,E,C,M,O,D;if(o==="top")y=g(this.bottom),v=this.bottom-f,E=y-p,M=g(t.top)+p,D=t.bottom;else if(o==="bottom")y=g(this.top),M=t.top,D=g(t.bottom)-p,v=y+p,E=this.top+f;else if(o==="left")y=g(this.right),w=this.right-f,S=y-p,C=g(t.left)+p,O=t.right;else if(o==="right")y=g(this.left),C=t.left,O=g(t.right)-p,w=y+p,S=this.left+f;else if(e==="x"){if(o==="center")y=g((t.top+t.bottom)/2+.5);else if(q(o)){let P=Object.keys(o)[0],L=o[P];y=g(this.chart.scales[P].getPixelForValue(L))}M=t.top,D=t.bottom,v=y+p,E=v+f}else if(e==="y"){if(o==="center")y=g((t.left+t.right)/2);else if(q(o)){let P=Object.keys(o)[0],L=o[P];y=g(this.chart.scales[P].getPixelForValue(L))}w=y-p,S=w-f,C=t.left,O=t.right}let I=V(s.ticks.maxTicksLimit,u),A=Math.max(1,Math.ceil(u/I));for(x=0;x<u;x+=A){let P=this.getContext(x),L=r.setContext(P),z=a.setContext(P),N=L.lineWidth,W=L.color,ot=z.dash||[],J=z.dashOffset,X=L.tickWidth,et=L.tickColor,at=L.tickBorderDash||[],Y=L.tickBorderDashOffset;b=aT(this,x,l),b!==void 0&&($=Ye(n,b,N),c?w=S=C=O=$:v=E=M=D=$,d.push({tx1:w,ty1:v,tx2:S,ty2:E,x1:C,y1:M,x2:O,y2:D,width:N,color:W,borderDash:ot,borderDashOffset:J,tickWidth:X,tickColor:et,tickBorderDash:at,tickBorderDashOffset:Y}))}return this._ticksLength=u,this._borderValue=y,d}_computeLabelItems(t){let e=this.axis,n=this.options,{position:s,ticks:r}=n,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:h,mirror:u}=r,f=_r(n.grid),d=f+h,m=u?-h:d,_=-Jt(this.labelRotation),p=[],g,y,x,b,$,w,v,S,E,C,M,O,D="middle";if(s==="top")w=this.bottom-m,v=this._getXAxisLabelAlignment();else if(s==="bottom")w=this.top+m,v=this._getXAxisLabelAlignment();else if(s==="left"){let A=this._getYAxisLabelAlignment(f);v=A.textAlign,$=A.x}else if(s==="right"){let A=this._getYAxisLabelAlignment(f);v=A.textAlign,$=A.x}else if(e==="x"){if(s==="center")w=(t.top+t.bottom)/2+d;else if(q(s)){let A=Object.keys(s)[0],P=s[A];w=this.chart.scales[A].getPixelForValue(P)+d}v=this._getXAxisLabelAlignment()}else if(e==="y"){if(s==="center")$=(t.left+t.right)/2-d;else if(q(s)){let A=Object.keys(s)[0],P=s[A];$=this.chart.scales[A].getPixelForValue(P)}v=this._getYAxisLabelAlignment(f).textAlign}e==="y"&&(l==="start"?D="top":l==="end"&&(D="bottom"));let I=this._getLabelSizes();for(g=0,y=a.length;g<y;++g){x=a[g],b=x.label;let A=r.setContext(this.getContext(g));S=this.getPixelForTick(g)+r.labelOffset,E=this._resolveTickFontOptions(g),C=E.lineHeight,M=st(b)?b.length:1;let P=M/2,L=A.color,z=A.textStrokeColor,N=A.textStrokeWidth,W=v;o?($=S,v==="inner"&&(g===y-1?W=this.options.reverse?"left":"right":g===0?W=this.options.reverse?"right":"left":W="center"),s==="top"?c==="near"||_!==0?O=-M*C+C/2:c==="center"?O=-I.highest.height/2-P*C+C:O=-I.highest.height+C/2:c==="near"||_!==0?O=C/2:c==="center"?O=I.highest.height/2-P*C:O=I.highest.height-M*C,u&&(O*=-1),_!==0&&!A.showLabelBackdrop&&($+=C/2*Math.sin(_))):(w=S,O=(1-M)*C/2);let ot;if(A.showLabelBackdrop){let J=yt(A.backdropPadding),X=I.heights[g],et=I.widths[g],at=O-J.top,Y=0-J.left;switch(D){case"middle":at-=X/2;break;case"bottom":at-=X;break}switch(v){case"center":Y-=et/2;break;case"right":Y-=et;break}ot={left:Y,top:at,width:et+J.width,height:X+J.height,color:A.backdropColor}}p.push({label:b,font:E,textOffset:O,options:{rotation:_,color:L,strokeColor:z,strokeWidth:N,textAlign:W,textBaseline:D,translation:[$,w],backdrop:ot}})}return p}_getXAxisLabelAlignment(){let{position:t,ticks:e}=this.options;if(-Jt(this.labelRotation))return t==="top"?"left":"right";let s="center";return e.align==="start"?s="left":e.align==="end"?s="right":e.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){let{position:e,ticks:{crossAlign:n,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=t+r,l=o.widest.width,c,h;return e==="left"?s?(h=this.right+r,n==="near"?c="left":n==="center"?(c="center",h+=l/2):(c="right",h+=l)):(h=this.right-a,n==="near"?c="right":n==="center"?(c="center",h-=l/2):(c="left",h=this.left)):e==="right"?s?(h=this.left+r,n==="near"?c="right":n==="center"?(c="center",h-=l/2):(c="left",h-=l)):(h=this.left+a,n==="near"?c="left":n==="center"?(c="center",h+=l/2):(c="right",h=this.right)):c="right",{textAlign:c,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:e},left:n,top:s,width:r,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,s,r,o),t.restore())}getLineWidthForValue(t){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let s=this.ticks.findIndex(r=>r.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){let e=this.options.grid,n=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),r,o,a=(l,c,h)=>{!h.width||!h.color||(n.save(),n.lineWidth=h.width,n.strokeStyle=h.color,n.setLineDash(h.borderDash||[]),n.lineDashOffset=h.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(e.display)for(r=0,o=s.length;r<o;++r){let l=s[r];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:e,options:{border:n,grid:s}}=this,r=n.setContext(this.getContext()),o=n.display?r.width:0;if(!o)return;let a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue,c,h,u,f;this.isHorizontal()?(c=Ye(t,this.left,o)-o/2,h=Ye(t,this.right,a)+a/2,u=f=l):(u=Ye(t,this.top,o)-o/2,f=Ye(t,this.bottom,a)+a/2,c=h=l),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(c,u),e.lineTo(h,f),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;let n=this.ctx,s=this._computeLabelArea();s&&Vn(n,s);let r=this.getLabelItems(t);for(let o of r){let a=o.options,l=o.font,c=o.label,h=o.textOffset;Ze(n,c,0,h,l,a)}s&&Hn(n)}drawTitle(){let{ctx:t,options:{position:e,title:n,reverse:s}}=this;if(!n.display)return;let r=_t(n.font),o=yt(n.padding),a=n.align,l=r.lineHeight/2;e==="bottom"||e==="center"||q(e)?(l+=o.bottom,st(n.text)&&(l+=r.lineHeight*(n.text.length-1))):l+=o.top;let{titleX:c,titleY:h,maxWidth:u,rotation:f}=fT(this,l,e,a);Ze(t,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:f,textAlign:uT(a,e,s),textBaseline:"middle",translation:[c,h]})}draw(t){!this._isVisible()||(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,e=t.ticks&&t.ticks.z||0,n=V(t.grid&&t.grid.z,-1),s=V(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ti.prototype.draw?[{z:e,draw:r=>{this.draw(r)}}]:[{z:n,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){let e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",s=[],r,o;for(r=0,o=e.length;r<o;++r){let a=e[r];a[n]===this.id&&(!t||a.type===t)&&s.push(a)}return s}_resolveTickFontOptions(t){let e=this.options.ticks.setContext(this.getContext(t));return _t(e.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},Gn=class{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let e=Object.getPrototypeOf(t),n;pT(e)&&(n=this.register(e));let s=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in s||(s[r]=t,dT(t,o,n),this.override&&ut.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){let e=this.items,n=t.id,s=this.scope;n in e&&delete e[n],s&&n in ut[s]&&(delete ut[s][n],this.override&&delete ki[n])}};function dT(i,t,e){let n=Gt(Object.create(null),[e?ut.get(e):{},ut.get(t),i.defaults]);ut.set(t,n),i.defaultRoutes&&mT(t,i.defaultRoutes),i.descriptors&&ut.describe(t,i.descriptors)}function mT(i,t){Object.keys(t).forEach(e=>{let n=e.split("."),s=n.pop(),r=[i].concat(n).join("."),o=t[e].split("."),a=o.pop(),l=o.join(".");ut.route(r,s,l,a)})}function pT(i){return"id"in i&&"defaults"in i}var Ou=class{constructor(){this.controllers=new Gn(Qt,"datasets",!0),this.elements=new Gn(te,"elements"),this.plugins=new Gn(Object,"plugins"),this.scales=new Gn(ti,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach(s=>{let r=n||this._getRegistryForType(s);n||r.isForType(s)||r===this.plugins&&s.id?this._exec(t,r,s):G(s,o=>{let a=n||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,e,n){let s=sr(t);tt(n["before"+s],[],n),e[t](n),tt(n["after"+s],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){let n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){let s=e.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return s}},Ae=new Ou,Au=class{constructor(){this._init=[]}notify(t,e,n,s){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let r=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(r,t,e,n);return e==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,n,s){s=s||{};for(let r of t){let o=r.plugin,a=o[n],l=[e,s,r.options];if(tt(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){Z(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){let n=t&&t.config,s=V(n.options&&n.options.plugins,{}),r=_T(n);return s===!1&&!e?[]:bT(t,r,s,e)}_notifyStateChanges(t){let e=this._oldCache||[],n=this._cache,s=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(e,n),t,"stop"),this._notify(s(n,e),t,"start")}};function _T(i){let t={},e=[],n=Object.keys(Ae.plugins.items);for(let r=0;r<n.length;r++)e.push(Ae.getPlugin(n[r]));let s=i.plugins||[];for(let r=0;r<s.length;r++){let o=s[r];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function gT(i,t){return!t&&i===!1?null:i===!0?{}:i}function bT(i,{plugins:t,localIds:e},n,s){let r=[],o=i.getContext();for(let a of t){let l=a.id,c=gT(n[l],s);c!==null&&r.push({plugin:a,options:yT(i.config,{plugin:a,local:e[l]},c,o)})}return r}function yT(i,{plugin:t,local:e},n,s){let r=i.pluginScopeKeys(t),o=i.getOptionScopes(n,r);return e&&t.defaults&&o.push(t.defaults),i.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ru(i,t){let e=ut.datasets[i]||{};return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function xT(i,t){let e=i;return i==="_index_"?e=t:i==="_value_"&&(e=t==="x"?"y":"x"),e}function $T(i,t){return i===t?"_index_":"_value_"}function Zb(i){if(i==="x"||i==="y"||i==="r")return i}function ST(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function Du(i,...t){if(Zb(i))return i;for(let e of t){let n=e.axis||ST(e.position)||i.length>1&&Zb(i[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function qb(i,t,e){if(e[t+"AxisID"]===i)return{axis:t}}function vT(i,t){if(t.data&&t.data.datasets){let e=t.data.datasets.filter(n=>n.xAxisID===i||n.yAxisID===i);if(e.length)return qb(i,"x",e[0])||qb(i,"y",e[0])}return{}}function wT(i,t){let e=ki[i.type]||{scales:{}},n=t.scales||{},s=Ru(i.type,t),r=Object.create(null);return Object.keys(n).forEach(o=>{let a=n[o];if(!q(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);let l=Du(o,a,vT(o,i),ut.scales[a.type]),c=$T(l,s),h=e.scales||{};r[o]=qi(Object.create(null),[{axis:l},a,h[l],h[c]])}),i.data.datasets.forEach(o=>{let a=o.type||i.type,l=o.indexAxis||Ru(a,t),h=(ki[a]||{}).scales||{};Object.keys(h).forEach(u=>{let f=xT(u,l),d=o[f+"AxisID"]||f;r[d]=r[d]||Object.create(null),qi(r[d],[{axis:f},n[d],h[u]])})}),Object.keys(r).forEach(o=>{let a=r[o];qi(a,[ut.scales[a.type],ut.scale])}),r}function R0(i){let t=i.options||(i.options={});t.plugins=V(t.plugins,{}),t.scales=wT(i,t)}function D0(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function kT(i){return i=i||{},i.data=D0(i.data),R0(i),i}var Xb=new Map,P0=new Set;function Ra(i,t){let e=Xb.get(i);return e||(e=t(),Xb.set(i,e),P0.add(e)),e}var gr=(i,t,e)=>{let n=Me(t,e);n!==void 0&&i.add(n)},Pu=class{constructor(t){this._config=kT(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=D0(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),R0(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Ra(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Ra(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Ra(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){let e=t.id,n=this.type;return Ra(`${n}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){let n=this._scopeCache,s=n.get(t);return(!s||e)&&(s=new Map,n.set(t,s)),s}getOptionScopes(t,e,n){let{options:s,type:r}=this,o=this._cachedScopes(t,n),a=o.get(e);if(a)return a;let l=new Set;e.forEach(h=>{t&&(l.add(t),h.forEach(u=>gr(l,t,u))),h.forEach(u=>gr(l,s,u)),h.forEach(u=>gr(l,ki[r]||{},u)),h.forEach(u=>gr(l,ut,u)),h.forEach(u=>gr(l,_a,u))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),P0.has(e)&&o.set(e,c),c}chartOptionScopes(){let{options:t,type:e}=this;return[t,ki[e]||{},ut.datasets[e]||{},{type:e},ut,_a]}resolveNamedOptions(t,e,n,s=[""]){let r={$shared:!0},{resolver:o,subPrefixes:a}=Kb(this._resolverCache,t,s),l=o;if(ET(o,e)){r.$shared=!1,n=Ce(n)?n():n;let c=this.createResolver(t,n,a);l=vi(o,n,c)}for(let c of e)r[c]=l[c];return r}createResolver(t,e,n=[""],s){let{resolver:r}=Kb(this._resolverCache,t,n);return q(e)?vi(r,e,void 0,s):r}};function Kb(i,t,e){let n=i.get(t);n||(n=new Map,i.set(t,n));let s=e.join(),r=n.get(s);return r||(r={resolver:ur(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},n.set(s,r)),r}var CT=i=>q(i)&&Object.getOwnPropertyNames(i).reduce((t,e)=>t||Ce(i[e]),!1);function ET(i,t){let{isScriptable:e,isIndexable:n}=xa(i);for(let s of t){let r=e(s),o=n(s),a=(o||r)&&i[s];if(r&&(Ce(a)||CT(a))||o&&st(a))return!0}return!1}var MT="4.3.0",TT=["top","bottom","left","right","chartArea"];function Gb(i,t){return i==="top"||i==="bottom"||TT.indexOf(i)===-1&&t==="x"}function Jb(i,t){return function(e,n){return e[i]===n[i]?e[t]-n[t]:e[i]-n[i]}}function Qb(i){let t=i.chart,e=t.options.animation;t.notifyPlugins("afterRender"),tt(e&&e.onComplete,[i],t)}function OT(i){let t=i.chart,e=t.options.animation;tt(e&&e.onProgress,[i],t)}function I0(i){return Sa()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}var La={},t0=i=>{let t=I0(i);return Object.values(La).filter(e=>e.canvas===t).pop()};function AT(i,t,e){let n=Object.keys(i);for(let s of n){let r=+s;if(r>=t){let o=i[s];delete i[s],(e>0||r>t)&&(i[r+e]=o)}}}function RT(i,t,e,n){return!e||i.type==="mouseout"?null:n?t:i}function DT(i){let{xScale:t,yScale:e}=i;if(t&&e)return{left:t.left,right:t.right,top:e.top,bottom:e.bottom}}var It=class{static register(...t){Ae.add(...t),e0()}static unregister(...t){Ae.remove(...t),e0()}constructor(t,e){let n=this.config=new Pu(e),s=I0(t),r=t0(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");let o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Q6(s)),this.platform.updateConfig(n);let a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,h=l&&l.width;if(this.id=qh(),this.ctx=a,this.canvas=l,this.width=h,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Au,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=nu(u=>this.update(u),o.resizeDelay||0),this._dataChanges=[],La[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Ke.listen(this,"complete",Qb),Ke.listen(this,"progress",OT),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:s,_aspectRatio:r}=this;return Z(t)?e&&r?r:s?n/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ae}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():wa(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ga(this.canvas,this.ctx),this}stop(){return Ke.stop(this),this}resize(t,e){Ke.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){let n=this.options,s=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,t,e,r),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,wa(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),tt(n.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){let e=this.options.scales||{};G(e,(n,s)=>{n.id=s})}buildOrUpdateScales(){let t=this.options,e=t.scales,n=this.scales,s=Object.keys(n).reduce((o,a)=>(o[a]=!1,o),{}),r=[];e&&(r=r.concat(Object.keys(e).map(o=>{let a=e[o],l=Du(o,a),c=l==="r",h=l==="x";return{options:a,dposition:c?"chartArea":h?"bottom":"left",dtype:c?"radialLinear":h?"category":"linear"}}))),G(r,o=>{let a=o.options,l=a.id,c=Du(l,a),h=V(a.type,o.dtype);(a.position===void 0||Gb(a.position,c)!==Gb(o.dposition))&&(a.position=o.dposition),s[l]=!0;let u=null;if(l in n&&n[l].type===h)u=n[l];else{let f=Ae.getScale(h);u=new f({id:l,type:h,ctx:this.ctx,chart:this}),n[u.id]=u}u.init(a,t)}),G(s,(o,a)=>{o||delete n[a]}),G(n,o=>{Ot.configure(this,o,o.options),Ot.addBox(this,o)})}_updateMetasets(){let t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort((s,r)=>s.index-r.index),n>e){for(let s=e;s<n;++s)this._destroyDatasetMeta(s);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(Jb("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((n,s)=>{e.filter(r=>r===n._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){let t=[],e=this.data.datasets,n,s;for(this._removeUnreferencedMetasets(),n=0,s=e.length;n<s;n++){let r=e[n],o=this.getDatasetMeta(n),a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=a,o.indexAxis=r.indexAxis||Ru(a,this.options),o.order=r.order||0,o.index=n,o.label=""+r.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{let l=Ae.getController(a),{datasetElementType:c,dataElementType:h}=ut.datasets[a];Object.assign(l,{dataElementType:Ae.getElement(h),datasetElementType:c&&Ae.getElement(c)}),o.controller=new l(this,n),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){G(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let e=this.config;e.update();let n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;let r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,h=this.data.datasets.length;c<h;c++){let{controller:u}=this.getDatasetMeta(c),f=!s&&r.indexOf(u)===-1;u.buildOrUpdateElements(f),o=Math.max(+u.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),s||G(r,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Jb("z","_idx"));let{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){G(this.scales,t=>{Ot.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!na(e,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(let{method:n,start:s,count:r}of e){let o=n==="_removeElements"?-r:r;AT(t,s,o)}}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let e=this.data.datasets.length,n=r=>new Set(t.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=n(0);for(let r=1;r<e;r++)if(!na(s,n(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ot.update(this,this.width,this.height,t);let e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],G(this.boxes,s=>{n&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,n=this.data.datasets.length;e<n;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,Ce(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){let n=this.getDatasetMeta(t),s={meta:n,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(n.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ke.has(this)?this.attached&&!Ke.running(this)&&Ke.start(this):(this.draw(),Qb({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:n,height:s}=this._resizeBeforeDraw;this._resize(n,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let e=this._sortedMetasets,n=[],s,r;for(s=0,r=e.length;s<r;++s){let o=e[s];(!t||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let e=this.ctx,n=t._clip,s=!n.disabled,r=DT(t)||this.chartArea,o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(s&&Vn(e,{left:n.left===!1?0:r.left-n.left,right:n.right===!1?this.width:r.right+n.right,top:n.top===!1?0:r.top-n.top,bottom:n.bottom===!1?this.height:r.bottom+n.bottom}),t.controller.draw(),s&&Hn(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return fe(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,s){let r=P6.modes[e];return typeof r=="function"?r(this,t,n,s):[]}getDatasetMeta(t){let e=this.data.datasets[t],n=this._metasets,s=n.filter(r=>r&&r._dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(s)),s}getContext(){return this.$context||(this.$context=Te(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let e=this.data.datasets[t];if(!e)return!1;let n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!e.hidden}setDatasetVisibility(t,e){let n=this.getDatasetMeta(t);n.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){let s=n?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,s);Xi(e)?(r.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),o.update(r,{visible:n}),this.update(a=>a.datasetIndex===t?s:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){let e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Ke.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),ga(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete La[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,e=this.platform,n=(r,o)=>{e.addEventListener(this,r,o),t[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};G(this.options.events,r=>n(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,e=this.platform,n=(l,c)=>{e.addEventListener(this,l,c),t[l]=c},s=(l,c)=>{t[l]&&(e.removeEventListener(this,l,c),delete t[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)},o,a=()=>{s("attach",a),this.attached=!0,this.resize(),n("resize",r),n("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),n("attach",a)},e.isAttached(this.canvas)?a():o()}unbindEvents(){G(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},G(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){let s=n?"set":"remove",r,o,a,l;for(e==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];let c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let e=this._active||[],n=t.map(({datasetIndex:r,index:o})=>{let a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Un(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,n){let s=this.options.hover,r=(l,c)=>l.filter(h=>!c.some(u=>h.datasetIndex===u.datasetIndex&&h.index===u.index)),o=r(e,t),a=n?t:r(t,e);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(t,e){let n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},s=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,s)===!1)return;let r=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,s),(r||n.changed)&&this.render(),this}_handleEvent(t,e,n){let{_active:s=[],options:r}=this,o=e,a=this._getActiveElements(t,s,n,o),l=Kh(t),c=RT(t,this._lastEvent,n,l);n&&(this._lastEvent=null,tt(r.onHover,[t,a,this],this),l&&tt(r.onClick,[t,a,this],this));let h=!Un(a,s);return(h||e)&&(this._active=a,this._updateHoverStyles(a,s,e)),this._lastEvent=c,h}_getActiveElements(t,e,n,s){if(t.type==="mouseout")return[];if(!n)return e;let r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,s)}};F(It,"defaults",ut),F(It,"instances",La),F(It,"overrides",ki),F(It,"registry",Ae),F(It,"version",MT),F(It,"getChart",t0);function e0(){return G(It.instances,i=>i._plugins.invalidate())}function PT(i,t,e){let{startAngle:n,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:l}=t,c=s/a;i.beginPath(),i.arc(r,o,a,n-c,e+c),l>s?(c=s/l,i.arc(r,o,l,e+c,n-c,!0)):i.arc(r,o,s,e+dt,n-dt),i.closePath(),i.clip()}function IT(i){return hr(i,["outerStart","outerEnd","innerStart","innerEnd"])}function FT(i,t,e,n){let s=IT(i.options.borderRadius),r=(e-t)/2,o=Math.min(r,n*t/2),a=l=>{let c=(e-Math.min(r,l))*n/2;return bt(l,0,Math.min(r,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:bt(s.innerStart,0,o),innerEnd:bt(s.innerEnd,0,o)}}function Wn(i,t,e,n){return{x:e+i*Math.cos(t),y:n+i*Math.sin(t)}}function ja(i,t,e,n,s,r){let{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:h}=t,u=Math.max(t.outerRadius+n+e-c,0),f=h>0?h+n+e+c:0,d=0,m=s-l;if(n){let A=h>0?h-n:0,P=u>0?u-n:0,L=(A+P)/2,z=L!==0?m*L/(L+n):m;d=(m-z)/2}let _=Math.max(.001,m*u-e/ct)/u,p=(m-_)/2,g=l+p+d,y=s-p-d,{outerStart:x,outerEnd:b,innerStart:$,innerEnd:w}=FT(t,f,u,y-g),v=u-x,S=u-b,E=g+x/v,C=y-b/S,M=f+$,O=f+w,D=g+$/M,I=y-w/O;if(i.beginPath(),r){let A=(E+C)/2;if(i.arc(o,a,u,E,A),i.arc(o,a,u,A,C),b>0){let N=Wn(S,C,o,a);i.arc(N.x,N.y,b,C,y+dt)}let P=Wn(O,y,o,a);if(i.lineTo(P.x,P.y),w>0){let N=Wn(O,I,o,a);i.arc(N.x,N.y,w,y+dt,I+Math.PI)}let L=(y-w/f+(g+$/f))/2;if(i.arc(o,a,f,y-w/f,L,!0),i.arc(o,a,f,L,g+$/f,!0),$>0){let N=Wn(M,D,o,a);i.arc(N.x,N.y,$,D+Math.PI,g-dt)}let z=Wn(v,g,o,a);if(i.lineTo(z.x,z.y),x>0){let N=Wn(v,E,o,a);i.arc(N.x,N.y,x,g-dt,E)}}else{i.moveTo(o,a);let A=Math.cos(E)*u+o,P=Math.sin(E)*u+a;i.lineTo(A,P);let L=Math.cos(C)*u+o,z=Math.sin(C)*u+a;i.lineTo(L,z)}i.closePath()}function LT(i,t,e,n,s){let{fullCircles:r,startAngle:o,circumference:a}=t,l=t.endAngle;if(r){ja(i,t,e,n,l,s);for(let c=0;c<r;++c)i.fill();isNaN(a)||(l=o+(a%rt||rt))}return ja(i,t,e,n,l,s),i.fill(),l}function NT(i,t,e,n,s){let{fullCircles:r,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:h,borderDash:u,borderDashOffset:f}=l,d=l.borderAlign==="inner";if(!c)return;i.setLineDash(u||[]),i.lineDashOffset=f,d?(i.lineWidth=c*2,i.lineJoin=h||"round"):(i.lineWidth=c,i.lineJoin=h||"bevel");let m=t.endAngle;if(r){ja(i,t,e,n,m,s);for(let _=0;_<r;++_)i.stroke();isNaN(a)||(m=o+(a%rt||rt))}d&&PT(i,t,m),r||(ja(i,t,e,n,m,s),i.stroke())}var Qe=class extends te{circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){let s=this.getProps(["x","y"],n),{angle:r,distance:o}=aa(s,{x:t,y:e}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:h,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),f=(this.options.spacing+this.options.borderWidth)/2,m=V(u,l-a)>=rt||Gi(r,a,l),_=me(o,c+f,h+f);return m&&_}getCenterPoint(t){let{x:e,y:n,startAngle:s,endAngle:r,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:c}=this.options,h=(s+r)/2,u=(o+a+c+l)/2;return{x:e+Math.cos(h)*u,y:n+Math.sin(h)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:e,circumference:n}=this,s=(e.offset||0)/4,r=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=n>rt?Math.floor(n/rt):0,n===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*s,Math.sin(a)*s);let l=1-Math.sin(Math.min(ct,n||0)),c=s*l;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,LT(t,this,c,r,o),NT(t,this,c,r,o),t.restore()}};F(Qe,"id","arc"),F(Qe,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),F(Qe,"defaultRoutes",{backgroundColor:"backgroundColor"}),F(Qe,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function F0(i,t,e=t){i.lineCap=V(e.borderCapStyle,t.borderCapStyle),i.setLineDash(V(e.borderDash,t.borderDash)),i.lineDashOffset=V(e.borderDashOffset,t.borderDashOffset),i.lineJoin=V(e.borderJoinStyle,t.borderJoinStyle),i.lineWidth=V(e.borderWidth,t.borderWidth),i.strokeStyle=V(e.borderColor,t.borderColor)}function zT(i,t,e){i.lineTo(e.x,e.y)}function BT(i){return i.stepped?ou:i.tension||i.cubicInterpolationMode==="monotone"?au:zT}function L0(i,t,e={}){let n=i.length,{start:s=0,end:r=n-1}=e,{start:o,end:a}=t,l=Math.max(s,o),c=Math.min(r,a),h=s<o&&r<o||s>a&&r>a;return{count:n,start:l,loop:t.loop,ilen:c<l&&!h?n+c-l:c-l}}function jT(i,t,e,n){let{points:s,options:r}=t,{count:o,start:a,loop:l,ilen:c}=L0(s,e,n),h=BT(r),{move:u=!0,reverse:f}=n||{},d,m,_;for(d=0;d<=c;++d)m=s[(a+(f?c-d:d))%o],!m.skip&&(u?(i.moveTo(m.x,m.y),u=!1):h(i,_,m,f,r.stepped),_=m);return l&&(m=s[(a+(f?c:0))%o],h(i,_,m,f,r.stepped)),!!l}function UT(i,t,e,n){let s=t.points,{count:r,start:o,ilen:a}=L0(s,e,n),{move:l=!0,reverse:c}=n||{},h=0,u=0,f,d,m,_,p,g,y=b=>(o+(c?a-b:b))%r,x=()=>{_!==p&&(i.lineTo(h,p),i.lineTo(h,_),i.lineTo(h,g))};for(l&&(d=s[y(0)],i.moveTo(d.x,d.y)),f=0;f<=a;++f){if(d=s[y(f)],d.skip)continue;let b=d.x,$=d.y,w=b|0;w===m?($<_?_=$:$>p&&(p=$),h=(u*h+b)/++u):(x(),i.lineTo(b,$),m=w,u=0,_=p=$),g=$}x()}function Iu(i){let t=i.options,e=t.borderDash&&t.borderDash.length;return!i._decimated&&!i._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?UT:jT}function VT(i){return i.stepped?mu:i.tension||i.cubicInterpolationMode==="monotone"?pu:We}function HT(i,t,e,n){let s=t._path;s||(s=t._path=new Path2D,t.path(s,e,n)&&s.closePath()),F0(i,t.options),i.stroke(s)}function WT(i,t,e,n){let{segments:s,options:r}=t,o=Iu(t);for(let a of s)F0(i,r,a.style),i.beginPath(),o(i,t,a,{start:e,end:e+n-1})&&i.closePath(),i.stroke()}var YT=typeof Path2D=="function";function ZT(i,t,e,n){YT&&!t.options.segment?HT(i,t,e,n):WT(i,t,e,n)}var Re=class extends te{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){let n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){let s=n.spanGaps?this._loop:this._fullLoop;uu(this._points,n,t,s,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_u(this,this.options.segment))}first(){let t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){let t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){let n=this.options,s=t[e],r=this.points,o=Ta(this,{property:e,start:s,end:s});if(!o.length)return;let a=[],l=VT(n),c,h;for(c=0,h=o.length;c<h;++c){let{start:u,end:f}=o[c],d=r[u],m=r[f];if(d===m){a.push(d);continue}let _=Math.abs((s-d[e])/(m[e]-d[e])),p=l(d,m,_,n.stepped);p[e]=t[e],a.push(p)}return a.length===1?a[0]:a}pathSegment(t,e,n){return Iu(this)(t,this,e,n)}path(t,e,n){let s=this.segments,r=Iu(this),o=this._loop;e=e||0,n=n||this.points.length-e;for(let a of s)o&=r(t,this,a,{start:e,end:e+n-1});return!!o}draw(t,e,n,s){let r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),ZT(t,this,n,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}};F(Re,"id","line"),F(Re,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),F(Re,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),F(Re,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function i0(i,t,e,n){let s=i.options,{[e]:r}=i.getProps([e],n);return Math.abs(t-r)<s.radius+s.hitRadius}var Ei=class extends te{parsed;skip;stop;constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){let s=this.options,{x:r,y:o}=this.getProps(["x","y"],n);return Math.pow(t-r,2)+Math.pow(e-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,e){return i0(this,t,"x",e)}inYRange(t,e){return i0(this,t,"y",e)}getCenterPoint(t){let{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);let n=e&&t.borderWidth||0;return(e+n)*2}draw(t,e){let n=this.options;this.skip||n.radius<.1||!fe(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,cr(t,n,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}};F(Ei,"id","point"),F(Ei,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),F(Ei,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function N0(i,t){let{x:e,y:n,base:s,width:r,height:o}=i.getProps(["x","y","base","width","height"],t),a,l,c,h,u;return i.horizontal?(u=o/2,a=Math.min(e,s),l=Math.max(e,s),c=n-u,h=n+u):(u=r/2,a=e-u,l=e+u,c=Math.min(n,s),h=Math.max(n,s)),{left:a,top:c,right:l,bottom:h}}function Ti(i,t,e,n){return i?0:bt(t,e,n)}function qT(i,t,e){let n=i.options.borderWidth,s=i.borderSkipped,r=ya(n);return{t:Ti(s.top,r.top,0,e),r:Ti(s.right,r.right,0,t),b:Ti(s.bottom,r.bottom,0,e),l:Ti(s.left,r.left,0,t)}}function XT(i,t,e){let{enableBorderRadius:n}=i.getProps(["enableBorderRadius"]),s=i.options.borderRadius,r=qe(s),o=Math.min(t,e),a=i.borderSkipped,l=n||q(s);return{topLeft:Ti(!l||a.top||a.left,r.topLeft,0,o),topRight:Ti(!l||a.top||a.right,r.topRight,0,o),bottomLeft:Ti(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:Ti(!l||a.bottom||a.right,r.bottomRight,0,o)}}function KT(i){let t=N0(i),e=t.right-t.left,n=t.bottom-t.top,s=qT(i,e/2,n/2),r=XT(i,e/2,n/2);return{outer:{x:t.left,y:t.top,w:e,h:n,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:e-s.l-s.r,h:n-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function vu(i,t,e,n){let s=t===null,r=e===null,a=i&&!(s&&r)&&N0(i,n);return a&&(s||me(t,a.left,a.right))&&(r||me(e,a.top,a.bottom))}function GT(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function JT(i,t){i.rect(t.x,t.y,t.w,t.h)}function wu(i,t,e={}){let n=i.x!==e.x?-t:0,s=i.y!==e.y?-t:0,r=(i.x+i.w!==e.x+e.w?t:0)-n,o=(i.y+i.h!==e.y+e.h?t:0)-s;return{x:i.x+n,y:i.y+s,w:i.w+r,h:i.h+o,radius:i.radius}}var Mi=class extends te{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){let{inflateAmount:e,options:{borderColor:n,backgroundColor:s}}=this,{inner:r,outer:o}=KT(this),a=GT(o.radius)?Qi:JT;t.save(),(o.w!==r.w||o.h!==r.h)&&(t.beginPath(),a(t,wu(o,e,r)),t.clip(),a(t,wu(r,-e,o)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),a(t,wu(r,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,n){return vu(this,t,e,n)}inXRange(t,e){return vu(this,t,null,e)}inYRange(t,e){return vu(this,null,t,e)}getCenterPoint(t){let{x:e,y:n,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+s)/2:e,y:r?n:(n+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}};F(Mi,"id","bar"),F(Mi,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),F(Mi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var QT=Object.freeze({__proto__:null,ArcElement:Qe,BarElement:Mi,LineElement:Re,PointElement:Ei}),Fu=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],n0=Fu.map(i=>i.replace("rgb(","rgba(").replace(")",", 0.5)"));function z0(i){return Fu[i%Fu.length]}function B0(i){return n0[i%n0.length]}function tO(i,t){return i.borderColor=z0(t),i.backgroundColor=B0(t),++t}function eO(i,t){return i.backgroundColor=i.data.map(()=>z0(t++)),t}function iO(i,t){return i.backgroundColor=i.data.map(()=>B0(t++)),t}function nO(i){let t=0;return(e,n)=>{let s=i.getDatasetMeta(n).controller;s instanceof Je?t=eO(e,t):s instanceof sn?t=iO(e,t):s&&(t=tO(e,t))}}function s0(i){let t;for(t in i)if(i[t].borderColor||i[t].backgroundColor)return!0;return!1}function sO(i){return i&&(i.borderColor||i.backgroundColor)}var rO={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(i,t,e){if(!e.enabled)return;let{data:{datasets:n},options:s}=i.config,{elements:r}=s;if(!e.forceOverride&&(s0(n)||sO(s)||r&&s0(r)))return;let o=nO(i);n.forEach(o)}};function oO(i,t,e,n,s){let r=s.samples||n;if(r>=e)return i.slice(t,t+e);let o=[],a=(e-2)/(r-2),l=0,c=t+e-1,h=t,u,f,d,m,_;for(o[l++]=i[h],u=0;u<r-2;u++){let p=0,g=0,y,x=Math.floor((u+1)*a)+1+t,b=Math.min(Math.floor((u+2)*a)+1,e)+t,$=b-x;for(y=x;y<b;y++)p+=i[y].x,g+=i[y].y;p/=$,g/=$;let w=Math.floor(u*a)+1+t,v=Math.min(Math.floor((u+1)*a)+1,e)+t,{x:S,y:E}=i[h];for(d=m=-1,y=w;y<v;y++)m=.5*Math.abs((S-p)*(i[y].y-E)-(S-i[y].x)*(g-E)),m>d&&(d=m,f=i[y],_=y);o[l++]=f,h=_}return o[l++]=i[c],o}function aO(i,t,e,n){let s=0,r=0,o,a,l,c,h,u,f,d,m,_,p=[],g=t+e-1,y=i[t].x,b=i[g].x-y;for(o=t;o<t+e;++o){a=i[o],l=(a.x-y)/b*n,c=a.y;let $=l|0;if($===h)c<m?(m=c,u=o):c>_&&(_=c,f=o),s=(r*s+a.x)/++r;else{let w=o-1;if(!Z(u)&&!Z(f)){let v=Math.min(u,f),S=Math.max(u,f);v!==d&&v!==w&&p.push({...i[v],x:s}),S!==d&&S!==w&&p.push({...i[S],x:s})}o>0&&w!==d&&p.push(i[w]),p.push(a),h=$,r=0,m=_=c,u=f=d=o}}return p}function j0(i){if(i._decimated){let t=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function r0(i){i.data.datasets.forEach(t=>{j0(t)})}function lO(i,t){let e=t.length,n=0,s,{iScale:r}=i,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(n=bt(ue(t,r.axis,o).lo,0,e-1)),c?s=bt(ue(t,r.axis,a).hi+1,n,e)-n:s=e-n,{start:n,count:s}}var cO={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(i,t,e)=>{if(!e.enabled){r0(i);return}let n=i.width;i.data.datasets.forEach((s,r)=>{let{_data:o,indexAxis:a}=s,l=i.getDatasetMeta(r),c=o||s.data;if(it([a,i.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let h=i.scales[l.xAxisID];if(h.type!=="linear"&&h.type!=="time"||i.options.parsing)return;let{start:u,count:f}=lO(l,c),d=e.threshold||4*n;if(f<=d){j0(s);return}Z(o)&&(s._data=c,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(_){this._data=_}}));let m;switch(e.algorithm){case"lttb":m=oO(c,u,f,n,e);break;case"min-max":m=aO(c,u,f,n);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}s._decimated=m})},destroy(i){r0(i)}};function hO(i,t,e){let n=i.segments,s=i.points,r=t.points,o=[];for(let a of n){let{start:l,end:c}=a;c=zu(l,c,s);let h=Lu(e,s[l],s[c],a.loop);if(!t.segments){o.push({source:a,target:h,start:s[l],end:s[c]});continue}let u=Ta(t,h);for(let f of u){let d=Lu(e,r[f.start],r[f.end],f.loop),m=Ma(a,s,d);for(let _ of m)o.push({source:_,target:f,start:{[e]:o0(h,d,"start",Math.max)},end:{[e]:o0(h,d,"end",Math.min)}})}}return o}function Lu(i,t,e,n){if(n)return;let s=t[i],r=e[i];return i==="angle"&&(s=Dt(s),r=Dt(r)),{property:i,start:s,end:r}}function uO(i,t){let{x:e=null,y:n=null}=i||{},s=t.points,r=[];return t.segments.forEach(({start:o,end:a})=>{a=zu(o,a,s);let l=s[o],c=s[a];n!==null?(r.push({x:l.x,y:n}),r.push({x:c.x,y:n})):e!==null&&(r.push({x:e,y:l.y}),r.push({x:e,y:c.y}))}),r}function zu(i,t,e){for(;t>i;t--){let n=e[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function o0(i,t,e,n){return i&&t?n(i[e],t[e]):i?i[e]:t?t[e]:0}function U0(i,t){let e=[],n=!1;return st(i)?(n=!0,e=i):e=uO(i,t),e.length?new Re({points:e,options:{tension:0},_loop:n,_fullLoop:n}):null}function a0(i){return i&&i.fill!==!1}function fO(i,t,e){let s=i[t].fill,r=[t],o;if(!e)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!mt(s))return s;if(o=i[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function dO(i,t,e){let n=gO(i);if(q(n))return isNaN(n.value)?!1:n;let s=parseFloat(n);return mt(s)&&Math.floor(s)===s?mO(n[0],t,s,e):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function mO(i,t,e,n){return(i==="-"||i==="+")&&(e=t+e),e===t||e<0||e>=n?!1:e}function pO(i,t){let e=null;return i==="start"?e=t.bottom:i==="end"?e=t.top:q(i)?e=t.getPixelForValue(i.value):t.getBasePixel&&(e=t.getBasePixel()),e}function _O(i,t,e){let n;return i==="start"?n=e:i==="end"?n=t.options.reverse?t.min:t.max:q(i)?n=i.value:n=t.getBaseValue(),n}function gO(i){let t=i.options,e=t.fill,n=V(e&&e.target,e);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function bO(i){let{scale:t,index:e,line:n}=i,s=[],r=n.segments,o=n.points,a=yO(t,e);a.push(U0({x:null,y:t.bottom},n));for(let l=0;l<r.length;l++){let c=r[l];for(let h=c.start;h<=c.end;h++)xO(s,o[h],a)}return new Re({points:s,options:{}})}function yO(i,t){let e=[],n=i.getMatchingVisibleMetas("line");for(let s=0;s<n.length;s++){let r=n[s];if(r.index===t)break;r.hidden||e.unshift(r.dataset)}return e}function xO(i,t,e){let n=[];for(let s=0;s<e.length;s++){let r=e[s],{first:o,last:a,point:l}=$O(r,t,"x");if(!(!l||o&&a)){if(o)n.unshift(l);else if(i.push(l),!a)break}}i.push(...n)}function $O(i,t,e){let n=i.interpolate(t,e);if(!n)return{};let s=n[e],r=i.segments,o=i.points,a=!1,l=!1;for(let c=0;c<r.length;c++){let h=r[c],u=o[h.start][e],f=o[h.end][e];if(me(s,u,f)){a=s===u,l=s===f;break}}return{first:a,last:l,point:n}}var Ua=class{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){let{x:s,y:r,radius:o}=this;return e=e||{start:0,end:rt},t.arc(s,r,o,e.end,e.start,!0),!n.bounds}interpolate(t){let{x:e,y:n,radius:s}=this,r=t.angle;return{x:e+Math.cos(r)*s,y:n+Math.sin(r)*s,angle:r}}};function SO(i){let{chart:t,fill:e,line:n}=i;if(mt(e))return vO(t,e);if(e==="stack")return bO(i);if(e==="shape")return!0;let s=wO(i);return s instanceof Ua?s:U0(s,n)}function vO(i,t){let e=i.getDatasetMeta(t);return e&&i.isDatasetVisible(t)?e.dataset:null}function wO(i){return(i.scale||{}).getPointPositionForValue?CO(i):kO(i)}function kO(i){let{scale:t={},fill:e}=i,n=pO(e,t);if(mt(n)){let s=t.isHorizontal();return{x:s?n:null,y:s?null:n}}return null}function CO(i){let{scale:t,fill:e}=i,n=t.options,s=t.getLabels().length,r=n.reverse?t.max:t.min,o=_O(e,t,r),a=[];if(n.grid.circular){let l=t.getPointPositionForValue(0,r);return new Ua({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<s;++l)a.push(t.getPointPositionForValue(l,o));return a}function ku(i,t,e){let n=SO(t),{line:s,scale:r,axis:o}=t,a=s.options,l=a.fill,c=a.backgroundColor,{above:h=c,below:u=c}=l||{};n&&s.points.length&&(Vn(i,e),EO(i,{line:s,target:n,above:h,below:u,area:e,scale:r,axis:o}),Hn(i))}function EO(i,t){let{line:e,target:n,above:s,below:r,area:o,scale:a}=t,l=e._loop?"angle":t.axis;i.save(),l==="x"&&r!==s&&(l0(i,n,o.top),c0(i,{line:e,target:n,color:s,scale:a,property:l}),i.restore(),i.save(),l0(i,n,o.bottom)),c0(i,{line:e,target:n,color:r,scale:a,property:l}),i.restore()}function l0(i,t,e){let{segments:n,points:s}=t,r=!0,o=!1;i.beginPath();for(let a of n){let{start:l,end:c}=a,h=s[l],u=s[zu(l,c,s)];r?(i.moveTo(h.x,h.y),r=!1):(i.lineTo(h.x,e),i.lineTo(h.x,h.y)),o=!!t.pathSegment(i,a,{move:o}),o?i.closePath():i.lineTo(u.x,e)}i.lineTo(t.first().x,e),i.closePath(),i.clip()}function c0(i,t){let{line:e,target:n,property:s,color:r,scale:o}=t,a=hO(e,n,s);for(let{source:l,target:c,start:h,end:u}of a){let{style:{backgroundColor:f=r}={}}=l,d=n!==!0;i.save(),i.fillStyle=f,MO(i,o,d&&Lu(s,h,u)),i.beginPath();let m=!!e.pathSegment(i,l),_;if(d){m?i.closePath():h0(i,n,u,s);let p=!!n.pathSegment(i,c,{move:m,reverse:!0});_=m&&p,_||h0(i,n,h,s)}i.closePath(),i.fill(_?"evenodd":"nonzero"),i.restore()}}function MO(i,t,e){let{top:n,bottom:s}=t.chart.chartArea,{property:r,start:o,end:a}=e||{};r==="x"&&(i.beginPath(),i.rect(o,n,a-o,s-n),i.clip())}function h0(i,t,e,n){let s=t.interpolate(e,n);s&&i.lineTo(s.x,s.y)}var TO={id:"filler",afterDatasetsUpdate(i,t,e){let n=(i.data.datasets||[]).length,s=[],r,o,a,l;for(o=0;o<n;++o)r=i.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof Re&&(l={visible:i.isDatasetVisible(o),index:o,fill:dO(a,o,n),chart:i,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,s.push(l);for(o=0;o<n;++o)l=s[o],!(!l||l.fill===!1)&&(l.fill=fO(s,o,e.propagate))},beforeDraw(i,t,e){let n=e.drawTime==="beforeDraw",s=i.getSortedVisibleDatasetMetas(),r=i.chartArea;for(let o=s.length-1;o>=0;--o){let a=s[o].$filler;!a||(a.line.updateControlPoints(r,a.axis),n&&a.fill&&ku(i.ctx,a,r))}},beforeDatasetsDraw(i,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;let n=i.getSortedVisibleDatasetMetas();for(let s=n.length-1;s>=0;--s){let r=n[s].$filler;a0(r)&&ku(i.ctx,r,i.chartArea)}},beforeDatasetDraw(i,t,e){let n=t.meta.$filler;!a0(n)||e.drawTime!=="beforeDatasetDraw"||ku(i.ctx,n,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},u0=(i,t)=>{let{boxHeight:e=t,boxWidth:n=t}=i;return i.usePointStyle&&(e=Math.min(e,t),n=i.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:e,itemHeight:Math.max(t,e)}},OO=(i,t)=>i!==null&&t!==null&&i.datasetIndex===t.datasetIndex&&i.index===t.index,Va=class extends te{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},e=tt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(n=>t.filter(n,this.chart.data))),t.sort&&(e=e.sort((n,s)=>t.sort(n,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}let n=t.labels,s=_t(n.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=u0(n,r),c,h;e.font=s.string,this.isHorizontal()?(c=this.maxWidth,h=this._fitRows(o,r,a,l)+10):(h=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,s){let{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],h=s+a,u=t;r.textAlign="left",r.textBaseline="middle";let f=-1,d=-h;return this.legendItems.forEach((m,_)=>{let p=n+e/2+r.measureText(m.text).width;(_===0||c[c.length-1]+p+2*a>o)&&(u+=h,c[c.length-(_>0?0:1)]=0,d+=h,f++),l[_]={left:0,top:d,row:f,width:p,height:s},c[c.length-1]+=p+a}),u}_fitCols(t,e,n,s){let{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],h=o-t,u=a,f=0,d=0,m=0,_=0;return this.legendItems.forEach((p,g)=>{let{itemWidth:y,itemHeight:x}=AO(n,e,r,p,s);g>0&&d+x+2*a>h&&(u+=f+a,c.push({width:f,height:d}),m+=f+a,_++,f=d=0),l[g]={left:m,top:d,col:_,width:y,height:x},f=Math.max(f,y),d+=x+a}),u+=f,c.push({width:f,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:s},rtl:r}}=this,o=Ci(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=kt(n,this.left+s,this.right-this.lineWidths[a]);for(let c of e)a!==c.row&&(a=c.row,l=kt(n,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+t+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=kt(n,this.top+t+s,this.bottom-this.columnSizes[a].height);for(let c of e)c.col!==a&&(a=c.col,l=kt(n,this.top+t+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;Vn(t,this),this._draw(),Hn(t)}}_draw(){let{options:t,columnSizes:e,lineWidths:n,ctx:s}=this,{align:r,labels:o}=t,a=ut.color,l=Ci(t.rtl,this.left,this.width),c=_t(o.font),{padding:h}=o,u=c.size,f=u/2,d;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;let{boxWidth:m,boxHeight:_,itemHeight:p}=u0(o,u),g=function(w,v,S){if(isNaN(m)||m<=0||isNaN(_)||_<0)return;s.save();let E=V(S.lineWidth,1);if(s.fillStyle=V(S.fillStyle,a),s.lineCap=V(S.lineCap,"butt"),s.lineDashOffset=V(S.lineDashOffset,0),s.lineJoin=V(S.lineJoin,"miter"),s.lineWidth=E,s.strokeStyle=V(S.strokeStyle,a),s.setLineDash(V(S.lineDash,[])),o.usePointStyle){let C={radius:_*Math.SQRT2/2,pointStyle:S.pointStyle,rotation:S.rotation,borderWidth:E},M=l.xPlus(w,m/2),O=v+f;ba(s,C,M,O,o.pointStyleWidth&&m)}else{let C=v+Math.max((u-_)/2,0),M=l.leftForLtr(w,m),O=qe(S.borderRadius);s.beginPath(),Object.values(O).some(D=>D!==0)?Qi(s,{x:M,y:C,w:m,h:_,radius:O}):s.rect(M,C,m,_),s.fill(),E!==0&&s.stroke()}s.restore()},y=function(w,v,S){Ze(s,S.text,w,v+p/2,c,{strikethrough:S.hidden,textAlign:l.textAlign(S.textAlign)})},x=this.isHorizontal(),b=this._computeTitleHeight();x?d={x:kt(r,this.left+h,this.right-n[0]),y:this.top+h+b,line:0}:d={x:this.left+h,y:kt(r,this.top+b+h,this.bottom-e[0].height),line:0},Ca(this.ctx,t.textDirection);let $=p+h;this.legendItems.forEach((w,v)=>{s.strokeStyle=w.fontColor,s.fillStyle=w.fontColor;let S=s.measureText(w.text).width,E=l.textAlign(w.textAlign||(w.textAlign=o.textAlign)),C=m+f+S,M=d.x,O=d.y;l.setWidth(this.width),x?v>0&&M+C+h>this.right&&(O=d.y+=$,d.line++,M=d.x=kt(r,this.left+h,this.right-n[d.line])):v>0&&O+$>this.bottom&&(M=d.x=M+e[d.line].width+h,d.line++,O=d.y=kt(r,this.top+b+h,this.bottom-e[d.line].height));let D=l.x(M);if(g(D,O,w),M=su(E,M+m+f,x?M+C:this.right,t.rtl),y(l.x(M),O,w),x)d.x+=C+h;else if(typeof w.text!="string"){let I=c.lineHeight;d.y+=V0(w,I)}else d.y+=$}),Ea(this.ctx,t.textDirection)}drawTitle(){let t=this.options,e=t.title,n=_t(e.font),s=yt(e.padding);if(!e.display)return;let r=Ci(t.rtl,this.left,this.width),o=this.ctx,a=e.position,l=n.size/2,c=s.top+l,h,u=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),h=this.top+c,u=kt(t.align,u,this.right-f);else{let m=this.columnSizes.reduce((_,p)=>Math.max(_,p.height),0);h=c+kt(t.align,this.top,this.bottom-m-t.labels.padding-this._computeTitleHeight())}let d=kt(a,u,u+f);o.textAlign=r.textAlign(ar(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=n.string,Ze(o,e.text,d,h,n)}_computeTitleHeight(){let t=this.options.title,e=_t(t.font),n=yt(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,s,r;if(me(t,this.left,this.right)&&me(e,this.top,this.bottom)){for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(s=r[n],me(t,s.left,s.left+s.width)&&me(e,s.top,s.top+s.height))return this.legendItems[n]}return null}handleEvent(t){let e=this.options;if(!PO(t.type,e))return;let n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){let s=this._hoveredItem,r=OO(s,n);s&&!r&&tt(e.onLeave,[t,s,this],this),this._hoveredItem=n,n&&!r&&tt(e.onHover,[t,n,this],this)}else n&&tt(e.onClick,[t,n,this],this)}};function AO(i,t,e,n,s){let r=RO(n,i,t,e),o=DO(s,n,t.lineHeight);return{itemWidth:r,itemHeight:o}}function RO(i,t,e,n){let s=i.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),t+e.size/2+n.measureText(s).width}function DO(i,t,e){let n=i;return typeof t.text!="string"&&(n=V0(t,e)),n}function V0(i,t){let e=i.text?i.text.length+.5:0;return t*e}function PO(i,t){return!!((i==="mousemove"||i==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(i==="click"||i==="mouseup"))}var IO={id:"legend",_element:Va,start(i,t,e){let n=i.legend=new Va({ctx:i.ctx,options:e,chart:i});Ot.configure(i,n,e),Ot.addBox(i,n)},stop(i){Ot.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,t,e){let n=i.legend;Ot.configure(i,n,e),n.options=e},afterUpdate(i){let t=i.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(i,t){t.replay||i.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,t,e){let n=t.datasetIndex,s=e.chart;s.isDatasetVisible(n)?(s.hide(n),t.hidden=!0):(s.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){let t=i.data.datasets,{labels:{usePointStyle:e,pointStyle:n,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=i.legend.options;return i._getSortedDatasetMetas().map(l=>{let c=l.controller.getStyle(e?0:void 0),h=yt(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}},Mr=class extends te{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){let n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;let s=st(n.text)?n.text.length:1;this._padding=yt(n.padding);let r=s*_t(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:e,left:n,bottom:s,right:r,options:o}=this,a=o.align,l=0,c,h,u;return this.isHorizontal()?(h=kt(a,n,r),u=e+t,c=r-n):(o.position==="left"?(h=n+t,u=kt(a,s,e),l=ct*-.5):(h=r-t,u=kt(a,e,s),l=ct*.5),c=s-e),{titleX:h,titleY:u,maxWidth:c,rotation:l}}draw(){let t=this.ctx,e=this.options;if(!e.display)return;let n=_t(e.font),r=n.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);Ze(t,e.text,0,0,n,{color:e.color,maxWidth:l,rotation:c,textAlign:ar(e.align),textBaseline:"middle",translation:[o,a]})}};function FO(i,t){let e=new Mr({ctx:i.ctx,options:t,chart:i});Ot.configure(i,e,t),Ot.addBox(i,e),i.titleBlock=e}var LO={id:"title",_element:Mr,start(i,t,e){FO(i,e)},stop(i){let t=i.titleBlock;Ot.removeBox(i,t),delete i.titleBlock},beforeUpdate(i,t,e){let n=i.titleBlock;Ot.configure(i,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Da=new WeakMap,NO={id:"subtitle",start(i,t,e){let n=new Mr({ctx:i.ctx,options:e,chart:i});Ot.configure(i,n,e),Ot.addBox(i,n),Da.set(i,n)},stop(i){Ot.removeBox(i,Da.get(i)),Da.delete(i)},beforeUpdate(i,t,e){let n=Da.get(i);Ot.configure(i,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},xr={average(i){if(!i.length)return!1;let t,e,n=0,s=0,r=0;for(t=0,e=i.length;t<e;++t){let o=i[t].element;if(o&&o.hasValue()){let a=o.tooltipPosition();n+=a.x,s+=a.y,++r}}return{x:n/r,y:s/r}},nearest(i,t){if(!i.length)return!1;let e=t.x,n=t.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=i.length;r<o;++r){let l=i[r].element;if(l&&l.hasValue()){let c=l.getCenterPoint(),h=nr(t,c);h<s&&(s=h,a=l)}}if(a){let l=a.tooltipPosition();e=l.x,n=l.y}return{x:e,y:n}}};function Oe(i,t){return t&&(st(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function Ge(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function zO(i,t){let{element:e,datasetIndex:n,index:s}=t,r=i.getDatasetMeta(n).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:i,label:o,parsed:r.getParsed(s),raw:i.data.datasets[n].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:n,element:e}}function f0(i,t){let e=i.chart.ctx,{body:n,footer:s,title:r}=i,{boxWidth:o,boxHeight:a}=t,l=_t(t.bodyFont),c=_t(t.titleFont),h=_t(t.footerFont),u=r.length,f=s.length,d=n.length,m=yt(t.padding),_=m.height,p=0,g=n.reduce((b,$)=>b+$.before.length+$.lines.length+$.after.length,0);if(g+=i.beforeBody.length+i.afterBody.length,u&&(_+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),g){let b=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;_+=d*b+(g-d)*l.lineHeight+(g-1)*t.bodySpacing}f&&(_+=t.footerMarginTop+f*h.lineHeight+(f-1)*t.footerSpacing);let y=0,x=function(b){p=Math.max(p,e.measureText(b).width+y)};return e.save(),e.font=c.string,G(i.title,x),e.font=l.string,G(i.beforeBody.concat(i.afterBody),x),y=t.displayColors?o+2+t.boxPadding:0,G(n,b=>{G(b.before,x),G(b.lines,x),G(b.after,x)}),y=0,e.font=h.string,G(i.footer,x),e.restore(),p+=m.width,{width:p,height:_}}function BO(i,t){let{y:e,height:n}=t;return e<n/2?"top":e>i.height-n/2?"bottom":"center"}function jO(i,t,e,n){let{x:s,width:r}=n,o=e.caretSize+e.caretPadding;if(i==="left"&&s+r+o>t.width||i==="right"&&s-r-o<0)return!0}function UO(i,t,e,n){let{x:s,width:r}=e,{width:o,chartArea:{left:a,right:l}}=i,c="center";return n==="center"?c=s<=(a+l)/2?"left":"right":s<=r/2?c="left":s>=o-r/2&&(c="right"),jO(c,i,t,e)&&(c="center"),c}function d0(i,t,e){let n=e.yAlign||t.yAlign||BO(i,e);return{xAlign:e.xAlign||t.xAlign||UO(i,t,e,n),yAlign:n}}function VO(i,t){let{x:e,width:n}=i;return t==="right"?e-=n:t==="center"&&(e-=n/2),e}function HO(i,t,e){let{y:n,height:s}=i;return t==="top"?n+=e:t==="bottom"?n-=s+e:n-=s/2,n}function m0(i,t,e,n){let{caretSize:s,caretPadding:r,cornerRadius:o}=i,{xAlign:a,yAlign:l}=e,c=s+r,{topLeft:h,topRight:u,bottomLeft:f,bottomRight:d}=qe(o),m=VO(t,a),_=HO(t,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(h,f)+s:a==="right"&&(m+=Math.max(u,d)+s),{x:bt(m,0,n.width-t.width),y:bt(_,0,n.height-t.height)}}function Pa(i,t,e){let n=yt(e.padding);return t==="center"?i.x+i.width/2:t==="right"?i.x+i.width-n.right:i.x+n.left}function p0(i){return Oe([],Ge(i))}function WO(i,t,e){return Te(i,{tooltip:t,tooltipItems:e,type:"tooltip"})}function _0(i,t){let e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?i.override(e):i}var H0={beforeTitle:de,title(i){if(i.length>0){let t=i[0],e=t.chart.data.labels,n=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return e[t.dataIndex]}return""},afterTitle:de,beforeBody:de,beforeLabel:de,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let t=i.dataset.label||"";t&&(t+=": ");let e=i.formattedValue;return Z(e)||(t+=e),t},labelColor(i){let e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){let e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:de,afterBody:de,beforeFooter:de,footer:de,afterFooter:de};function jt(i,t,e,n){let s=i[t].call(e,n);return typeof s>"u"?H0[t].call(e,n):s}var kr=class extends te{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let e=this.chart,n=this.options.setContext(this.getContext()),s=n.enabled&&e.options.animation&&n.animations,r=new Na(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=WO(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){let{callbacks:n}=e,s=jt(n,"beforeTitle",this,t),r=jt(n,"title",this,t),o=jt(n,"afterTitle",this,t),a=[];return a=Oe(a,Ge(s)),a=Oe(a,Ge(r)),a=Oe(a,Ge(o)),a}getBeforeBody(t,e){return p0(jt(e.callbacks,"beforeBody",this,t))}getBody(t,e){let{callbacks:n}=e,s=[];return G(t,r=>{let o={before:[],lines:[],after:[]},a=_0(n,r);Oe(o.before,Ge(jt(a,"beforeLabel",this,r))),Oe(o.lines,jt(a,"label",this,r)),Oe(o.after,Ge(jt(a,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(t,e){return p0(jt(e.callbacks,"afterBody",this,t))}getFooter(t,e){let{callbacks:n}=e,s=jt(n,"beforeFooter",this,t),r=jt(n,"footer",this,t),o=jt(n,"afterFooter",this,t),a=[];return a=Oe(a,Ge(s)),a=Oe(a,Ge(r)),a=Oe(a,Ge(o)),a}_createItems(t){let e=this._active,n=this.chart.data,s=[],r=[],o=[],a=[],l,c;for(l=0,c=e.length;l<c;++l)a.push(zO(this.chart,e[l]));return t.filter&&(a=a.filter((h,u,f)=>t.filter(h,u,f,n))),t.itemSort&&(a=a.sort((h,u)=>t.itemSort(h,u,n))),G(a,h=>{let u=_0(t.callbacks,h);s.push(jt(u,"labelColor",this,h)),r.push(jt(u,"labelPointStyle",this,h)),o.push(jt(u,"labelTextColor",this,h))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(t,e){let n=this.options.setContext(this.getContext()),s=this._active,r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{let a=xr[n.position].call(this,s,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);let l=this._size=f0(this,n),c=Object.assign({},a,l),h=d0(this.chart,n,c),u=m0(n,c,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,r={opacity:1,x:u.x,y:u.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,s){let r=this.getCaretPosition(t,n,s);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,n){let{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:a}=n,{topLeft:l,topRight:c,bottomLeft:h,bottomRight:u}=qe(a),{x:f,y:d}=t,{width:m,height:_}=e,p,g,y,x,b,$;return r==="center"?(b=d+_/2,s==="left"?(p=f,g=p-o,x=b+o,$=b-o):(p=f+m,g=p+o,x=b-o,$=b+o),y=p):(s==="left"?g=f+Math.max(l,h)+o:s==="right"?g=f+m-Math.max(c,u)-o:g=this.caretX,r==="top"?(x=d,b=x-o,p=g-o,y=g+o):(x=d+_,b=x+o,p=g+o,y=g-o),$=x),{x1:p,x2:g,x3:y,y1:x,y2:b,y3:$}}drawTitle(t,e,n){let s=this.title,r=s.length,o,a,l;if(r){let c=Ci(n.rtl,this.x,this.width);for(t.x=Pa(this,n.titleAlign,n),e.textAlign=c.textAlign(n.titleAlign),e.textBaseline="middle",o=_t(n.titleFont),a=n.titleSpacing,e.fillStyle=n.titleColor,e.font=o.string,l=0;l<r;++l)e.fillText(s[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===r&&(t.y+=n.titleMarginBottom-a)}}_drawColorBox(t,e,n,s,r){let o=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=r,h=_t(r.bodyFont),u=Pa(this,"left",r),f=s.x(u),d=l<h.lineHeight?(h.lineHeight-l)/2:0,m=e.y+d;if(r.usePointStyle){let _={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},p=s.leftForLtr(f,c)+c/2,g=m+l/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,cr(t,_,p,g),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,cr(t,_,p,g)}else{t.lineWidth=q(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;let _=s.leftForLtr(f,c),p=s.leftForLtr(s.xPlus(f,1),c-2),g=qe(o.borderRadius);Object.values(g).some(y=>y!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Qi(t,{x:_,y:m,w:c,h:l,radius:g}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Qi(t,{x:p,y:m+1,w:c-2,h:l-2,radius:g}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(_,m,c,l),t.strokeRect(_,m,c,l),t.fillStyle=o.backgroundColor,t.fillRect(p,m+1,c-2,l-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){let{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:h}=n,u=_t(n.bodyFont),f=u.lineHeight,d=0,m=Ci(n.rtl,this.x,this.width),_=function(S){e.fillText(S,m.x(t.x+d),t.y+f/2),t.y+=f+r},p=m.textAlign(o),g,y,x,b,$,w,v;for(e.textAlign=o,e.textBaseline="middle",e.font=u.string,t.x=Pa(this,p,n),e.fillStyle=n.bodyColor,G(this.beforeBody,_),d=a&&p!=="right"?o==="center"?c/2+h:c+2+h:0,b=0,w=s.length;b<w;++b){for(g=s[b],y=this.labelTextColors[b],e.fillStyle=y,G(g.before,_),x=g.lines,a&&x.length&&(this._drawColorBox(e,t,b,m,n),f=Math.max(u.lineHeight,l)),$=0,v=x.length;$<v;++$)_(x[$]),f=u.lineHeight;G(g.after,_)}d=0,f=u.lineHeight,G(this.afterBody,_),t.y-=r}drawFooter(t,e,n){let s=this.footer,r=s.length,o,a;if(r){let l=Ci(n.rtl,this.x,this.width);for(t.x=Pa(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=l.textAlign(n.footerAlign),e.textBaseline="middle",o=_t(n.footerFont),e.fillStyle=n.footerColor,e.font=o.string,a=0;a<r;++a)e.fillText(s[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+n.footerSpacing}}drawBackground(t,e,n,s){let{xAlign:r,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:h}=n,{topLeft:u,topRight:f,bottomLeft:d,bottomRight:m}=qe(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(a+u,l),o==="top"&&this.drawCaret(t,e,n,s),e.lineTo(a+c-f,l),e.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&r==="right"&&this.drawCaret(t,e,n,s),e.lineTo(a+c,l+h-m),e.quadraticCurveTo(a+c,l+h,a+c-m,l+h),o==="bottom"&&this.drawCaret(t,e,n,s),e.lineTo(a+d,l+h),e.quadraticCurveTo(a,l+h,a,l+h-d),o==="center"&&r==="left"&&this.drawCaret(t,e,n,s),e.lineTo(a,l+u),e.quadraticCurveTo(a,l,a+u,l),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){let e=this.chart,n=this.$animations,s=n&&n.x,r=n&&n.y;if(s||r){let o=xr[t.position].call(this,this._active,this._eventPosition);if(!o)return;let a=this._size=f0(this,t),l=Object.assign({},o,this._size),c=d0(e,t,l),h=m0(t,l,c,e);(s._to!==h.x||r._to!==h.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(t){let e=this.options.setContext(this.getContext()),n=this.opacity;if(!n)return;this._updateAnimationTarget(e);let s={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;let o=yt(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=n,this.drawBackground(r,t,s,e),Ca(t,e.textDirection),r.y+=o.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),Ea(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){let n=this._active,s=t.map(({datasetIndex:a,index:l})=>{let c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!Un(n,s),o=this._positionChanged(s,e);(r||o)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,n=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let s=this.options,r=this._active||[],o=this._getActiveElements(t,r,e,n),a=this._positionChanged(o,t),l=e||!Un(o,r)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),l}_getActiveElements(t,e,n,s){let r=this.options;if(t.type==="mouseout")return[];if(!s)return e;let o=this.chart.getElementsAtEventForMode(t,r.mode,r,n);return r.reverse&&o.reverse(),o}_positionChanged(t,e){let{caretX:n,caretY:s,options:r}=this,o=xr[r.position].call(this,t,e);return o!==!1&&(n!==o.x||s!==o.y)}};F(kr,"positioners",xr);var YO={id:"tooltip",_element:kr,positioners:xr,afterInit(i,t,e){e&&(i.tooltip=new kr({chart:i,options:e}))},beforeUpdate(i,t,e){i.tooltip&&i.tooltip.initialize(e)},reset(i,t,e){i.tooltip&&i.tooltip.initialize(e)},afterDraw(i){let t=i.tooltip;if(t&&t._willRender()){let e={tooltip:t};if(i.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",e)}},afterEvent(i,t){if(i.tooltip){let e=t.replay;i.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:H0},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},ZO=Object.freeze({__proto__:null,Colors:rO,Decimation:cO,Filler:TO,Legend:IO,SubTitle:NO,Title:LO,Tooltip:YO}),qO=(i,t,e,n)=>(typeof t=="string"?(e=i.push(t)-1,n.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function XO(i,t,e,n){let s=i.indexOf(t);if(s===-1)return qO(i,t,e,n);let r=i.lastIndexOf(t);return s!==r?e:s}var KO=(i,t)=>i===null?null:bt(Math.round(i),0,t);function g0(i){let t=this.getLabels();return i>=0&&i<t.length?t[i]:i}var $r=class extends ti{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){let e=this._addedLabels;if(e.length){let n=this.getLabels();for(let{index:s,label:r}of e)n[s]===r&&n.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Z(t))return null;let n=this.getLabels();return e=isFinite(e)&&n[e]===t?e:XO(n,t,V(e,t),this._addedLabels),KO(e,n.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),{min:n,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),e||(s=this.getLabels().length-1)),this.min=n,this.max=s}buildTicks(){let t=this.min,e=this.max,n=this.options.offset,s=[],r=this.getLabels();r=t===0&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=t;o<=e;o++)s.push({value:o});return s}getLabelForValue(t){return g0.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}};F($r,"id","category"),F($r,"defaults",{ticks:{callback:g0}});function GO(i,t){let e=[],{bounds:s,step:r,min:o,max:a,precision:l,count:c,maxTicks:h,maxDigits:u,includeBounds:f}=i,d=r||1,m=h-1,{min:_,max:p}=t,g=!Z(o),y=!Z(a),x=!Z(c),b=(p-_)/(u+1),$=sa((p-_)/m/d)*d,w,v,S,E;if($<1e-14&&!g&&!y)return[{value:_},{value:p}];E=Math.ceil(p/$)-Math.floor(_/$),E>m&&($=sa(E*$/m/d)*d),Z(l)||(w=Math.pow(10,l),$=Math.ceil($*w)/w),s==="ticks"?(v=Math.floor(_/$)*$,S=Math.ceil(p/$)*$):(v=_,S=p),g&&y&&r&&Jh((a-o)/r,$/1e3)?(E=Math.round(Math.min((a-o)/$,h)),$=(a-o)/E,v=o,S=a):x?(v=g?o:v,S=y?a:S,E=c-1,$=(S-v)/E):(E=(S-v)/$,Ki(E,Math.round(E),$/1e3)?E=Math.round(E):E=Math.ceil(E));let C=Math.max(oa($),oa(v));w=Math.pow(10,Z(l)?C:l),v=Math.round(v*w)/w,S=Math.round(S*w)/w;let M=0;for(g&&(f&&v!==o?(e.push({value:o}),v<o&&M++,Ki(Math.round((v+M*$)*w)/w,o,b0(o,b,i))&&M++):v<o&&M++);M<E;++M){let O=Math.round((v+M*$)*w)/w;if(y&&O>a)break;e.push({value:O})}return y&&f&&S!==a?e.length&&Ki(e[e.length-1].value,a,b0(a,b,i))?e[e.length-1].value=a:e.push({value:a}):(!y||S===a)&&e.push({value:S}),e}function b0(i,t,{horizontal:e,minRotation:n}){let s=Jt(n),r=(e?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+i).length;return Math.min(t/r,o)}var Jn=class extends ti{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Z(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds(),{min:s,max:r}=this,o=l=>s=e?s:l,a=l=>r=n?r:l;if(t){let l=le(s),c=le(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===r){let l=r===0?1:Math.abs(r*.05);a(r+l),t||o(s-l)}this.min=s,this.max=r}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:e,stepSize:n}=t,s;return n?(s=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,e=t.ticks,n=this.getTickLimit();n=Math.max(2,n);let s={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},r=this._range||this,o=GO(s,r);return t.bounds==="ticks"&&ra(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){let t=this.ticks,e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){let s=(n-e)/Math.max(t.length-1,1)/2;e-=s,n+=s}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return Ji(t,this.chart.options.locale,this.options.ticks.format)}},Sr=class extends Jn{determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=mt(t)?t:0,this.max=mt(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),e=t?this.width:this.height,n=Jt(this.options.ticks.minRotation),s=(t?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}};F(Sr,"id","linear"),F(Sr,"defaults",{ticks:{callback:lr.formatters.numeric}});var Tr=i=>Math.floor(Ee(i)),en=(i,t)=>Math.pow(10,Tr(i)+t);function y0(i){return i/Math.pow(10,Tr(i))===1}function x0(i,t,e){let n=Math.pow(10,e),s=Math.floor(i/n);return Math.ceil(t/n)-s}function JO(i,t){let e=t-i,n=Tr(e);for(;x0(i,t,n)>10;)n++;for(;x0(i,t,n)<10;)n--;return Math.min(n,Tr(i))}function QO(i,{min:t,max:e}){t=Pt(i.min,t);let n=[],s=Tr(t),r=JO(t,e),o=r<0?Math.pow(10,Math.abs(r)):1,a=Math.pow(10,r),l=s>r?Math.pow(10,s):0,c=Math.round((t-l)*o)/o,h=Math.floor((t-l)/a/10)*a*10,u=Math.floor((c-h)/Math.pow(10,r)),f=Pt(i.min,Math.round((l+h+u*Math.pow(10,r))*o)/o);for(;f<e;)n.push({value:f,major:y0(f),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(r++,u=2,o=r>=0?1:o),f=Math.round((l+h+u*Math.pow(10,r))*o)/o;let d=Pt(i.max,f);return n.push({value:d,major:y0(d),significand:u}),n}var vr=class extends ti{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){let n=Jn.prototype.parse.apply(this,[t,e]);if(n===0){this._zero=!0;return}return mt(n)&&n>0?n:null}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=mt(t)?Math.max(0,t):null,this.max=mt(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!mt(this._userMin)&&(this.min=t===en(this.min,0)?en(this.min,-1):en(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),n=this.min,s=this.max,r=a=>n=t?n:a,o=a=>s=e?s:a;n===s&&(n<=0?(r(1),o(10)):(r(en(n,-1)),o(en(s,1)))),n<=0&&r(en(s,-1)),s<=0&&o(en(n,1)),this.min=n,this.max=s}buildTicks(){let t=this.options,e={min:this._userMin,max:this._userMax},n=QO(e,this);return t.bounds==="ticks"&&ra(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":Ji(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=Ee(t),this._valueRange=Ee(this.max)-Ee(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Ee(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}};F(vr,"id","logarithmic"),F(vr,"defaults",{ticks:{callback:lr.formatters.logarithmic,major:{enabled:!0}}});function Nu(i){let t=i.ticks;if(t.display&&i.display){let e=yt(t.backdropPadding);return V(t.font&&t.font.size,ut.font.size)+e.height}return 0}function tA(i,t,e){return e=st(e)?e:[e],{w:ru(i,t.string,e),h:e.length*t.lineHeight}}function $0(i,t,e,n,s){return i===n||i===s?{start:t-e/2,end:t+e/2}:i<n||i>s?{start:t-e,end:t}:{start:t,end:t+e}}function eA(i){let t={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},e=Object.assign({},t),n=[],s=[],r=i._pointLabels.length,o=i.options.pointLabels,a=o.centerPointLabels?ct/r:0;for(let l=0;l<r;l++){let c=o.setContext(i.getPointLabelContext(l));s[l]=c.padding;let h=i.getPointPosition(l,i.drawingArea+s[l],a),u=_t(c.font),f=tA(i.ctx,u,i._pointLabels[l]);n[l]=f;let d=Dt(i.getIndexAngle(l)+a),m=Math.round(rr(d)),_=$0(m,h.x,f.w,0,180),p=$0(m,h.y,f.h,90,270);iA(e,t,d,_,p)}i.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),i._pointLabelItems=rA(i,n,s)}function iA(i,t,e,n,s){let r=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e)),a=0,l=0;n.start<t.l?(a=(t.l-n.start)/r,i.l=Math.min(i.l,t.l-a)):n.end>t.r&&(a=(n.end-t.r)/r,i.r=Math.max(i.r,t.r+a)),s.start<t.t?(l=(t.t-s.start)/o,i.t=Math.min(i.t,t.t-l)):s.end>t.b&&(l=(s.end-t.b)/o,i.b=Math.max(i.b,t.b+l))}function nA(i,t,e){let n=i.drawingArea,{extra:s,additionalAngle:r,padding:o,size:a}=e,l=i.getPointPosition(t,n+s+o,r),c=Math.round(rr(Dt(l.angle+dt))),h=lA(l.y,a.h,c),u=oA(c),f=aA(l.x,a.w,u);return{visible:!0,x:l.x,y:h,textAlign:u,left:f,top:h,right:f+a.w,bottom:h+a.h}}function sA(i,t){if(!t)return!0;let{left:e,top:n,right:s,bottom:r}=i;return!(fe({x:e,y:n},t)||fe({x:e,y:r},t)||fe({x:s,y:n},t)||fe({x:s,y:r},t))}function rA(i,t,e){let n=[],s=i._pointLabels.length,r=i.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:Nu(r)/2,additionalAngle:o?ct/s:0},c;for(let h=0;h<s;h++){l.padding=e[h],l.size=t[h];let u=nA(i,h,l);n.push(u),a==="auto"&&(u.visible=sA(u,c),u.visible&&(c=u))}return n}function oA(i){return i===0||i===180?"center":i<180?"left":"right"}function aA(i,t,e){return e==="right"?i-=t:e==="center"&&(i-=t/2),i}function lA(i,t,e){return e===90||e===270?i-=t/2:(e>270||e<90)&&(i-=t),i}function cA(i,t,e){let{left:n,top:s,right:r,bottom:o}=e,{backdropColor:a}=t;if(!Z(a)){let l=qe(t.borderRadius),c=yt(t.backdropPadding);i.fillStyle=a;let h=n-c.left,u=s-c.top,f=r-n+c.width,d=o-s+c.height;Object.values(l).some(m=>m!==0)?(i.beginPath(),Qi(i,{x:h,y:u,w:f,h:d,radius:l}),i.fill()):i.fillRect(h,u,f,d)}}function hA(i,t){let{ctx:e,options:{pointLabels:n}}=i;for(let s=t-1;s>=0;s--){let r=i._pointLabelItems[s];if(!r.visible)continue;let o=n.setContext(i.getPointLabelContext(s));cA(e,o,r);let a=_t(o.font),{x:l,y:c,textAlign:h}=r;Ze(e,i._pointLabels[s],l,c+a.lineHeight/2,a,{color:o.color,textAlign:h,textBaseline:"middle"})}}function W0(i,t,e,n){let{ctx:s}=i;if(e)s.arc(i.xCenter,i.yCenter,t,0,rt);else{let r=i.getPointPosition(0,t);s.moveTo(r.x,r.y);for(let o=1;o<n;o++)r=i.getPointPosition(o,t),s.lineTo(r.x,r.y)}}function uA(i,t,e,n,s){let r=i.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!n||!a||!l||e<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(s.dash),r.lineDashOffset=s.dashOffset,r.beginPath(),W0(i,e,o,n),r.closePath(),r.stroke(),r.restore())}function fA(i,t,e){return Te(i,{label:e,index:t,type:"pointLabel"})}var nn=class extends Jn{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=yt(Nu(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!1);this.min=mt(t)&&!isNaN(t)?t:0,this.max=mt(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Nu(this.options))}generateTickLabels(t){Jn.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,n)=>{let s=tt(this.options.pointLabels.callback,[e,n],this);return s||s===0?s:""}).filter((e,n)=>this.chart.getDataVisibility(n))}fit(){let t=this.options;t.display&&t.pointLabels.display?eA(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,s){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,s))}getIndexAngle(t){let e=rt/(this._pointLabels.length||1),n=this.options.startAngle||0;return Dt(t*e+Jt(n))}getDistanceFromCenterForValue(t){if(Z(t))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Z(t))return NaN;let e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){let e=this._pointLabels||[];if(t>=0&&t<e.length){let n=e[t];return fA(this.getContext(),t,n)}}getPointPosition(t,e,n=0){let s=this.getIndexAngle(t)-dt+n;return{x:Math.cos(s)*e+this.xCenter,y:Math.sin(s)*e+this.yCenter,angle:s}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:e,top:n,right:s,bottom:r}=this._pointLabelItems[t];return{left:e,top:n,right:s,bottom:r}}drawBackground(){let{backgroundColor:t,grid:{circular:e}}=this.options;if(t){let n=this.ctx;n.save(),n.beginPath(),W0(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){let t=this.ctx,e=this.options,{angleLines:n,grid:s,border:r}=e,o=this._pointLabels.length,a,l,c;if(e.pointLabels.display&&hA(this,o),s.display&&this.ticks.forEach((h,u)=>{if(u!==0){l=this.getDistanceFromCenterForValue(h.value);let f=this.getContext(u),d=s.setContext(f),m=r.setContext(f);uA(this,d,l,o,m)}}),n.display){for(t.save(),a=o-1;a>=0;a--){let h=n.setContext(this.getPointLabelContext(a)),{color:u,lineWidth:f}=h;!f||!u||(t.lineWidth=f,t.strokeStyle=u,t.setLineDash(h.borderDash),t.lineDashOffset=h.borderDashOffset,l=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;let s=this.getIndexAngle(0),r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!e.reverse)return;let c=n.setContext(this.getContext(l)),h=_t(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=h.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;let u=yt(c.backdropPadding);t.fillRect(-o/2-u.left,-r-h.size/2-u.top,o+u.width,h.size+u.height)}Ze(t,a.label,0,-r,h,{color:c.color})}),t.restore()}drawTitle(){}};F(nn,"id","radialLinear"),F(nn,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:lr.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),F(nn,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),F(nn,"descriptors",{angleLines:{_fallback:"grid"}});var Ha={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ut=Object.keys(Ha);function dA(i,t){return i-t}function S0(i,t){if(Z(t))return null;let e=i._adapter,{parser:n,round:s,isoWeekday:r}=i._parseOpts,o=t;return typeof n=="function"&&(o=n(o)),mt(o)||(o=typeof n=="string"?e.parse(o,n):e.parse(o)),o===null?null:(s&&(o=s==="week"&&(wi(r)||r===!0)?e.startOf(o,"isoWeek",r):e.startOf(o,s)),+o)}function v0(i,t,e,n){let s=Ut.length;for(let r=Ut.indexOf(i);r<s-1;++r){let o=Ha[Ut[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(a*o.size))<=n)return Ut[r]}return Ut[s-1]}function mA(i,t,e,n,s){for(let r=Ut.length-1;r>=Ut.indexOf(e);r--){let o=Ut[r];if(Ha[o].common&&i._adapter.diff(s,n,o)>=t-1)return o}return Ut[e?Ut.indexOf(e):0]}function pA(i){for(let t=Ut.indexOf(i)+1,e=Ut.length;t<e;++t)if(Ha[Ut[t]].common)return Ut[t]}function w0(i,t,e){if(!e)i[t]=!0;else if(e.length){let{lo:n,hi:s}=or(e,t),r=e[n]>=t?e[n]:e[s];i[r]=!0}}function _A(i,t,e,n){let s=i._adapter,r=+s.startOf(t[0].value,n),o=t[t.length-1].value,a,l;for(a=r;a<=o;a=+s.add(a,1,n))l=e[a],l>=0&&(t[l].major=!0);return t}function k0(i,t,e){let n=[],s={},r=t.length,o,a;for(o=0;o<r;++o)a=t[o],s[a]=o,n.push({value:a,major:!1});return r===0||!e?n:_A(i,n,s,e)}var rn=class extends ti{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){let n=t.time||(t.time={}),s=this._adapter=new T6._date(t.adapters.date);s.init(e),qi(n.displayFormats,s.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:S0(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,e=this._adapter,n=t.time.unit||"day",{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=mt(s)&&!isNaN(s)?s:+e.startOf(Date.now(),n),r=mt(r)&&!isNaN(r)?r:+e.endOf(Date.now(),n)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){let t=this.getLabelTimestamps(),e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){let t=this.options,e=t.time,n=t.ticks,s=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);let r=this.min,o=this.max,a=eu(s,r,o);return this._unit=e.unit||(n.autoSkip?v0(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):mA(this,a.length,e.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:pA(this._unit),this.initOffsets(s),t.reverse&&a.reverse(),k0(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,n=0,s,r;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?e=1-s:e=(this.getDecimalForValue(t[1])-s)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?n=r:n=(r-this.getDecimalForValue(t[t.length-2]))/2);let o=t.length<3?.5:.25;e=bt(e,0,o),n=bt(n,0,o),this._offsets={start:e,end:n,factor:1/(e+1+n)}}_generate(){let t=this._adapter,e=this.min,n=this.max,s=this.options,r=s.time,o=r.unit||v0(r.minUnit,e,n,this._getLabelCapacity(e)),a=V(s.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=wi(l)||l===!0,h={},u=e,f,d;if(c&&(u=+t.startOf(u,"isoWeek",l)),u=+t.startOf(u,c?"day":o),t.diff(n,e,o)>1e5*a)throw new Error(e+" and "+n+" are too far apart with stepSize of "+a+" "+o);let m=s.ticks.source==="data"&&this.getDataTimestamps();for(f=u,d=0;f<n;f=+t.add(f,a,o),d++)w0(h,f,m);return(f===n||s.bounds==="ticks"||d===1)&&w0(h,f,m),Object.keys(h).sort((_,p)=>_-p).map(_=>+_)}getLabelForValue(t){let e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){let s=this.options.time.displayFormats,r=this._unit,o=e||s[r];return this._adapter.format(t,o)}_tickFormatFunction(t,e,n,s){let r=this.options,o=r.ticks.callback;if(o)return tt(o,[t,e,n],this);let a=r.time.displayFormats,l=this._unit,c=this._majorUnit,h=l&&a[l],u=c&&a[c],f=n[e],d=c&&u&&f&&f.major;return this._adapter.format(t,s||(d?u:h))}generateTickLabels(t){let e,n,s;for(e=0,n=t.length;e<n;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){let e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){let e=this.options.ticks,n=this.ctx.measureText(t).width,s=Jt(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:n*r+a*o,h:n*o+a*r}}_getLabelCapacity(t){let e=this.options.time,n=e.displayFormats,s=n[e.unit]||n.millisecond,r=this._tickFormatFunction(t,0,k0(this,[t],this._majorUnit),s),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],e,n;if(t.length)return t;let s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(e=0,n=s.length;e<n;++e)t=t.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t=this._cache.labels||[],e,n;if(t.length)return t;let s=this.getLabels();for(e=0,n=s.length;e<n;++e)t.push(S0(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return ca(t.sort(dA))}};F(rn,"id","time"),F(rn,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ia(i,t,e){let n=0,s=i.length-1,r,o,a,l;e?(t>=i[n].pos&&t<=i[s].pos&&({lo:n,hi:s}=ue(i,"pos",t)),{pos:r,time:a}=i[n],{pos:o,time:l}=i[s]):(t>=i[n].time&&t<=i[s].time&&({lo:n,hi:s}=ue(i,"time",t)),{time:r,pos:a}=i[n],{time:o,pos:l}=i[s]);let c=o-r;return c?a+(l-a)*(t-r)/c:a}var wr=class extends rn{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Ia(e,this.min),this._tableRange=Ia(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:e,max:n}=this,s=[],r=[],o,a,l,c,h;for(o=0,a=t.length;o<a;++o)c=t[o],c>=e&&c<=n&&s.push(c);if(s.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(o=0,a=s.length;o<a;++o)h=s[o+1],l=s[o-1],c=s[o],Math.round((h+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let e=this.getDataTimestamps(),n=this.getLabelTimestamps();return e.length&&n.length?t=this.normalize(e.concat(n)):t=e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(Ia(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return Ia(this._table,n*this._tableRange+this._minPos,!0)}};F(wr,"id","timeseries"),F(wr,"defaults",rn.defaults);var gA=Object.freeze({__proto__:null,CategoryScale:$r,LinearScale:Sr,LogarithmicScale:vr,RadialLinearScale:nn,TimeScale:rn,TimeSeriesScale:wr}),Wa=[M6,QT,ZO,gA];var Y0={pink:["hsl(327,73%,97%)","hsl(326,78%,95%)","hsl(326,85%,90%)","hsl(327,87%,82%)","hsl(329,86%,70%)","hsl(330,81%,60%)","hsl(333,71%,51%)","hsl(335,78%,42%)","hsl(336,74%,35%)","hsl(336,69%,30%)"],purple:["hsl(270,100%,98%)","hsl(269,100%,95%)","hsl(269,100%,92%)","hsl(269,97%,85%)","hsl(270,95%,75%)","hsl(271,91%,65%)","hsl(271,81%,56%)","hsl(272,72%,47%)","hsl(273,67%,39%)","hsl(274,66%,32%)"],red:["hsl(0,86%,97%)","hsl(0,93%,94%)","hsl(0,96%,89%)","hsl(0,94%,82%)","hsl(0,91%,71%)","hsl(0,84%,60%)","hsl(0,72%,51%)","hsl(0,74%,42%)","hsl(0,70%,35%)","hsl(0,63%,31%)"],blue:["hsl(214,100%,97%)","hsl(214,95%,93%)","hsl(213,97%,87%)","hsl(212,96%,78%)","hsl(213,94%,68%)","hsl(217,91%,60%)","hsl(221,83%,53%)","hsl(224,76%,48%)","hsl(226,71%,40%)","hsl(224,64%,33%)"],yellow:["hsl(55,92%,95%)","hsl(55,97%,88%)","hsl(53,98%,77%)","hsl(50,98%,64%)","hsl(48,96%,53%)","hsl(45,93%,47%)","hsl(41,96%,40%)","hsl(35,92%,33%)","hsl(32,81%,29%)","hsl(28,73%,26%)"],green:["hsl(138,76%,97%)","hsl(141,84%,93%)","hsl(141,79%,85%)","hsl(142,77%,73%)","hsl(142,69%,58%)","hsl(142,71%,45%)","hsl(142,76%,36%)","hsl(142,72%,29%)","hsl(143,64%,24%)","hsl(144,61%,20%)"],emerald:["hsl(152,81%,96%)","hsl(149,80%,90%)","hsl(152,76%,80%)","hsl(156,72%,67%)","hsl(158,64%,52%)","hsl(160,84%,39%)","hsl(161,94%,30%)","hsl(163,94%,24%)","hsl(163,88%,20%)","hsl(164,86%,16%)"],cyan:["hsl(183,100%,96%)","hsl(185,96%,90%)","hsl(186,94%,82%)","hsl(187,92%,69%)","hsl(188,86%,53%)","hsl(189,94%,43%)","hsl(192,91%,36%)","hsl(193,82%,31%)","hsl(194,70%,27%)","hsl(196,64%,24%)"],indigo:["hsl(226,100%,97%)","hsl(226,100%,94%)","hsl(228,96%,89%)","hsl(230,94%,82%)","hsl(234,89%,74%)","hsl(239,84%,67%)","hsl(243,75%,59%)","hsl(245,58%,51%)","hsl(244,55%,41%)","hsl(242,47%,34%)"],fuchsia:["hsl(289,100%,98%)","hsl(287,100%,95%)","hsl(288,96%,91%)","hsl(291,93%,83%)","hsl(292,91%,73%)","hsl(292,84%,61%)","hsl(293,69%,49%)","hsl(295,72%,40%)","hsl(295,70%,33%)","hsl(297,64%,28%)"],warm:["hsl(0,0%,98%)","hsl(0,0%,96%)","hsl(0,0%,90%)","hsl(0,0%,83%)","hsl(0,0%,64%)","hsl(0,0%,45%)","hsl(0,0%,32%)","hsl(0,0%,25%)","hsl(0,0%,15%)","hsl(0,0%,9%)"],sky:["hsl(204,100%,97%)","hsl(204,94%,94%)","hsl(201,94%,86%)","hsl(199,95%,74%)","hsl(198,93%,60%)","hsl(199,89%,48%)","hsl(200,98%,39%)","hsl(201,96%,32%)","hsl(201,90%,27%)","hsl(202,80%,24%)"]};function At(i){let t=i.substring(0,i.length-1),e=i.substring(i.length-1);return Y0[t]&&e>=0&&e<=9?Y0[t][e]:(console.log("invalid color",i,t,e),"rgb(255, 255, 255)")}/*!
 * Chart.js v4.3.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 *//*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var Z0=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var i=window.screen;if(i)return(i.deviceXDPI||1)/(i.logicalXDPI||1)}return 1}(),Rr={toTextLines:function(i){var t=[],e;for(i=[].concat(i);i.length;)e=i.pop(),typeof e=="string"?t.unshift.apply(t,e.split(`
`)):Array.isArray(e)?i.push.apply(i,e):Z(i)||t.unshift(""+e);return t},textSize:function(i,t,e){var n=[].concat(t),s=n.length,r=i.font,o=0,a;for(i.font=e.string,a=0;a<s;++a)o=Math.max(i.measureText(n[a]).width,o);return i.font=r,{height:s*e.lineHeight,width:o}},bound:function(i,t,e){return Math.max(i,Math.min(t,e))},arrayDiff:function(i,t){var e=i.slice(),n=[],s,r,o,a;for(s=0,o=t.length;s<o;++s)a=t[s],r=e.indexOf(a),r===-1?n.push([a,1]):e.splice(r,1);for(s=0,o=e.length;s<o;++s)n.push([e[s],-1]);return n},rasterize:function(i){return Math.round(i*Z0)/Z0}};function Bu(i,t){var e=t.x,n=t.y;if(e===null)return{x:0,y:-1};if(n===null)return{x:1,y:0};var s=i.x-e,r=i.y-n,o=Math.sqrt(s*s+r*r);return{x:o?s/o:0,y:o?r/o:-1}}function bA(i,t,e,n,s){switch(s){case"center":e=n=0;break;case"bottom":e=0,n=1;break;case"right":e=1,n=0;break;case"left":e=-1,n=0;break;case"top":e=0,n=-1;break;case"start":e=-e,n=-n;break;case"end":break;default:s*=Math.PI/180,e=Math.cos(s),n=Math.sin(s);break}return{x:i,y:t,vx:e,vy:n}}var yA=0,X0=1,K0=2,G0=4,J0=8;function Ya(i,t,e){var n=yA;return i<e.left?n|=X0:i>e.right&&(n|=K0),t<e.top?n|=J0:t>e.bottom&&(n|=G0),n}function xA(i,t){for(var e=i.x0,n=i.y0,s=i.x1,r=i.y1,o=Ya(e,n,t),a=Ya(s,r,t),l,c,h;!(!(o|a)||o&a);)l=o||a,l&J0?(c=e+(s-e)*(t.top-n)/(r-n),h=t.top):l&G0?(c=e+(s-e)*(t.bottom-n)/(r-n),h=t.bottom):l&K0?(h=n+(r-n)*(t.right-e)/(s-e),c=t.right):l&X0&&(h=n+(r-n)*(t.left-e)/(s-e),c=t.left),l===o?(e=c,n=h,o=Ya(e,n,t)):(s=c,r=h,a=Ya(s,r,t));return{x0:e,x1:s,y0:n,y1:r}}function Za(i,t){var e=t.anchor,n=i,s,r;return t.clamp&&(n=xA(n,t.area)),e==="start"?(s=n.x0,r=n.y0):e==="end"?(s=n.x1,r=n.y1):(s=(n.x0+n.x1)/2,r=(n.y0+n.y1)/2),bA(s,r,i.vx,i.vy,t.align)}var qa={arc:function(i,t){var e=(i.startAngle+i.endAngle)/2,n=Math.cos(e),s=Math.sin(e),r=i.innerRadius,o=i.outerRadius;return Za({x0:i.x+n*r,y0:i.y+s*r,x1:i.x+n*o,y1:i.y+s*o,vx:n,vy:s},t)},point:function(i,t){var e=Bu(i,t.origin),n=e.x*i.options.radius,s=e.y*i.options.radius;return Za({x0:i.x-n,y0:i.y-s,x1:i.x+n,y1:i.y+s,vx:e.x,vy:e.y},t)},bar:function(i,t){var e=Bu(i,t.origin),n=i.x,s=i.y,r=0,o=0;return i.horizontal?(n=Math.min(i.x,i.base),r=Math.abs(i.base-i.x)):(s=Math.min(i.y,i.base),o=Math.abs(i.base-i.y)),Za({x0:n,y0:s+o,x1:n+r,y1:s,vx:e.x,vy:e.y},t)},fallback:function(i,t){var e=Bu(i,t.origin);return Za({x0:i.x,y0:i.y,x1:i.x+(i.width||0),y1:i.y+(i.height||0),vx:e.x,vy:e.y},t)}},ei=Rr.rasterize;function $A(i){var t=i.borderWidth||0,e=i.padding,n=i.size.height,s=i.size.width,r=-s/2,o=-n/2;return{frame:{x:r-e.left-t,y:o-e.top-t,w:s+e.width+t*2,h:n+e.height+t*2},text:{x:r,y:o,w:s,h:n}}}function SA(i,t){var e=t.chart.getDatasetMeta(t.datasetIndex).vScale;if(!e)return null;if(e.xCenter!==void 0&&e.yCenter!==void 0)return{x:e.xCenter,y:e.yCenter};var n=e.getBasePixel();return i.horizontal?{x:n,y:null}:{x:null,y:n}}function vA(i){return i instanceof Qe?qa.arc:i instanceof Ei?qa.point:i instanceof Mi?qa.bar:qa.fallback}function wA(i,t,e,n,s,r){var o=Math.PI/2;if(r){var a=Math.min(r,s/2,n/2),l=t+a,c=e+a,h=t+n-a,u=e+s-a;i.moveTo(t,c),l<h&&c<u?(i.arc(l,c,a,-Math.PI,-o),i.arc(h,c,a,-o,0),i.arc(h,u,a,0,o),i.arc(l,u,a,o,Math.PI)):l<h?(i.moveTo(l,e),i.arc(h,c,a,-o,o),i.arc(l,c,a,o,Math.PI+o)):c<u?(i.arc(l,c,a,-Math.PI,0),i.arc(l,u,a,0,Math.PI)):i.arc(l,c,a,-Math.PI,Math.PI),i.closePath(),i.moveTo(t,e)}else i.rect(t,e,n,s)}function kA(i,t,e){var n=e.backgroundColor,s=e.borderColor,r=e.borderWidth;!n&&(!s||!r)||(i.beginPath(),wA(i,ei(t.x)+r/2,ei(t.y)+r/2,ei(t.w)-r,ei(t.h)-r,e.borderRadius),i.closePath(),n&&(i.fillStyle=n,i.fill()),s&&r&&(i.strokeStyle=s,i.lineWidth=r,i.lineJoin="miter",i.stroke()))}function CA(i,t,e){var n=e.lineHeight,s=i.w,r=i.x,o=i.y+n/2;return t==="center"?r+=s/2:(t==="end"||t==="right")&&(r+=s),{h:n,w:s,x:r,y:o}}function EA(i,t,e){var n=i.shadowBlur,s=e.stroked,r=ei(e.x),o=ei(e.y),a=ei(e.w);s&&i.strokeText(t,r,o,a),e.filled&&(n&&s&&(i.shadowBlur=0),i.fillText(t,r,o,a),n&&s&&(i.shadowBlur=n))}function MA(i,t,e,n){var s=n.textAlign,r=n.color,o=!!r,a=n.font,l=t.length,c=n.textStrokeColor,h=n.textStrokeWidth,u=c&&h,f;if(!(!l||!o&&!u))for(e=CA(e,s,a),i.font=a.string,i.textAlign=s,i.textBaseline="middle",i.shadowBlur=n.textShadowBlur,i.shadowColor=n.textShadowColor,o&&(i.fillStyle=r),u&&(i.lineJoin="round",i.lineWidth=h,i.strokeStyle=c),f=0,l=t.length;f<l;++f)EA(i,t[f],{stroked:u,filled:o,w:e.w,x:e.x,y:e.y+e.h*f})}var Q0=function(i,t,e,n){var s=this;s._config=i,s._index=n,s._model=null,s._rects=null,s._ctx=t,s._el=e};Gt(Q0.prototype,{_modelize:function(i,t,e,n){var s=this,r=s._index,o=_t(it([e.font,{}],n,r)),a=it([e.color,ut.color],n,r);return{align:it([e.align,"center"],n,r),anchor:it([e.anchor,"center"],n,r),area:n.chart.chartArea,backgroundColor:it([e.backgroundColor,null],n,r),borderColor:it([e.borderColor,null],n,r),borderRadius:it([e.borderRadius,0],n,r),borderWidth:it([e.borderWidth,0],n,r),clamp:it([e.clamp,!1],n,r),clip:it([e.clip,!1],n,r),color:a,display:i,font:o,lines:t,offset:it([e.offset,4],n,r),opacity:it([e.opacity,1],n,r),origin:SA(s._el,n),padding:yt(it([e.padding,4],n,r)),positioner:vA(s._el),rotation:it([e.rotation,0],n,r)*(Math.PI/180),size:Rr.textSize(s._ctx,t,o),textAlign:it([e.textAlign,"start"],n,r),textShadowBlur:it([e.textShadowBlur,0],n,r),textShadowColor:it([e.textShadowColor,a],n,r),textStrokeColor:it([e.textStrokeColor,a],n,r),textStrokeWidth:it([e.textStrokeWidth,0],n,r)}},update:function(i){var t=this,e=null,n=null,s=t._index,r=t._config,o,a,l,c=it([r.display,!0],i,s);c&&(o=i.dataset.data[s],a=V(tt(r.formatter,[o,i]),o),l=Z(a)?[]:Rr.toTextLines(a),l.length&&(e=t._modelize(c,l,r,i),n=$A(e))),t._model=e,t._rects=n},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(i,t){var e=this,n=i.ctx,s=e._model,r=e._rects,o;!this.visible()||(n.save(),s.clip&&(o=s.area,n.beginPath(),n.rect(o.left,o.top,o.right-o.left,o.bottom-o.top),n.clip()),n.globalAlpha=Rr.bound(0,s.opacity,1),n.translate(ei(t.x),ei(t.y)),n.rotate(s.rotation),kA(n,r.frame,s),MA(n,s.lines,r.text,s),n.restore())}});var TA=Number.MIN_SAFE_INTEGER||-9007199254740991,OA=Number.MAX_SAFE_INTEGER||9007199254740991;function Ar(i,t,e){var n=Math.cos(e),s=Math.sin(e),r=t.x,o=t.y;return{x:r+n*(i.x-r)-s*(i.y-o),y:o+s*(i.x-r)+n*(i.y-o)}}function q0(i,t){var e=OA,n=TA,s=t.origin,r,o,a,l,c;for(r=0;r<i.length;++r)o=i[r],a=o.x-s.x,l=o.y-s.y,c=t.vx*a+t.vy*l,e=Math.min(e,c),n=Math.max(n,c);return{min:e,max:n}}function Xa(i,t){var e=t.x-i.x,n=t.y-i.y,s=Math.sqrt(e*e+n*n);return{vx:(t.x-i.x)/s,vy:(t.y-i.y)/s,origin:i,ln:s}}var ty=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};Gt(ty.prototype,{center:function(){var i=this._rect;return{x:i.x+i.w/2,y:i.y+i.h/2}},update:function(i,t,e){this._rotation=e,this._rect={x:t.x+i.x,y:t.y+i.y,w:t.w,h:t.h}},contains:function(i){var t=this,e=1,n=t._rect;return i=Ar(i,t.center(),-t._rotation),!(i.x<n.x-e||i.y<n.y-e||i.x>n.x+n.w+e*2||i.y>n.y+n.h+e*2)},intersects:function(i){var t=this._points(),e=i._points(),n=[Xa(t[0],t[1]),Xa(t[0],t[3])],s,r,o;for(this._rotation!==i._rotation&&n.push(Xa(e[0],e[1]),Xa(e[0],e[3])),s=0;s<n.length;++s)if(r=q0(t,n[s]),o=q0(e,n[s]),r.max<o.min||o.max<r.min)return!1;return!0},_points:function(){var i=this,t=i._rect,e=i._rotation,n=i.center();return[Ar({x:t.x,y:t.y},n,e),Ar({x:t.x+t.w,y:t.y},n,e),Ar({x:t.x+t.w,y:t.y+t.h},n,e),Ar({x:t.x,y:t.y+t.h},n,e)]}});function ey(i,t,e){var n=t.positioner(i,t),s=n.vx,r=n.vy;if(!s&&!r)return{x:n.x,y:n.y};var o=e.w,a=e.h,l=t.rotation,c=Math.abs(o/2*Math.cos(l))+Math.abs(a/2*Math.sin(l)),h=Math.abs(o/2*Math.sin(l))+Math.abs(a/2*Math.cos(l)),u=1/Math.max(Math.abs(s),Math.abs(r));return c*=s*u,h*=r*u,c+=t.offset*s,h+=t.offset*r,{x:n.x+c,y:n.y+h}}function AA(i,t){var e,n,s,r;for(e=i.length-1;e>=0;--e)for(s=i[e].$layout,n=e-1;n>=0&&s._visible;--n)r=i[n].$layout,r._visible&&s._box.intersects(r._box)&&t(s,r);return i}function RA(i){var t,e,n,s,r,o,a;for(t=0,e=i.length;t<e;++t)n=i[t],s=n.$layout,s._visible&&(a=new Proxy(n._el,{get:(l,c)=>l.getProps([c],!0)[c]}),r=n.geometry(),o=ey(a,n.model(),r),s._box.update(o,r,n.rotation()));return AA(i,function(l,c){var h=l._hidable,u=c._hidable;h&&u||u?c._visible=!1:h&&(l._visible=!1)})}var Dr={prepare:function(i){var t=[],e,n,s,r,o;for(e=0,s=i.length;e<s;++e)for(n=0,r=i[e].length;n<r;++n)o=i[e][n],t.push(o),o.$layout={_box:new ty,_hidable:!1,_visible:!0,_set:e,_idx:o._index};return t.sort(function(a,l){var c=a.$layout,h=l.$layout;return c._idx===h._idx?h._set-c._set:h._idx-c._idx}),this.update(t),t},update:function(i){var t=!1,e,n,s,r,o;for(e=0,n=i.length;e<n;++e)s=i[e],r=s.model(),o=s.$layout,o._hidable=r&&r.display==="auto",o._visible=s.visible(),t|=o._hidable;t&&RA(i)},lookup:function(i,t){var e,n;for(e=i.length-1;e>=0;--e)if(n=i[e].$layout,n&&n._visible&&n._box.contains(t))return i[e];return null},draw:function(i,t){var e,n,s,r,o,a;for(e=0,n=t.length;e<n;++e)s=t[e],r=s.$layout,r._visible&&(o=s.geometry(),a=ey(s._el,s.model(),o),r._box.update(a,o,s.rotation()),s.draw(i,a))}},DA=function(i){if(Z(i))return null;var t=i,e,n,s;if(q(i))if(!Z(i.label))t=i.label;else if(!Z(i.r))t=i.r;else for(t="",e=Object.keys(i),s=0,n=e.length;s<n;++s)t+=(s!==0?", ":"")+e[s]+": "+i[e[s]];return""+t},PA={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:DA,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},Vt="$datalabels",iy="$default";function IA(i,t){var e=i.datalabels,n={},s=[],r,o;return e===!1?null:(e===!0&&(e={}),t=Gt({},[t,e]),r=t.labels||{},o=Object.keys(r),delete t.labels,o.length?o.forEach(function(a){r[a]&&s.push(Gt({},[t,r[a],{_key:a}]))}):s.push(t),n=s.reduce(function(a,l){return G(l.listeners||{},function(c,h){a[h]=a[h]||{},a[h][l._key||iy]=c}),delete l.listeners,a},{}),{labels:s,listeners:n})}function ju(i,t,e,n){if(!!t){var s=e.$context,r=e.$groups,o;!t[r._set]||(o=t[r._set][r._key],!!o&&tt(o,[s,n])===!0&&(i[Vt]._dirty=!0,e.update(s)))}}function FA(i,t,e,n,s){var r,o;!e&&!n||(e?n?e!==n&&(o=r=!0):o=!0:r=!0,o&&ju(i,t.leave,e,s),r&&ju(i,t.enter,n,s))}function LA(i,t){var e=i[Vt],n=e._listeners,s,r;if(!(!n.enter&&!n.leave)){if(t.type==="mousemove")r=Dr.lookup(e._labels,t);else if(t.type!=="mouseout")return;s=e._hovered,e._hovered=r,FA(i,n,s,r,t)}}function NA(i,t){var e=i[Vt],n=e._listeners.click,s=n&&Dr.lookup(e._labels,t);s&&ju(i,n,s,t)}var Ka={id:"datalabels",defaults:PA,beforeInit:function(i){i[Vt]={_actives:[]}},beforeUpdate:function(i){var t=i[Vt];t._listened=!1,t._listeners={},t._datasets=[],t._labels=[]},afterDatasetUpdate:function(i,t,e){var n=t.index,s=i[Vt],r=s._datasets[n]=[],o=i.isDatasetVisible(n),a=i.data.datasets[n],l=IA(a,e),c=t.meta.data||[],h=i.ctx,u,f,d,m,_,p,g,y;for(h.save(),u=0,d=c.length;u<d;++u)if(g=c[u],g[Vt]=[],o&&g&&i.getDataVisibility(u)&&!g.skip)for(f=0,m=l.labels.length;f<m;++f)_=l.labels[f],p=_._key,y=new Q0(_,h,g,u),y.$groups={_set:n,_key:p||iy},y.$context={active:!1,chart:i,dataIndex:u,dataset:a,datasetIndex:n},y.update(y.$context),g[Vt].push(y),r.push(y);h.restore(),Gt(s._listeners,l.listeners,{merger:function(x,b,$){b[x]=b[x]||{},b[x][t.index]=$[x],s._listened=!0}})},afterUpdate:function(i){i[Vt]._labels=Dr.prepare(i[Vt]._datasets)},afterDatasetsDraw:function(i){Dr.draw(i,i[Vt]._labels)},beforeEvent:function(i,t){if(i[Vt]._listened){var e=t.event;switch(e.type){case"mousemove":case"mouseout":LA(i,e);break;case"click":NA(i,e);break}}},afterEvent:function(i){var t=i[Vt],e=t._actives,n=t._actives=i.getActiveElements(),s=Rr.arrayDiff(e,n),r,o,a,l,c,h,u;for(r=0,o=s.length;r<o;++r)if(c=s[r],c[1])for(u=c[0].element[Vt]||[],a=0,l=u.length;a<l;++a)h=u[a],h.$context.active=c[1]===1,h.update(h.$context);(t._dirty||s.length)&&(Dr.update(t._labels),i.render()),delete t._dirty}};function zA(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}Nt(),Tt();var ny=Symbol.for("#__init__"),BA=Symbol.for("#__patch__"),jA=Symbol.for("#beforeReconcile"),sy=Symbol.for("##up"),Uu=Symbol.for("#placeChild"),UA=Symbol.for("#afterReconcile"),ry=Symbol(),oy=Symbol();var Vu=Symbol();var Hu=Symbol(),ay=Symbol(),ly=Symbol();var Wu=Symbol();var Yu=Symbol(),cy=Symbol(),hy=Symbol(),uy=Symbol();var Zu=Symbol();var qu=Symbol(),fy=Symbol(),dy=Symbol(),my=Symbol();var Xu=Symbol();var Ku=Symbol(),py=Symbol(),_y=Symbol(),gy=Symbol();var Gu=Symbol();var Ju=Symbol();var Qu=Symbol(),by=Symbol(),yy=Symbol(),xy=Symbol(),$y=Symbol(),Sy=Symbol(),vy=Symbol(),wy=Symbol(),ky=Symbol(),Cy=Symbol();var VA="◩",HA="◧";var tf=class extends B{[BA](t={}){var e;(e=t.element)!==void 0&&(this.element=e),(e=t.segment_keys)!==void 0&&(this.segment_keys=e),(e=t.current_index)!==void 0&&(this.current_index=e),(e=t.titles)!==void 0&&(this.titles=e),(e=t.clicks)!==void 0&&(this.clicks=e)}[ny](t=null,e=!0){var n;super[ny](...arguments),this.element=t?t.element:void 0,this.segment_keys=t?t.segment_keys:void 0,this.current_index=t?t.current_index:void 0,this.titles=t&&(n=t.titles)!==void 0?n:[],this.clicks=t&&(n=t.clicks)!==void 0?n:[]}new_instance_data(t,e){var n=this;function s(){return n.element.set_instance_data("segment",n.segment_keys[0][t[0]+e[0]]+n.segment_keys[1][t[1]+e[1]])}return s}getindexes(){let t="",e="";return this.element.instancedata.segment?(t=Math.max(this.segment_keys[0].indexOf(this.element.instancedata.segment.substring(0,1)),0),t&&this.element.instancedata.segment.length>1?e=this.segment_keys[1].indexOf(this.element.instancedata.segment.substring(1)):t?e=0:e=this.segment_keys[1].indexOf(this.element.instancedata.segment),[t,e]):[0,0]}render(){var t=this,e,n,s,r,o=this._ns_||"",a,l,c,h,u,f,d,m,_,p,g,y,x,b,$,w,v,S,E,C,M,O,D,I,A,P,L,z,N,W,ot,J;this.segment_keys||(this.segment_keys=this.element.element_def.segment_keys||R.user.userdata.globals.segment_keys),this.current_index=this.getindexes(),this.clicks=[null,null,null,null],this.titles=[null,null,null,null],this.colors=[!1,!1,!1,!1];let X=!0,et=!1;this.current_index[0]>0&&(this.clicks[0]=this.new_instance_data(this.current_index,[-1,0]),this.titles[0]=this.segment_keys[0][this.current_index[0]-1]||"All",this.colors[0]=!0),this.current_index[1]<this.segment_keys[1].length-1&&(this.clicks[1]=this.new_instance_data(this.current_index,[0,1]),this.titles[1]=this.segment_keys[1][this.current_index[0]+1]||"All",this.colors[1]=!0),this.current_index[0]<this.segment_keys[0].length-1&&(this.clicks[2]=this.new_instance_data(this.current_index,[1,0]),this.titles[2]=this.segment_keys[0][this.current_index[1]+1]||"All",this.colors[2]=!0),this.current_index[1]>0&&(this.clicks[3]=this.new_instance_data(this.current_index,[0,-1]),this.titles[3]=this.segment_keys[1][this.current_index[1]+1]||"All",this.colors[3]=!0);let at,Y=!0,ht=!1;return!this.element.order||this.element.order=="N"?at="C":at="N",n=this,n[jA](),s=r=1,n[ry]===1||(s=r=0,n[ry]=1),s||(a=k("div",n,`ic-scroll-button ${o}`,null)),s||(l=k("div",a,`${o}`,null)),h=u=1,(c=n[oy])||(h=u=0,n[oy]=c=k("div",l,`trapez ${o}`,null)),f=Y||void 0,f===n[Vu]||(u|=2,n[Vu]=f),f=this.colors[0]||void 0,f===n[Hu]||(u|=2,n[Hu]=f),h||c.on$("click",{$_:[function(nt,lt){return t.clicks[0](nt)}]},this),f=this.titles[0],f===n[ay]||(c.title=n[ay]=f),u&2&&c.flag$(`trapez ${o} `+(n[Vu]?"top":"")+" "+(n[Hu]?"hcs":"")),m=_=1,(d=n[ly])||(m=_=0,n[ly]=d=k("div",l,`trapez ${o}`,null)),p=Y||void 0,p===n[Wu]||(_|=2,n[Wu]=p),p=this.colors[1]||void 0,p===n[Yu]||(_|=2,n[Yu]=p),g=n[cy]||(n[cy]={$_:[function(nt,lt,$t){return t.clicks[1](nt)},null]}),g.$_[1]=t,m||d.on$("click",g,this),p=this.titles[1],p===n[hy]||(d.title=n[hy]=p),_&2&&d.flag$(`trapez ${o} `+(n[Wu]?"right":"")+" "+(n[Yu]?"vcs":"")),x=b=1,(y=n[uy])||(x=b=0,n[uy]=y=k("div",l,`trapez ${o}`,null)),$=Y||void 0,$===n[Zu]||(b|=2,n[Zu]=$),$=this.colors[2]||void 0,$===n[qu]||(b|=2,n[qu]=$),w=n[fy]||(n[fy]={$_:[function(nt,lt,$t){return t.clicks[2](nt)},null]}),w.$_[1]=t,x||y.on$("click",w,this),$=this.titles[2],$===n[dy]||(y.title=n[dy]=$),b&2&&y.flag$(`trapez ${o} `+(n[Zu]?"bot":"")+" "+(n[qu]?"hcs":"")),S=E=1,(v=n[my])||(S=E=0,n[my]=v=k("div",l,`trapez ${o}`,null)),C=Y||void 0,C===n[Xu]||(E|=2,n[Xu]=C),C=this.colors[3]||void 0,C===n[Ku]||(E|=2,n[Ku]=C),M=n[py]||(n[py]={$_:[function(nt,lt,$t){return t.clicks[3](nt)},null]}),M.$_[1]=t,S||v.on$("click",M,this),C=this.titles[3],C===n[_y]||(v.title=n[_y]=C),E&2&&v.flag$(`trapez ${o} `+(n[Xu]?"left":"")+" "+(n[Ku]?"vcs":"")),D=I=1,(O=n[gy])||(D=I=0,n[gy]=O=k("span",a,`ec-an symbol ${o}`,null)),A=Y||void 0,A===n[Gu]||(I|=2,n[Gu]=A),A=Y||void 0,A===n[Ju]||(I|=2,n[Ju]=A),A=Y||void 0,A===n[Qu]||(I|=2,n[Qu]=A),P=n[by]||(n[by]={$_:[function(nt,lt,$t){return t.element.flip_order(nt)},null]}),P.$_[1]=t,D||O.on$("click",P,this),A=this.title="order",A===n[yy]||(O.title=n[yy]=A),I&2&&O.flag$(`ec-an symbol ${o} `+(n[Gu]?"t1":"")+" "+(n[Ju]?"l1":"")+" "+(n[Qu]?"oc":"")),e=null,at=="C"?(L=z=1,(e=n[xy])||(L=z=0,n[xy]=e=k("a",null,`ec-ao ${o}`,null)),L||(e[sy]=O),N=VA,N===e[Sy]&&L||(e[$y]=e[Uu](e[Sy]=N,384,e[$y]))):(W=ot=1,(e=n[vy])||(W=ot=0,n[vy]=e=k("a",null,`ec-ap ${o}`,null)),W||(e[sy]=O),J=HA,J===e[ky]&&W||(e[wy]=e[Uu](e[ky]=J,384,e[wy]))),n[Cy]=O[Uu](e,0,n[Cy]),n[UA](r),n}},Qn=tf;(()=>{zA(tf,"ScrollSegmentIntervals")})();j("scroll-segment-intervals-ec-ap",Qn,{cssns:"ec_af"});function Ey(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}function WA(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}Nt(),Tt();var My=Symbol.for("#__init__"),YA=Symbol.for("#__patch__"),De=Symbol.for("##up"),Ht=Symbol.for("#placeChild"),ZA=Symbol.for("#beforeReconcile"),qA=Symbol.for("#afterVisit"),XA=Symbol.for("#appendChild"),KA=Symbol.for("#afterReconcile"),Ty=Symbol(),Oy=Symbol(),Ay=Symbol(),Ry=Symbol(),Dy=Symbol(),Py=Symbol(),Iy=Symbol(),Fy=Symbol(),Ly=Symbol(),Ny=Symbol(),zy=Symbol(),By=Symbol(),jy=Symbol(),Uy=Symbol(),Vy=Symbol(),Hy=Symbol(),Wy=Symbol(),Yy=Symbol(),Zy=Symbol(),qy=Symbol(),Xy=Symbol(),Ky=Symbol(),Gy=Symbol(),Jy=Symbol(),Qy=Symbol(),t1=Symbol(),e1=Symbol(),i1=Symbol(),n1=Symbol(),s1=Symbol(),r1=Symbol(),o1=Symbol(),a1=Symbol(),l1=Symbol(),c1=Symbol(),h1=Symbol(),u1=Symbol(),f1=Symbol(),d1=Symbol();It.register(...Wa);var ef=class extends B{[YA](t={}){var e;(e=t.element)!==void 0&&(this.element=e),(e=t.instancedata)!==void 0&&(this.instancedata=e),(e=t.chart_element)!==void 0&&(this.chart_element=e),(e=t.canvasel)!==void 0&&(this.canvasel=e),(e=t.gr_data)!==void 0&&(this.gr_data=e),(e=t.sum_engagement)!==void 0&&(this.sum_engagement=e),(e=t.hour_chart)!==void 0&&(this.hour_chart=e),(e=t.hour_set)!==void 0&&(this.hour_set=e),(e=t.last_max)!==void 0&&(this.last_max=e)}[My](t=null,e=!0){var n;super[My](...arguments),this.element=t?t.element:void 0,this.instancedata=t?t.instancedata:void 0,this.chart_element=t?t.chart_element:void 0,this.canvasel=t?t.canvasel:void 0,this.gr_data=t&&(n=t.gr_data)!==void 0?n:[],this.sum_engagement=t?t.sum_engagement:void 0,this.hour_chart=t&&(n=t.hour_chart)!==void 0?n:!1,this.hour_set=t?t.hour_set:void 0,this.last_max=t?t.last_max:void 0}get_colors(t){let e=[];for(let n=0,s=Ey(t),r=s.length;n<r;n++){let o=s[n];e.push(At(o))}return e}build(){return this.backgroundColors=null,this.borderColors=null}set_colors(){return this.backgroundColors=this.get_colors(this.element.element_def.backgroundcolors||R.user.userdata.globals.time_backgroundcolors),this.borderColors=this.get_colors(this.element.element_def.bordercolors||R.user.userdata.globals.time_bordercolors)}get_data(){this.gr_data=[],this.sum_engagement=0;for(let t=0,e=Ey(this.element.metrics[0].engagement),n=e.length;t<n;t++){let s=e[t];Array.isArray(s.observed)?(this.gr_data.push(s.observed[this.hour_set]||0),this.sum_engagement+=s.observed[this.hour_set]||0,this.hour_chart=!0):(this.gr_data.push(s.observed||0),this.sum_engagement+=s.observed||0)}if(this.element.order=="C"){let t=this.gr_data.length;for(let e=t-1,n=0,s=e-n;s>0?n<e:n>e;s>0?n++:n--)for(let r=t,o=n+1,a=r-o;a>0?o<r:o>r;a>0?o++:o--)this.gr_data[n]+=this.gr_data[o]}return this.gr_data}get_config_data(){let t=this.get_data();return{labels:this.element.element_def.legends||R.user.userdata.globals.time_legends,datasets:[{axis:"y",backgroundColor:this.backgroundColors,borderColor:this.borderColors,borderWidth:1,data:t}]}}decr_hour(){this.hour_set-=1}incr_hour(){this.hour_set+=1}config(){return{plugins:[Ka],type:"bar",data:this.get_config_data(),fontColor:"white",options:{indexAxis:"y",elements:{point:{hitRadius:5}},scales:{y:{ticks:{color:"white",autoSkip:!1},grid:{color:"rgba(100,100,100)"}},x:{ticks:{color:"white"},grid:{color:"rgba(0,0,0)"}}},plugins:{legend:{display:!1},datalabels:{color:"white",align:"right",anchor:"start"}}}}}render(){var t=this,e,n,s,r,o,a,l=this._ns_||"",c,h=Ct(),u,f,d,m,_,p,g,y,x,b,$,w,v,S,E,C,M,O,D,I,A,P,L,z,N,W,ot,J,X,et,at,Y,ht,nt,lt,$t,St,_e;this.backgroundColors||this.set_colors();let ee,ce,ie,us;if(typeof this.element.max_hour=="number"){let Fe="board"+this.element.ix;if((typeof this.hour_set!="number"||this.element.max_hour>this.last_max&&(this.last_max=this.hour_set))&&(this.hour_set=this.element.max_hour),us=this.config(),this.last_max=this.element.max_hour,this.element.text.includes("{hour}")){let Le=this.element.text.split("{hour}");this.hour_set>0&&(ce=(u=f=1,(c=h[Ty])||(u=f=0,c=h[Ty]=c=k("a",null,`${l}`,"keyboard_arrow_left")),u||(c[De]=h._),u||(c.className="material-icons"),u||(c.title="Previous Hour"),c)),this.hour_set<this.element.max_hour&&(ie=(m=_=1,(d=h[Oy])||(m=_=0,d=h[Oy]=d=k("a",null,`${l}`,"keyboard_arrow_right")),m||(d[De]=h._),m||(d.className="material-icons"),m||(d.title="Next Hour"),d)),ee=(()=>(g=y=1,(p=h[Ay])||(g=y=0,p=h[Ay]=p=k("span",null,`${l}`,null)),g||(p[De]=h._),x=Le[0],x===p[Dy]&&g||(p[Ry]=p[Ht](p[Dy]=x,128,p[Ry])),x=this.hour_set,x===p[Iy]&&g||(p[Py]=p[Ht](p[Iy]=x,0,p[Py])),x=Le[1],x===p[Ly]&&g||(p[Fy]=p[Ht](p[Ly]=x,0,p[Fy])),x=" / "+(this.element.instancedata.segment||"Alle")+" / : Total "+this.sum_engagement,x===p[zy]&&g||(p[Ny]=p[Ht](p[zy]=x,256,p[Ny])),p))()}else ee=(()=>($=w=1,(b=h[By])||($=w=0,b=h[By]=b=k("span",null,`${l}`,null)),$||(b[De]=h._),v=this.element.text+" / "+(this.element.instancedata.segment||"Alle")+" /  : Total "+this.sum_engagement,v===b[Uy]&&$||(b[jy]=b[Ht](b[Uy]=v,384,b[jy])),b))()}return S=this,S[ZA](),E=C=1,S[Vy]===1||(E=C=0,S[Vy]=1),(!E||C&2)&&S.flagSelf$("do-ak"),(M=S[Hy])||(S[Hy]=M=k("div",S,`do-al ${l}`,null)),s=r=o=a=null,typeof this.element.max_hour=="number"?(O=D=1,(s=S[Wy])||(O=D=0,S[Wy]=s=k("span",null,`do-am ${l}`,null)),O||(s[De]=M),I=ee,I===s[Zy]&&O||(s[Yy]=s[Ht](s[Zy]=I,128,s[Yy])),(A=s[qy])||(s[qy]=A=k("a",s,`right-icons ${l}`,null)),e=null,ce&&(P=L=1,(e=s[Xy])||(P=L=0,s[Xy]=e=k("a",null,`button-item-icon ${l}`,null)),P||(e[De]=A),P||e.on$("click",{$_:[function(Fe,Le){return t.decr_hour(Fe)}]},this),z=ce,z===e[Gy]&&P||(e[Ky]=e[Ht](e[Gy]=z,384,e[Ky]))),s[Jy]=A[Ht](e,0,s[Jy]),n=null,ie&&(N=W=1,(n=s[Qy])||(N=W=0,s[Qy]=n=k("a",null,`button-item-icon ${l}`,null)),N||(n[De]=A),ot=n[t1]||(n[t1]={$_:[function(Fe,Le,xk){return t.incr_hour(Fe)},null]}),ot.$_[1]=t,N||n.on$("click",ot,this),J=ie,J===n[i1]&&N||(n[e1]=n[Ht](n[i1]=J,384,n[e1]))),s[n1]=A[Ht](n,0,s[n1]),et=at=1,(X=s[s1])||(et=at=0,s[s1]=X=H(Qn,A,`${l}`,null)),Y=this.element,Y===s[r1]||(X.element=s[r1]=Y),et||!X.setup||X.setup(at),X[qA](at),et||A[XA](X),ht=nt=1,(r=S[o1])||(ht=nt=0,S[o1]=r=k("p",null,`${l}`,null)),ht||(r[De]=M),this.chart_element?(this.chart_element.data.datasets[0].data=this.get_data(),U.context=S[l1]||(S[l1]={_:M}),o=this.chart_element.update(),U.context=null,a=this.canvasel):(this.canvasel=(E=$t=1,(lt=S[a1])||(E=$t=0,lt=S[a1]=lt=k("canvas",null,`${l}`,null)),E||(lt[De]=M),E||(lt.id=`${this.id}`),lt),this.ch=new It(this.canvasel.getContext("2d"),us),this.chart_element=this.ch,o=this.canvasel)):(St=_e=1,(s=S[c1])||(St=_e=0,S[c1]=s=k("a",null,`do-at ${l}`,"waiting for data")),St||(s[De]=M)),S[h1]=M[Ht](s,0,S[h1]),S[u1]=M[Ht](r,0,S[u1]),S[f1]=M[Ht](o,0,S[f1]),S[d1]=M[Ht](a,0,S[d1]),S[KA](C),S}},ts=ef;(()=>{WA(ef,"TimeInterval")})();j("time-interval-do-at",ts,{cssns:"do_af"});function GA(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}Nt(),Tt();var m1=Symbol.for("#__init__"),JA=Symbol.for("#__patch__"),QA=Symbol.for("#beforeReconcile"),p1=Symbol.for("##up"),nf=Symbol.for("#placeChild"),tR=Symbol.for("#afterReconcile"),_1=Symbol(),g1=Symbol();var sf=Symbol();var rf=Symbol(),b1=Symbol(),y1=Symbol();var of=Symbol();var af=Symbol(),x1=Symbol(),$1=Symbol(),S1=Symbol();var lf=Symbol();var cf=Symbol(),v1=Symbol(),w1=Symbol(),k1=Symbol();var hf=Symbol();var uf=Symbol(),C1=Symbol(),E1=Symbol(),M1=Symbol();var ff=Symbol();var df=Symbol();var mf=Symbol(),T1=Symbol(),O1=Symbol(),A1=Symbol(),R1=Symbol(),D1=Symbol(),P1=Symbol(),I1=Symbol(),F1=Symbol(),L1=Symbol();var eR="◩",iR="◧";var pf=class extends B{[JA](t={}){var e;(e=t.element)!==void 0&&(this.element=e),(e=t.segment_keys)!==void 0&&(this.segment_keys=e),(e=t.current_index)!==void 0&&(this.current_index=e),(e=t.titles)!==void 0&&(this.titles=e),(e=t.clicks)!==void 0&&(this.clicks=e)}[m1](t=null,e=!0){var n;super[m1](...arguments),this.element=t?t.element:void 0,this.segment_keys=t?t.segment_keys:void 0,this.current_index=t?t.current_index:void 0,this.titles=t&&(n=t.titles)!==void 0?n:[],this.clicks=t&&(n=t.clicks)!==void 0?n:[]}new_instance_data(t,e){var n=this;function s(o){return n.segment_keys[1].map(function(a){return o+a})}function r(){return n.current_index+=e,n.element.current_segment=n.segment_keys[0][n.current_index],n.element.set_instance_data("segment",s(n.segment_keys[0][n.current_index]))}return r}render(){var t=this,e,n,s,r,o=this._ns_||"",a,l,c,h,u,f,d,m,_,p,g,y,x,b,$,w,v,S,E,C,M,O,D,I,A,P,L,z,N,W,ot,J;this.segment_keys||(this.segment_keys=this.element.element_def.segment_keys,this.current_index=0,this.element.current_segment=this.segment_keys[0][0]),this.clicks=[null,null,null,null],this.titles=[null,null,null,null],this.colors=[!1,!1,!1,!1],this.current_index>0&&(this.clicks[0]=this.new_instance_data(this.current_index,-1),this.titles[0]=this.segment_keys[0][this.current_index-1]||"All",this.colors[0]=!0),this.current_index<this.segment_keys[0].length-1&&(this.clicks[2]=this.new_instance_data(this.current_index,1),this.titles[2]=this.segment_keys[0][this.current_index+1]||"All",this.colors[2]=!0);let X,et=!0,at=!1;return!this.element.order||this.element.order=="N"?X="C":X="N",n=this,n[QA](),s=r=1,n[_1]===1||(s=r=0,n[_1]=1),s||(a=k("div",n,`ic-scroll-button ${o}`,null)),s||(l=k("div",a,`${o}`,null)),h=u=1,(c=n[g1])||(h=u=0,n[g1]=c=k("div",l,`trapez ${o}`,null)),f=et||void 0,f===n[sf]||(u|=2,n[sf]=f),f=this.colors[0]||void 0,f===n[rf]||(u|=2,n[rf]=f),h||c.on$("click",{$_:[function(Y,ht){return t.clicks[0](Y)}]},this),f=this.titles[0],f===n[b1]||(c.title=n[b1]=f),u&2&&c.flag$(`trapez ${o} `+(n[sf]?"top":"")+" "+(n[rf]?"hcs":"")),m=_=1,(d=n[y1])||(m=_=0,n[y1]=d=k("div",l,`trapez ${o}`,null)),p=et||void 0,p===n[of]||(_|=2,n[of]=p),p=this.colors[1]||void 0,p===n[af]||(_|=2,n[af]=p),g=n[x1]||(n[x1]={$_:[function(Y,ht,nt){return t.clicks[1](Y)},null]}),g.$_[1]=t,m||d.on$("click",g,this),p=this.titles[1],p===n[$1]||(d.title=n[$1]=p),_&2&&d.flag$(`trapez ${o} `+(n[of]?"right":"")+" "+(n[af]?"vcs":"")),x=b=1,(y=n[S1])||(x=b=0,n[S1]=y=k("div",l,`trapez ${o}`,null)),$=et||void 0,$===n[lf]||(b|=2,n[lf]=$),$=this.colors[2]||void 0,$===n[cf]||(b|=2,n[cf]=$),w=n[v1]||(n[v1]={$_:[function(Y,ht,nt){return t.clicks[2](Y)},null]}),w.$_[1]=t,x||y.on$("click",w,this),$=this.titles[2],$===n[w1]||(y.title=n[w1]=$),b&2&&y.flag$(`trapez ${o} `+(n[lf]?"bot":"")+" "+(n[cf]?"hcs":"")),S=E=1,(v=n[k1])||(S=E=0,n[k1]=v=k("div",l,`trapez ${o}`,null)),C=et||void 0,C===n[hf]||(E|=2,n[hf]=C),C=this.colors[3]||void 0,C===n[uf]||(E|=2,n[uf]=C),M=n[C1]||(n[C1]={$_:[function(Y,ht,nt){return t.clicks[3](Y)},null]}),M.$_[1]=t,S||v.on$("click",M,this),C=this.titles[3],C===n[E1]||(v.title=n[E1]=C),E&2&&v.flag$(`trapez ${o} `+(n[hf]?"left":"")+" "+(n[uf]?"vcs":"")),D=I=1,(O=n[M1])||(D=I=0,n[M1]=O=k("span",a,`symbol ${o}`,null)),A=et||void 0,A===n[ff]||(I|=2,n[ff]=A),A=et||void 0,A===n[df]||(I|=2,n[df]=A),A=et||void 0,A===n[mf]||(I|=2,n[mf]=A),P=n[T1]||(n[T1]={$_:[function(Y,ht,nt){return t.element.flip_order(Y)},null]}),P.$_[1]=t,D||O.on$("click",P,this),A=this.title="order",A===n[O1]||(O.title=n[O1]=A),I&2&&O.flag$(`symbol ${o} `+(n[ff]?"t1":"")+" "+(n[df]?"l1":"")+" "+(n[mf]?"oc":"")),e=null,X=="C"?(L=z=1,(e=n[A1])||(L=z=0,n[A1]=e=k("a",null,`${o}`,null)),L||(e[p1]=O),N=eR,N===e[D1]&&L||(e[R1]=e[nf](e[D1]=N,384,e[R1]))):(W=ot=1,(e=n[P1])||(W=ot=0,n[P1]=e=k("a",null,`${o}`,null)),W||(e[p1]=O),J=iR,J===e[F1]&&W||(e[I1]=e[nf](e[F1]=J,384,e[I1]))),n[L1]=O[nf](e,0,n[L1]),n[tR](r),n}},es=pf;(()=>{GA(pf,"ScrollGenderIntervals")})();j("scroll-gender-intervals-ed-ap",es,{cssns:"ed_af"});function N1(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}function nR(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}Nt(),Tt();var z1=Symbol.for("#__init__"),sR=Symbol.for("#__patch__"),Pe=Symbol.for("##up"),Wt=Symbol.for("#placeChild"),rR=Symbol.for("#beforeReconcile"),oR=Symbol.for("#afterVisit"),aR=Symbol.for("#appendChild"),lR=Symbol.for("#afterReconcile"),B1=Symbol(),j1=Symbol(),U1=Symbol(),V1=Symbol(),H1=Symbol(),W1=Symbol(),Y1=Symbol(),Z1=Symbol(),q1=Symbol(),X1=Symbol(),K1=Symbol(),G1=Symbol(),J1=Symbol(),Q1=Symbol(),tx=Symbol(),ex=Symbol(),ix=Symbol(),nx=Symbol(),sx=Symbol(),rx=Symbol(),ox=Symbol(),ax=Symbol(),lx=Symbol(),cx=Symbol(),hx=Symbol(),ux=Symbol(),fx=Symbol(),dx=Symbol(),mx=Symbol(),px=Symbol(),_x=Symbol(),gx=Symbol(),bx=Symbol(),yx=Symbol(),xx=Symbol(),$x=Symbol(),Sx=Symbol(),vx=Symbol(),wx=Symbol();It.register(...Wa);var _f=class extends B{[sR](t={}){var e;(e=t.element)!==void 0&&(this.element=e),(e=t.instancedata)!==void 0&&(this.instancedata=e),(e=t.chart_element)!==void 0&&(this.chart_element=e),(e=t.canvasel)!==void 0&&(this.canvasel=e),(e=t.gr_data)!==void 0&&(this.gr_data=e),(e=t.sum_intervals)!==void 0&&(this.sum_intervals=e),(e=t.hour_chart)!==void 0&&(this.hour_chart=e),(e=t.hour_set)!==void 0&&(this.hour_set=e),(e=t.last_max)!==void 0&&(this.last_max=e)}[z1](t=null,e=!0){var n;super[z1](...arguments),this.element=t?t.element:void 0,this.instancedata=t?t.instancedata:void 0,this.chart_element=t?t.chart_element:void 0,this.canvasel=t?t.canvasel:void 0,this.gr_data=t&&(n=t.gr_data)!==void 0?n:[],this.sum_intervals=t?t.sum_intervals:void 0,this.hour_chart=t&&(n=t.hour_chart)!==void 0?n:!1,this.hour_set=t?t.hour_set:void 0,this.last_max=t?t.last_max:void 0}get_colors(t){let e=[];for(let n=0,s=N1(t),r=s.length;n<r;n++){let o=s[n];e.push(At(o))}return e}build(){return this.backgroundColors=null,this.borderColors=null}set_colors(){return this.backgroundColors=this.get_colors(this.element.element_def.backgroundcolors||R.user.userdata.globals.time_backgroundcolors),this.borderColors=this.get_colors(this.element.element_def.bordercolors||R.user.userdata.globals.time_bordercolors)}get_data(){this.gr_data=[],this.sum_intervals=0;for(let t=0,e=N1(this.element.metrics[0].last),n=e.length;t<n;t++){let s=e[t];Array.isArray(s.observed)?(this.gr_data.push(s.observed[this.hour_set]||0),this.sum_intervals+=s.observed[this.hour_set]||0,this.hour_chart=!0):(this.gr_data.push(s.observed||0),this.sum_intervals+=s.observed||0)}if(this.element.current_segment||(this.element.current_segment=""),this.element.metrics[0].sum&&this.element.metrics[0].sum[this.element.current_segment]&&(this.sum_intervals=this.element.metrics[0].sum[this.element.current_segment].observed),this.element.order=="C"){let t=this.gr_data.length;for(let e=t-1,n=0,s=e-n;s>0?n<e:n>e;s>0?n++:n--)for(let r=t,o=n+1,a=r-o;a>0?o<r:o>r;a>0?o++:o--)this.gr_data[n]+=this.gr_data[o]}return this.gr_data}get_config_data(){let t=this.get_data();return{labels:this.element.element_def.segment_keys[1],datasets:[{axis:"y",backgroundColor:this.backgroundColors.slice(0,t.length-1),borderColor:this.borderColors.slice(0,t.length-1),borderWidth:1,data:t}]}}decr_hour(){this.hour_set-=1}incr_hour(){this.hour_set+=1}config(){return{plugins:[Ka],type:"bar",data:this.get_config_data(),fontColor:"white",options:{indexAxis:"y",elements:{point:{hitRadius:5}},scales:{y:{ticks:{color:"white",autoSkip:!1},grid:{color:"rgba(100,100,100)"}},x:{ticks:{color:"white"},grid:{color:"rgba(0,0,0)"}}},plugins:{legend:{display:!1},datalabels:{color:"white",align:"right",anchor:"start"}}}}}render(){var t=this,e,n,s,r,o,a,l=this._ns_||"",c,h=Ct(),u,f,d,m,_,p,g,y,x,b,$,w,v,S,E,C,M,O,D,I,A,P,L,z,N,W,ot,J,X,et,at,Y,ht,nt,lt,$t,St,_e;this.backgroundColors||this.set_colors();let ee,ce,ie,us;if(typeof this.element.max_hour=="number"){let Fe="board"+this.element.ix;if((typeof this.hour_set!="number"||this.element.max_hour>this.last_max&&(this.last_max=this.hour_set))&&(this.hour_set=this.element.max_hour),us=this.config(),this.last_max=this.element.max_hour,this.element.text.includes("{hour}")){let Le=this.element.text.split("{hour}");this.hour_set>0&&(ce=(u=f=1,(c=h[B1])||(u=f=0,c=h[B1]=c=k("a",null,`${l}`,"keyboard_arrow_left")),u||(c[Pe]=h._),u||(c.className="material-icons"),u||(c.title="Previous Hour"),c)),this.hour_set<this.element.max_hour&&(ie=(m=_=1,(d=h[j1])||(m=_=0,d=h[j1]=d=k("a",null,`${l}`,"keyboard_arrow_right")),m||(d[Pe]=h._),m||(d.className="material-icons"),m||(d.title="Next Hour"),d)),ee=(()=>(g=y=1,(p=h[U1])||(g=y=0,p=h[U1]=p=k("span",null,`${l}`,null)),g||(p[Pe]=h._),x=Le[0],x===p[H1]&&g||(p[V1]=p[Wt](p[H1]=x,128,p[V1])),x=this.hour_set,x===p[Y1]&&g||(p[W1]=p[Wt](p[Y1]=x,0,p[W1])),x=Le[1],x===p[q1]&&g||(p[Z1]=p[Wt](p[q1]=x,0,p[Z1])),x=" / "+(this.element.instancedata.segment||"Alle")+" / : Total "+this.sum_intervals,x===p[K1]&&g||(p[X1]=p[Wt](p[K1]=x,256,p[X1])),p))()}else ee=(()=>($=w=1,(b=h[G1])||($=w=0,b=h[G1]=b=k("span",null,`${l}`,null)),$||(b[Pe]=h._),v=this.element.text+" / "+(this.element.current_segment||"Alle")+" /  : Total "+this.sum_intervals,v===b[Q1]&&$||(b[J1]=b[Wt](b[Q1]=v,384,b[J1])),b))()}return S=this,S[rR](),E=C=1,S[tx]===1||(E=C=0,S[tx]=1),(!E||C&2)&&S.flagSelf$("dp-ak"),(M=S[ex])||(S[ex]=M=k("div",S,`dp-al ${l}`,null)),s=r=o=a=null,typeof this.element.max_hour=="number"?(O=D=1,(s=S[ix])||(O=D=0,S[ix]=s=k("span",null,`dp-am ${l}`,null)),O||(s[Pe]=M),I=ee,I===s[sx]&&O||(s[nx]=s[Wt](s[sx]=I,128,s[nx])),(A=s[rx])||(s[rx]=A=k("a",s,`right-icons ${l}`,null)),e=null,ce&&(P=L=1,(e=s[ox])||(P=L=0,s[ox]=e=k("a",null,`button-item-icon ${l}`,null)),P||(e[Pe]=A),P||e.on$("click",{$_:[function(Fe,Le){return t.decr_hour(Fe)}]},this),z=ce,z===e[lx]&&P||(e[ax]=e[Wt](e[lx]=z,384,e[ax]))),s[cx]=A[Wt](e,0,s[cx]),n=null,ie&&(N=W=1,(n=s[hx])||(N=W=0,s[hx]=n=k("a",null,`button-item-icon ${l}`,null)),N||(n[Pe]=A),ot=n[ux]||(n[ux]={$_:[function(Fe,Le,xk){return t.incr_hour(Fe)},null]}),ot.$_[1]=t,N||n.on$("click",ot,this),J=ie,J===n[dx]&&N||(n[fx]=n[Wt](n[dx]=J,384,n[fx]))),s[mx]=A[Wt](n,0,s[mx]),et=at=1,(X=s[px])||(et=at=0,s[px]=X=H(es,A,`${l}`,null)),Y=this.element,Y===s[_x]||(X.element=s[_x]=Y),et||!X.setup||X.setup(at),X[oR](at),et||A[aR](X),ht=nt=1,(r=S[gx])||(ht=nt=0,S[gx]=r=k("p",null,`${l}`,null)),ht||(r[Pe]=M),this.chart_element?(this.chart_element.data.datasets[0].data=this.get_data(),U.context=S[yx]||(S[yx]={_:M}),o=this.chart_element.update(),U.context=null,a=this.canvasel):(this.canvasel=(E=$t=1,(lt=S[bx])||(E=$t=0,lt=S[bx]=lt=k("canvas",null,`${l}`,null)),E||(lt[Pe]=M),E||(lt.id=`${this.id}`),lt),this.ch=new It(this.canvasel.getContext("2d"),us),this.chart_element=this.ch,o=this.canvasel)):(St=_e=1,(s=S[xx])||(St=_e=0,S[xx]=s=k("a",null,`dp-at ${l}`,"waiting for data")),St||(s[Pe]=M)),S[$x]=M[Wt](s,0,S[$x]),S[Sx]=M[Wt](r,0,S[Sx]),S[vx]=M[Wt](o,0,S[vx]),S[wx]=M[Wt](a,0,S[wx]),S[lR](C),S}},is=_f;(()=>{nR(_f,"AgeSegmentIntervals")})();j("age-segment-intervals-dp-at",is,{cssns:"dp_af"});function cR(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}be();var kx=Symbol.for("#__init__"),hR=Symbol.for("#__patch__"),uR=Symbol.for("#beforeReconcile"),on=Symbol.for("#placeChild"),Ga=Symbol.for("##up"),fR=Symbol.for("#afterReconcile"),Cx=Symbol(),Ex=Symbol(),Mx=Symbol(),Tx=Symbol(),Ox=Symbol(),Ax=Symbol(),Rx=Symbol(),Dx=Symbol(),Px=Symbol(),Ix=Symbol(),Fx=Symbol(),Lx=Symbol(),Nx=Symbol(),zx=Symbol(),Bx=Symbol(),jx=Symbol(),Ux=Symbol(),Vx=Symbol(),Hx=Symbol(),Wx=Symbol(),Yx=Symbol(),Zx="\uFEFF",bf=class extends B{[hR](t={}){var e;(e=t.ab_box)!==void 0&&(this.ab_box=e)}[kx](t=null,e=!0){var n;super[kx](...arguments),this.ab_box=t&&(n=t.ab_box)!==void 0?n:{}}render(){var t,e,n,s,r,o=this._ns_||"",a,l,c,h,u,f,d,m,_,p,g,y,x,b,$,w,v,S;return n=this,n[uR](),s=r=1,n[Cx]===1||(s=r=0,n[Cx]=1),l=c=1,(a=n[Ex])||(l=c=0,n[Ex]=a=k("div",n,`eg-ah ab-box-button ${o}`,null)),h=this.ab_box.color,h===n[Mx]||a.css$var("--eg_ai",n[Mx]=h,null,"bgc"),h=this.ab_box.title,h===n[Tx]||(a.title=n[Tx]=h),(u=n[Ox])||(n[Ox]=u=k("div",a,`eg-aj ${o}`,null)),f=this.ab_box.text,f===n[Rx]&&l||(n[Ax]=u[on](n[Rx]=f,384,n[Ax])),t=null,this.ab_box.value==""?(d=m=1,(t=n[Dx])||(d=m=0,n[Dx]=t=k("div",null,`eg-ak ${o}`,null)),d||(t[Ga]=a),_=Zx,_===t[Ix]&&d||(t[Px]=t[on](t[Ix]=_,384,t[Px]))):(p=g=1,(t=n[Fx])||(p=g=0,n[Fx]=t=k("div",null,`eg-al ${o}`,null)),p||(t[Ga]=a),y=this.ab_box.value,y===t[Nx]&&p||(t[Lx]=t[on](t[Nx]=y,384,t[Lx]))),n[zx]=a[on](t,0,n[zx]),e=null,this.ab_box.sum?(w=v=1,(e=n[Vx])||(w=v=0,n[Vx]=e=k("div",null,`eg-an ${o}`,null)),w||(e[Ga]=a),S="("+this.ab_box.sum+")",S===e[Wx]&&w||(e[Hx]=e[on](e[Wx]=S,384,e[Hx]))):(x=b=1,(e=n[Bx])||(x=b=0,n[Bx]=e=k("div",null,`eg-am ${o}`,null)),x||(e[Ga]=a),$=Zx,$===e[Ux]&&x||(e[jx]=e[on](e[Ux]=$,384,e[jx]))),n[Yx]=a[on](e,0,n[Yx]),n[fR](r),n}},gf=bf;(()=>{cR(bf,"ab-box")})();j("ab-box",gf,{cssns:"eg_af"});function dR(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}be();var qx=Symbol.for("#__init__"),mR=Symbol.for("#__patch__"),pR=Symbol.for("#beforeReconcile"),_R=Symbol.for("#placeChild"),gR=Symbol.for("#afterReconcile"),Xx=Symbol(),Kx=Symbol(),Gx=Symbol(),Jx=Symbol(),Qx=Symbol(),t$=Symbol(),xf=class extends B{[mR](t={}){var e;(e=t.color)!==void 0&&(this.color=e),(e=t.text)!==void 0&&(this.text=e)}[qx](t=null,e=!0){super[qx](...arguments),this.color=t?t.color:void 0,this.text=t?t.text:void 0}render(){var t,e,n,s=this._ns_||"",r,o,a,l,c,h;return t=this,t[pR](),e=n=1,t[Xx]===1||(e=n=0,t[Xx]=1),o=a=1,(r=t[Kx])||(o=a=0,t[Kx]=r=k("div",t,`ef-ah list-box-button ${s}`,null)),l=this.color,l===t[Gx]||r.css$var("--ef_ai",t[Gx]=l,null,"bgc"),(c=t[Jx])||(t[Jx]=c=k("span",r,`${s}`,null)),h=this.text,h===t[t$]&&o||(t[Qx]=c[_R](t[t$]=h,384,t[Qx])),t[gR](n),t}},yf=xf;(()=>{dR(xf,"list-box")})();j("list-box",yf,{cssns:"ef_af"});function an(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}function vf(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}Nt(),Tt();var Ja=Symbol.for("#__init__"),mS=Symbol.for("#__patch__"),gt=Symbol.for("##up"),Ie=Symbol.for("#afterVisit"),Pr=Symbol.for("#appendChild"),xt=Symbol.for("#placeChild"),wf=Symbol.for("#beforeReconcile"),kf=Symbol.for("#afterReconcile"),e$=Symbol(),i$=Symbol(),n$=Symbol(),s$=Symbol(),r$=Symbol(),o$=Symbol(),a$=Symbol(),l$=Symbol(),c$=Symbol(),h$=Symbol(),u$=Symbol(),f$=Symbol(),d$=Symbol(),m$=Symbol(),p$=Symbol(),_$=Symbol(),g$=Symbol(),b$=Symbol(),y$=Symbol(),x$=Symbol(),$$=Symbol(),S$=Symbol(),v$=Symbol(),w$=Symbol(),k$=Symbol(),C$=Symbol(),E$=Symbol(),M$=Symbol(),T$=Symbol(),O$=Symbol(),A$=Symbol(),R$=Symbol(),D$=Symbol(),P$=Symbol(),I$=Symbol(),F$=Symbol(),L$=Symbol(),N$=Symbol(),z$=Symbol(),B$=Symbol(),j$=Symbol(),U$=Symbol(),V$=Symbol(),H$=Symbol(),W$=Symbol(),Y$=Symbol(),Z$=Symbol(),q$=Symbol(),X$=Symbol(),K$=Symbol(),G$=Symbol(),J$=Symbol(),Q$=Symbol(),tS=Symbol(),eS=Symbol(),iS=Symbol(),nS=Symbol(),sS=Symbol(),rS=Symbol(),oS=Symbol(),aS=Symbol(),lS=Symbol(),cS=Symbol(),hS=Symbol(),uS=Symbol(),fS=Symbol(),dS=Symbol(),pS=["red","blue","emerald","fuchsia","sky","warm"],bR={warm:!1},yR=["IC","Alle","F","M"],xR=["","F","M"],$R=["Alle","30-","30","40","50-","50","50+","60","70+"],SR=["","30-","30","40","50-","50","50+","60","70+"],_S=At("warm5");function vR(i,t=!0){function e(a,l){return l.val-a.val}function n(a,l){return a.name>l.name?1:-1}if(!i.card)return;let s=[],r=0;for(let a=i.card,l=0,c=Object.keys(a),h=c.length,u,f;l<h;l++)u=c[l],f=a[u],typeof f=="object"&&(r+=1,s.push({name:u,ix:r,data:f}));s=s.sort(n);let o=[];for(let a=0,l=an(SR),c=l.length;a<c;a++){let h=l[a],u=[];for(let f=0,d=an(xR),m=d.length;f<m;f++){let _=d[f],p={click:0,read:0,value:0,sum:0,title:{},name:""},g=[];s.map(function(x,b){if(p.title[x.name]={...x.data[_+h]},x.data[_+h]){let $=x.data[_+h],w=$.read||0,v=$.click||0,S=$.view||0,E=0,C=0,M=!1,O;if(v&&(E=w/v),t?C=E:C=v,t&&b>0&&p.sum>0?p.sum=(p.sum*b+C)/(b+1):p.sum+=C,(C>p.value||b==0||C==p.value&&(w>p.read||w==p.read&&v>p.click||w==p.read&&v==p.click&&S<p.view))&&(M=!0),g.push({name:x.name,val:C}),E&&(p.title[x.name].ratio=E),C&&p.value){let D=Math.trunc(100*Math.abs(C-p.value)/p.value);O=Math.min(5,Math.trunc(D/10))}else O=5;if(M&&(p.color=b,p.value=C,p.read=$.read||0,p.click=$.click||0,p.view=$.view||0,p.name=x.name,p.colorix=O),C&&O<p.colorix)return p.colorix=O}});let y=g.sort(e);p.name=p.name+"-";for(let x=0,b=an(y),$=b.length;x<$;x++){let w=b[x];p.name+=w.name}t&&(p.sum=p.sum.toFixed(2),p.value=p.value.toFixed(2)),u.push(p)}o.push(u)}return{tests:s,result:o,content_id:i.card.content_id}}function gS(i,t){let e=i||"warm",n=t||0,s=!0;return typeof bR[e]<"u"&&(s=!1),s?n=n+4:n=5-n,At(e+n.toString())}function wR(i,t){var e,n=Ct(),s,r,o,a,l,c,h,u,f,d,m,_,p,g,y,x,b;return(()=>{s=r=1,(e=n[e$])||(s=r=0,e=n[e$]=e=k("tr",null,null,null)),s||(e[gt]=n._),s||(o=k("td",e,null,null)),l=c=1,(a=e[i$])||(l=c=0,e[i$]=a=H("ab-box",o,null,null)),h={title:"",color:_S,text:$R[t],value:""},h===e[n$]||(a.ab_box=e[n$]=h),l||!a.setup||a.setup(c),a[Ie](c),l||o[Pr](a),(u=e[s$])||(e[s$]=u=pt(256,e)),f=0,d=u.$;for(let $=0,w=an(i),v=w.length;$<v;$++){let S=w[$];_=p=1,(m=d[f])||(_=p=0,d[f]=m=k("td",u,null,null)),_||(m[gt]=u),y=x=1,(g=m[r$])||(y=x=0,m[r$]=g=H("ab-box",m,null,null)),b={title:JSON.stringify(S.title,null,"	"),color:gS(pS[S.color],S.colorix),text:S.name||".",value:S.value||"0",sum:S.sum||"0"},b===m[o$]||(g.ab_box=m[o$]=b),y||!g.setup||g.setup(x),g[Ie](x),y||m[Pr](g),f++}return u[Ie](f),e})()}function kR(i){var t,e=Ct(),n,s,r,o,a,l,c,h,u;let f=0;return(()=>{n=s=1,(t=e[a$])||(n=s=0,t=e[a$]=t=k("tr",null,null,null)),n||(t[gt]=e._),(r=t[l$])||(t[l$]=r=pt(384,t)),o=0,a=r.$;for(let d=0,m=an(i),_=m.length;d<_;d++){let p=m[d];c=h=1,(l=a[o])||(c=h=0,a[o]=l=k("span",r,null,null)),c||(l[gt]=r),U.context=l[h$]||(l[h$]={_:l}),u=wR(p,f),U.context=null,u===l[u$]&&c||(l[c$]=l[xt](l[u$]=u,384,l[c$])),f+=1,o++}return r[Ie](o),t})()}function CR(i){var t,e=Ct(),n,s,r,o,a,l,c,h,u,f,d,m,_,p;let g=0;return(()=>{n=s=1,(t=e[f$])||(n=s=0,t=e[f$]=t=k("div",null,null,null)),n||(t[gt]=e._),(r=t[d$])||(t[d$]=r=pt(384,t)),o=0,a=r.$;for(let y=0,x=an(i),b=x.length;y<b;y++){let $=x[y];c=h=1,(l=a[o])||(c=h=0,a[o]=l=k("span",r,"dq-an",null)),c||(l[gt]=r),f=d=1,(u=l[m$])||(f=d=0,l[m$]=u=H("list-box",l,null,null)),m=gS(pS[g],5),m===l[p$]||(u.color=l[p$]=m),m=$.name,m===l[_$]||(u.text=l[_$]=m),f||!u.setup||u.setup(d),u[Ie](d),f||l[Pr](u),(_=l[g$])||(l[g$]=_=k("span",l,"dq-ap",null)),p=$.data.title||"no title",p===l[y$]&&c||(l[b$]=_[xt](l[y$]=p,384,l[b$])),o++,g+=1}return r[Ie](o),t})()}function ER(i){i.ratio=!i.ratio}var Cf=class extends B{render(){var t,e,n,s,r,o,a=this._ns_||"",l,c,h,u,f,d,m;t=this,t[wf](),e=n=1,t[x$]===1||(e=n=0,t[x$]=1),(s=t[$$])||(t[$$]=s=pt(384,t)),r=0,o=s.$;for(let _=0,p=an(yR),g=p.length;_<g;_++){let y=p[_];c=h=1,(l=o[r])||(c=h=0,o[r]=l=k("th",s,`${a}`,null)),c||(l[gt]=s),f=d=1,(u=l[S$])||(f=d=0,l[S$]=u=H("ab-box",l,`${a}`,null)),m={title:"",color:_S,text:y},m===l[v$]||(u.ab_box=l[v$]=m),f||!u.setup||u.setup(d),u[Ie](d),f||l[Pr](u),r++}return s[Ie](r),t[kf](n),t}},$f=Cf;(()=>{vf(Cf,"ab-header")})();j("ab-header",$f,{});var Ef=class extends B{[mS](t={}){var e;(e=t.view_props)!==void 0&&(this.view_props=e)}[Ja](t=null,e=!0){super[Ja](...arguments),this.view_props=t?t.view_props:void 0}render(){var t=this,e,n,s,r,o=this._ns_||"",a,l,c,h,u,f,d;return n=this,n[wf](),s=r=1,n[w$]===1||(s=r=0,n[w$]=1),l=c=1,(a=n[k$])||(l=c=0,n[k$]=a=k("button",n,`dq-av ${o}`,null)),l||a.on$("click",{$_:[function(m,_){return ER(t.view_props)}]},this),e=null,this.view_props.ratio?(h=u=1,(e=n[C$])||(h=u=0,n[C$]=e=k("a",null,`white ${o}`,"Show clics")),h||(e[gt]=a)):(f=d=1,(e=n[E$])||(f=d=0,n[E$]=e=k("a",null,`white ${o}`,"Show reads/clic")),f||(e[gt]=a)),n[M$]=a[xt](e,0,n[M$]),n[kf](r),n}},Sf=Ef;(()=>{vf(Ef,"view_button")})();j("view_button",Sf,{cssns:"dq_at"});var Mf=class extends B{[mS](t={}){var e;(e=t.element)!==void 0&&(this.element=e),(e=t.instancedata)!==void 0&&(this.instancedata=e),(e=t.values)!==void 0&&(this.values=e),(e=t.reftxt)!==void 0&&(this.reftxt=e),(e=t.colhead)!==void 0&&(this.colhead=e),(e=t.view_props)!==void 0&&(this.view_props=e)}[Ja](t=null,e=!0){var n;super[Ja](...arguments),this.element=t&&(n=t.element)!==void 0?n:{},this.instancedata=t?t.instancedata:void 0,this.values=t?t.values:void 0,this.reftxt=t?t.reftxt:void 0,this.colhead=t&&(n=t.colhead)!==void 0?n:At("warm5"),this.view_props=t&&(n=t.view_props)!==void 0?n:{ratio:!1}}render(){var t,e,n,s,r,o,a,l,c,h,u,f,d,m,_=this._ns_||"",p,g,y,x,b,$,w,v,S,E,C,M,O,D,I,A,P,L,z,N,W,ot,J,X,et,at,Y,ht,nt,lt,$t,St,_e,ee,ce;{f=this,f[wf](),d=m=1,f[T$]===1||(d=m=0,f[T$]=1);let ie=vR(this.element.metrics[0].current,this.view_props.ratio);return t=e=n=s=r=o=a=l=c=h=u=null,ie?(y=x=1,(t=f[A$])||(y=x=0,f[A$]=t=k("span",null,`dq-bb ${_}`,null)),y||(t[gt]=f),b="Last timestamp: "+this.element.timestamp,b===t[D$]&&y||(t[R$]=t[xt](t[D$]=b,384,t[R$])),$=w=1,(e=f[P$])||($=w=0,f[P$]=e=k("p",null,`${_}`,null)),$||(e[gt]=f),this.view_props.ratio?(v=S=1,(n=f[I$])||(v=S=0,f[I$]=n=k("span",null,`dq-bd ${_}`,null)),v||(n[gt]=f),E="Test "+this.element.instancedata.group+" / "+this.element.instancedata.instance_name+" --->   Read points pr clic",E===n[L$]&&v||(n[F$]=n[xt](n[L$]=E,384,n[F$]))):(C=M=1,(n=f[N$])||(C=M=0,f[N$]=n=k("span",null,`dq-be ${_}`,null)),C||(n[gt]=f),O="Test "+this.element.instancedata.group+" / "+this.element.instancedata.instance_name+" --->  Clicks",O===n[B$]&&C||(n[z$]=n[xt](n[B$]=O,384,n[z$]))),D=I=1,(s=f[j$])||(D=I=0,f[j$]=s=k("p",null,`${_}`,null)),D||(s[gt]=f),A=P=1,(r=f[U$])||(A=P=0,f[U$]=r=k("span",null,`dq-bg ${_}`,null)),A||(r[gt]=f),L="Content id: "+ie.content_id,L===r[H$]&&A||(r[V$]=r[xt](r[H$]=L,384,r[V$])),z=N=1,(o=f[W$])||(z=N=0,f[W$]=o=k("p",null,`${_}`,null)),z||(o[gt]=f),U.context=f[Y$]||(f[Y$]={_:f}),a=CR(ie.tests),U.context=null,W=ot=1,(l=f[Z$])||(W=ot=0,f[Z$]=l=k("p",null,`${_}`,null)),W||(l[gt]=f),J=X=1,(c=f[q$])||(J=X=0,f[q$]=c=H("view_button",null,`view-button ${_}`,null)),J||(c[gt]=f),et=this.view_props,et===c[X$]||(c.view_props=c[X$]=et),J||!c.setup||c.setup(X),c[Ie](X),at=Y=1,(h=f[K$])||(at=Y=0,f[K$]=h=k("p",null,`${_}`,null)),at||(h[gt]=f),ht=nt=1,(u=f[G$])||(ht=nt=0,f[G$]=u=k("div",null,`${_}`,null)),ht||(u[gt]=f),(lt=u[J$])||(u[J$]=lt=k("table",u,`${_}`,null)),ht||($t=k("tr",lt,`${_}`,null)),_e=ee=1,(St=u[Q$])||(_e=ee=0,u[Q$]=St=H("ab-header",$t,`${_}`,null)),_e||!St.setup||St.setup(ee),St[Ie](ee),_e||$t[Pr](St),U.context=u[eS]||(u[eS]={_:lt}),ce=kR(ie.result),U.context=null,ce===u[iS]&&ht||(u[tS]=lt[xt](u[iS]=ce,256,u[tS]))):(p=g=1,(t=f[O$])||(p=g=0,f[O$]=t=k("div",null,`${_}`,"waiting")),p||(t[gt]=f)),f[nS]=f[xt](t,0,f[nS]),f[sS]=f[xt](e,0,f[sS]),f[rS]=f[xt](n,0,f[rS]),f[oS]=f[xt](s,0,f[oS]),f[aS]=f[xt](r,0,f[aS]),f[lS]=f[xt](o,0,f[lS]),f[cS]=f[xt](a,0,f[cS]),f[hS]=f[xt](l,0,f[hS]),f[uS]=f[xt](c,0,f[uS]),f[fS]=f[xt](h,0,f[fS]),f[dS]=f[xt](u,0,f[dS]),f[kf](m),f}}},ns=Mf;(()=>{vf(Mf,"AbTest")})();j("ab-test-dq-bn",ns,{cssns:"dq_ay"});function MR(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}be();var bS=Symbol.for("#__init__"),TR=Symbol.for("#__patch__"),OR=Symbol.for("#beforeReconcile"),Qa=Symbol.for("##up"),ln=Symbol.for("#placeChild"),AR=Symbol.for("#afterReconcile"),yS=Symbol(),xS=Symbol(),$S=Symbol(),SS=Symbol(),vS=Symbol(),wS=Symbol(),kS=Symbol(),CS=Symbol(),ES=Symbol(),MS=Symbol(),TS=Symbol(),OS=Symbol(),AS=Symbol(),RS=Symbol(),DS=Symbol(),PS=Symbol(),IS=Symbol(),FS=Symbol(),LS=Symbol();var Of=class extends B{[TR](t={}){var e;(e=t.content_box)!==void 0&&(this.content_box=e)}[bS](t=null,e=!0){var n;super[bS](...arguments),this.content_box=t&&(n=t.content_box)!==void 0?n:{}}render(){var t,e,n,s,r,o,a=this._ns_||"",l,c,h,u,f,d,m,_,p,g,y,x,b,$,w,v;return s=this,s[OR](),r=o=1,s[yS]===1||(r=o=0,s[yS]=1),c=h=1,(l=s[xS])||(c=h=0,s[xS]=l=k("div",s,`ee-ah content-box-button ${a}`,null)),u=this.content_box.color,u===s[$S]||l.css$var("--ee_ai",s[$S]=u,null,"bgc"),u=this.content_box.title,u===s[SS]||(l.title=s[SS]=u),t=e=n=null,this.content_box.text?(f=d=1,(t=s[vS])||(f=d=0,s[vS]=t=k("a",null,`ee-aj ${a}`,null)),f||(t[Qa]=l),m=this.content_box.text,m===t[kS]&&f||(t[wS]=t[ln](t[kS]=m,384,t[wS]))):this.content_box.value&&this.content_box.value.n&&(_=p=1,(t=s[CS])||(_=p=0,s[CS]=t=k("a",null,`ee-ak ${a}`,null)),_||(t[Qa]=l),g="n  :"+this.content_box.value.n,g===t[MS]&&_||(t[ES]=t[ln](t[MS]=g,384,t[ES])),y=x=1,(e=s[TS])||(y=x=0,s[TS]=e=k("a",null,`ee-al ${a}`,null)),y||(e[Qa]=l),b="t  :"+this.content_box.value.t,b===e[AS]&&y||(e[OS]=e[ln](e[AS]=b,384,e[OS])),$=w=1,(n=s[RS])||($=w=0,s[RS]=n=k("a",null,`ee-am ${a}`,null)),$||(n[Qa]=l),v="t/n:"+this.content_box.value.factor,v===n[PS]&&$||(n[DS]=n[ln](n[PS]=v,384,n[DS]))),s[IS]=l[ln](t,0,s[IS]),s[FS]=l[ln](e,0,s[FS]),s[LS]=l[ln](n,0,s[LS]),s[AR](o),s}},Tf=Of;(()=>{MR(Of,"content-box")})();j("content-box",Tf,{cssns:"ee_af"});function cn(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}function O2(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}var NS=Symbol.for("#__init__"),RR=Symbol.for("#__patch__"),Yt=Symbol.for("##up"),ii=Symbol.for("#afterVisit"),Ir=Symbol.for("#appendChild"),pe=Symbol.for("#placeChild"),A2=Symbol.for("#beforeReconcile"),R2=Symbol.for("#afterReconcile"),zS=Symbol(),BS=Symbol(),jS=Symbol(),US=Symbol(),VS=Symbol(),HS=Symbol(),WS=Symbol(),YS=Symbol(),ZS=Symbol(),qS=Symbol(),XS=Symbol(),KS=Symbol(),GS=Symbol(),JS=Symbol(),QS=Symbol(),t2=Symbol(),e2=Symbol(),i2=Symbol(),n2=Symbol(),s2=Symbol(),r2=Symbol(),o2=Symbol(),a2=Symbol(),l2=Symbol(),c2=Symbol(),h2=Symbol(),u2=Symbol(),f2=Symbol(),d2=Symbol(),m2=Symbol(),p2=Symbol(),_2=Symbol(),g2=Symbol(),b2=Symbol(),y2=Symbol(),x2=Symbol(),$2=Symbol(),S2=Symbol(),v2=Symbol(),w2=Symbol(),k2=Symbol(),C2=Symbol(),E2=Symbol(),M2=Symbol(),T2=Symbol(),DR=["emerald","red","blue","fuchsia","sky","warm","red"];var PR=["IC","Alle","F","M"],IR=["","F","M"],FR=["Alle","30-","30","40","50-","50","50+","60","70+"],LR=["","30-","30","40","50-","50","50+","60","70+"],D2=At("warm5");function NR(i){function t(_,p){return p.val-_.val}function e(_,p){return _>p?1:-1}if(!i.card)return;Array.isArray(i.card.group_list)||(i.card.group_list=Object.keys(i.card.groups));let n=i.card.group_list.sort(e),s=i.card.segments,r=[],o=0;for(let _=0,p=cn(n),g=p.length;_<g;_++){let y=p[_];o+=1,r.push({name:y,ix:o,data:i.card.groups[y]})}let a=0,l=0,c=0,h=0,u=0,f=0,d=[],m;for(let _=0,p=cn(LR),g=p.length;_<g;_++){let y=p[_],x=[],b=-1;for(let $=0,w=cn(IR),v=w.length;$<v;$++){let S=w[$];b+=1;let E=S+y;a=0,l=0,c=0;let C=i.card.segments[E]||i.card.groups.all_sites,M=i.card.segments[S]||i.card.groups.all_sites;if(M&&(a=M.n,l=M.t),a>0&&(c=l/a),C&&(h=C.n,u=C.t),h>0&&(f=u/h),f&&c){let D=Math.trunc(100*(f-c)/c);D<-15?m=3:D<-10?m=4:D<-5?m=5:D<5?m=6:D<10?m=7:D<15?m=8:m=9}else m=6;let O={title:C,colorix:m,color:b,value:{n:h,t:u,factor:f.toFixed(0)}};x.push(O)}d.push(x)}return{groups:r,result:d}}function zR(i,t){return At((i||"warm")+t.toString())}function BR(i,t){var e,n=Ct(),s,r,o,a,l,c,h,u,f,d,m,_,p,g,y,x,b;return(()=>{s=r=1,(e=n[zS])||(s=r=0,e=n[zS]=e=k("tr",null,null,null)),s||(e[Yt]=n._),s||(o=k("td",e,null,null)),l=c=1,(a=e[BS])||(l=c=0,e[BS]=a=H("content-box",o,null,null)),h={title:"",color:D2,text:FR[t],value:{}},h===e[jS]||(a.content_box=e[jS]=h),l||!a.setup||a.setup(c),a[ii](c),l||o[Ir](a),(u=e[US])||(e[US]=u=pt(256,e)),f=0,d=u.$;for(let $=0,w=cn(i),v=w.length;$<v;$++){let S=w[$];_=p=1,(m=d[f])||(_=p=0,d[f]=m=k("td",u,null,null)),_||(m[Yt]=u),y=x=1,(g=m[VS])||(y=x=0,m[VS]=g=H("content-box",m,null,null)),b={title:JSON.stringify(S.title,null,"	"),color:zR(DR[S.color],S.colorix),value:S.value},b===m[HS]||(g.content_box=m[HS]=b),y||!g.setup||g.setup(x),g[ii](x),y||m[Ir](g),f++}return u[ii](f),e})()}function jR(i){var t,e=Ct(),n,s,r,o,a,l,c,h,u;let f=0;return(()=>{n=s=1,(t=e[WS])||(n=s=0,t=e[WS]=t=k("tr",null,null,null)),n||(t[Yt]=e._),(r=t[YS])||(t[YS]=r=pt(384,t)),o=0,a=r.$;for(let d=0,m=cn(i),_=m.length;d<_;d++){let p=m[d];c=h=1,(l=a[o])||(c=h=0,a[o]=l=k("span",r,null,null)),c||(l[Yt]=r),U.context=l[qS]||(l[qS]={_:l}),u=BR(p,f),U.context=null,u===l[XS]&&c||(l[ZS]=l[pe](l[XS]=u,384,l[ZS])),f+=1,o++}return r[ii](o),t})()}function UR(i){var t,e=Ct(),n,s,r,o,a,l,c,h,u,f,d,m;return(()=>{n=s=1,(t=e[KS])||(n=s=0,t=e[KS]=t=k("div",null,null,null)),n||(t[Yt]=e._),(r=t[GS])||(t[GS]=r=pt(384,t)),o=0,a=r.$;for(let _=0,p=cn(i),g=p.length;_<g;_++){let y=p[_],x=JSON.stringify(y.data,null,"	");c=h=1,(l=a[o])||(c=h=0,a[o]=l=k("div",r,"dr-an",null)),c||(l[Yt]=r),x===l[JS]||(l.title=l[JS]=x),f=d=1,(u=l[QS])||(f=d=0,l[QS]=u=H(ke,l,null,null)),m={text:y.name,value:y.data.n},m===l[t2]||(u.text_and_value=l[t2]=m),f||!u.setup||u.setup(d),u[ii](d),f||l[Ir](u),o++}return r[ii](o),t})()}var Rf=class extends B{render(){var t,e,n,s,r,o,a=this._ns_||"",l,c,h,u,f,d,m;t=this,t[A2](),e=n=1,t[e2]===1||(e=n=0,t[e2]=1),(s=t[i2])||(t[i2]=s=pt(384,t)),r=0,o=s.$;for(let _=0,p=cn(PR),g=p.length;_<g;_++){let y=p[_];c=h=1,(l=o[r])||(c=h=0,o[r]=l=k("th",s,`${a}`,null)),c||(l[Yt]=s),f=d=1,(u=l[n2])||(f=d=0,l[n2]=u=H("content-box",l,`${a}`,null)),m={title:"",color:D2,text:y},m===l[s2]||(u.content_box=l[s2]=m),f||!u.setup||u.setup(d),u[ii](d),f||l[Ir](u),r++}return s[ii](r),t[R2](n),t}},Af=Rf;(()=>{O2(Rf,"content-header")})();j("content-header",Af,{});var Df=class extends B{[RR](t={}){var e;(e=t.element)!==void 0&&(this.element=e),(e=t.instancedata)!==void 0&&(this.instancedata=e),(e=t.values)!==void 0&&(this.values=e),(e=t.reftxt)!==void 0&&(this.reftxt=e),(e=t.colhead)!==void 0&&(this.colhead=e),(e=t.view_props)!==void 0&&(this.view_props=e)}[NS](t=null,e=!0){var n;super[NS](...arguments),this.element=t&&(n=t.element)!==void 0?n:{},this.instancedata=t?t.instancedata:void 0,this.values=t?t.values:void 0,this.reftxt=t?t.reftxt:void 0,this.colhead=t&&(n=t.colhead)!==void 0?n:At("warm5"),this.view_props=t&&(n=t.view_props)!==void 0?n:{ratio:!1}}render(){var t,e,n,s,r,o,a,l,c,h,u=this._ns_||"",f,d,m,_,p,g,y,x,b,$,w,v,S,E,C,M,O,D,I,A,P,L;{l=this,l[A2](),c=h=1,l[r2]===1||(c=h=0,l[r2]=1);let z=NR(this.element.metrics[0].current);return t=e=n=s=r=o=a=null,z?(m=_=1,(t=l[a2])||(m=_=0,l[a2]=t=k("span",null,`dr-av ${u}`,null)),m||(t[Yt]=l),p="Last timestamp: "+this.element.timestamp,p===t[c2]&&m||(t[l2]=t[pe](t[c2]=p,384,t[l2])),g=y=1,(e=l[h2])||(g=y=0,l[h2]=e=k("p",null,`${u}`,null)),g||(e[Yt]=l),x=b=1,(n=l[u2])||(x=b=0,l[u2]=n=k("span",null,`dr-ax ${u}`,null)),x||(n[Yt]=l),$="Content id: "+this.element.instancedata.instance_name+" - "+this.element.metrics[0].current.card.url||"",$===n[d2]&&x||(n[f2]=n[pe](n[d2]=$,384,n[f2])),w=v=1,(s=l[m2])||(w=v=0,l[m2]=s=k("p",null,`${u}`,null)),w||(s[Yt]=l),U.context=l[p2]||(l[p2]={_:l}),r=UR(z.groups),U.context=null,S=E=1,(o=l[_2])||(S=E=0,l[_2]=o=k("p",null,`${u}`,null)),S||(o[Yt]=l),C=M=1,(a=l[g2])||(C=M=0,l[g2]=a=k("div",null,`${u}`,null)),C||(a[Yt]=l),(O=a[b2])||(a[b2]=O=k("table",a,`${u}`,null)),C||(D=k("tr",O,`${u}`,null)),A=P=1,(I=a[y2])||(A=P=0,a[y2]=I=H("content-header",D,`${u}`,null)),A||!I.setup||I.setup(P),I[ii](P),A||D[Ir](I),U.context=a[$2]||(a[$2]={_:O}),L=jR(z.result),U.context=null,L===a[S2]&&C||(a[x2]=O[pe](a[S2]=L,256,a[x2]))):(f=d=1,(t=l[o2])||(f=d=0,l[o2]=t=k("div",null,`${u}`,"waiting")),f||(t[Yt]=l)),l[v2]=l[pe](t,0,l[v2]),l[w2]=l[pe](e,0,l[w2]),l[k2]=l[pe](n,0,l[k2]),l[C2]=l[pe](s,0,l[C2]),l[E2]=l[pe](r,0,l[E2]),l[M2]=l[pe](o,0,l[M2]),l[T2]=l[pe](a,0,l[T2]),l[R2](h),l}}},ss=Df;(()=>{O2(Df,"ContentTest")})();j("content-test-dr-bd",ss,{cssns:"dr_as"});function VR(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}be();var P2=Symbol.for("#__init__"),HR=Symbol.for("#__patch__"),WR=Symbol.for("#beforeReconcile"),Fr=Symbol.for("##up"),Oi=Symbol.for("#placeChild"),YR=Symbol.for("#afterReconcile"),I2=Symbol(),F2=Symbol(),L2=Symbol(),N2=Symbol(),z2=Symbol(),B2=Symbol(),j2=Symbol(),U2=Symbol(),V2=Symbol(),H2=Symbol(),W2=Symbol(),Y2=Symbol(),Z2=Symbol(),q2=Symbol(),X2=Symbol(),K2=Symbol(),G2=Symbol(),J2=Symbol(),Q2=Symbol(),tv=Symbol(),ev=Symbol(),iv=Symbol(),nv="\uFEFF",If=class extends B{[HR](t={}){var e;(e=t.gender_age_box)!==void 0&&(this.gender_age_box=e)}[P2](t=null,e=!0){var n;super[P2](...arguments),this.gender_age_box=t&&(n=t.gender_age_box)!==void 0?n:{}}render(){var t,e,n,s,r,o,a=this._ns_||"",l,c,h,u,f,d,m,_,p,g,y,x,b,$,w,v,S,E,C;return s=this,s[WR](),r=o=1,s[I2]===1||(r=o=0,s[I2]=1),c=h=1,(l=s[F2])||(c=h=0,s[F2]=l=k("div",s,`ei-ah gender-age-box-button ${a}`,null)),u=this.gender_age_box.color,u===s[L2]||l.css$var("--ei_ai",s[L2]=u,null,"bgc"),u=this.gender_age_box.title,u===s[N2]||(l.title=s[N2]=u),t=null,this.gender_age_box.text&&(f=d=1,(t=s[z2])||(f=d=0,s[z2]=t=k("div",null,`ei-aj ${a}`,null)),f||(t[Fr]=l),m=this.gender_age_box.text,m===t[j2]&&f||(t[B2]=t[Oi](t[j2]=m,384,t[B2]))),s[U2]=l[Oi](t,0,s[U2]),e=null,this.gender_age_box.values?(y=x=1,(e=s[Y2])||(y=x=0,s[Y2]=e=k("div",null,`ei-al ${a}`,null)),y||(e[Fr]=l),b=this.gender_age_box.values[0],b===e[q2]&&y||(e[Z2]=e[Oi](e[q2]=b,384,e[Z2]))):(_=p=1,(e=s[V2])||(_=p=0,s[V2]=e=k("div",null,`ei-ak ${a}`,null)),_||(e[Fr]=l),g=nv,g===e[W2]&&_||(e[H2]=e[Oi](e[W2]=g,384,e[H2]))),s[X2]=l[Oi](e,0,s[X2]),n=null,this.gender_age_box.values?(S=E=1,(n=s[Q2])||(S=E=0,s[Q2]=n=k("div",null,`ei-an ${a}`,null)),S||(n[Fr]=l),C="("+this.gender_age_box.values[1]+")",C===n[ev]&&S||(n[tv]=n[Oi](n[ev]=C,384,n[tv]))):($=w=1,(n=s[K2])||($=w=0,s[K2]=n=k("div",null,`ei-am ${a}`,null)),$||(n[Fr]=l),v=nv,v===n[J2]&&$||(n[G2]=n[Oi](n[J2]=v,384,n[G2]))),s[iv]=l[Oi](n,0,s[iv]),s[YR](o),s}},Pf=If;(()=>{VR(If,"gender-age-box")})();j("gender-age-box",Pf,{cssns:"ei_af"});function os(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}function Iv(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}var sv=Symbol.for("#__init__"),ZR=Symbol.for("#__patch__"),ni=Symbol.for("##up"),hn=Symbol.for("#afterVisit"),tl=Symbol.for("#appendChild"),rs=Symbol.for("#placeChild"),Fv=Symbol.for("#beforeReconcile"),Lv=Symbol.for("#afterReconcile"),rv=Symbol(),ov=Symbol(),av=Symbol(),lv=Symbol(),cv=Symbol(),hv=Symbol(),uv=Symbol(),fv=Symbol(),dv=Symbol(),mv=Symbol(),pv=Symbol();var _v=Symbol(),gv=Symbol(),bv=Symbol(),yv=Symbol(),xv=Symbol(),$v=Symbol(),Sv=Symbol(),vv=Symbol(),wv=Symbol(),kv=Symbol(),Cv=Symbol(),Ev=Symbol(),Mv=Symbol(),Tv=Symbol(),Ov=Symbol(),Av=Symbol(),Rv=Symbol(),Dv=Symbol(),Pv=Symbol(),qR=["blue","red","emerald","warm"],XR={warm:!1},KR=["IC","Alle","F","M"],GR=["","F","M"],JR=["Alle","30-","30","40","50-","50","50+","60","70+"],QR=["","30-","30","40","50-","50","50+","60","70+"],Nv=At("warm5");function tD(i){function t(s,r){return r.val-s.val}function e(s,r){return s.name>r.name?1:-1}if(!Array.isArray(i)||i.length<2)return;let n=[];for(let s=0,r=os(QR),o=r.length;s<o;s++){let a=r[s],l=[];for(let c=0,h=os(GR),u=h.length;c<u;c++){let d=h[c]+a,m={values:[],title:{}};for(let p=0,g=os(i),y=g.length;p<y;p++){let x=g[p];x.last[d]&&x.last[d].observed?(m.title[x.text]=x.last[d].observed,m.values.push(x.last[d].observed)):(m.title[x.text]=0,m.values.push(0))}m.values[0]>m.values[1]?m.color=0:m.values[1]>m.values[0]?m.color=1:m.values[1]==0&&m.values[0]==0?m.color=3:m.color=2;let _;if(m.values[0]&&m.values[1]){let p=Math.trunc(100*Math.abs(m.values[0]-m.values[1])/m.values[1]);_=Math.min(5,Math.trunc(p/10))}else m.values[1]==0&&m.values[0]==0?_=1:_=5;m.colorix=_,l.push(m)}n.push(l)}return{result:n}}function eD(i,t){let e=i||"warm",n=t||0,s=!0;return typeof XR[e]<"u"&&(s=!1),s?n=n+4:n=5-n,At(e+n.toString())}function iD(i,t){var e,n=Ct(),s,r,o,a,l,c,h,u,f,d,m,_,p,g,y,x,b;return(()=>{s=r=1,(e=n[rv])||(s=r=0,e=n[rv]=e=k("tr",null,null,null)),s||(e[ni]=n._),s||(o=k("td",e,null,null)),l=c=1,(a=e[ov])||(l=c=0,e[ov]=a=H("gender-age-box",o,null,null)),h={title:"",color:Nv,text:JR[t],value:""},h===e[av]||(a.gender_age_box=e[av]=h),l||!a.setup||a.setup(c),a[hn](c),l||o[tl](a),(u=e[lv])||(e[lv]=u=pt(256,e)),f=0,d=u.$;for(let $=0,w=os(i),v=w.length;$<v;$++){let S=w[$];_=p=1,(m=d[f])||(_=p=0,d[f]=m=k("td",u,null,null)),_||(m[ni]=u),y=x=1,(g=m[cv])||(y=x=0,m[cv]=g=H("gender-age-box",m,null,null)),b={title:JSON.stringify(S.title,null,"	"),color:eD(qR[S.color],S.colorix),text:S.name||"",values:S.values},b===m[hv]||(g.gender_age_box=m[hv]=b),y||!g.setup||g.setup(x),g[hn](x),y||m[tl](g),f++}return u[hn](f),e})()}function nD(i){var t,e=Ct(),n,s,r,o,a,l,c,h,u;let f=0;return(()=>{n=s=1,(t=e[uv])||(n=s=0,t=e[uv]=t=k("tr",null,null,null)),n||(t[ni]=e._),(r=t[fv])||(t[fv]=r=pt(384,t)),o=0,a=r.$;for(let d=0,m=os(i),_=m.length;d<_;d++){let p=m[d];c=h=1,(l=a[o])||(c=h=0,a[o]=l=k("span",r,null,null)),c||(l[ni]=r),U.context=l[mv]||(l[mv]={_:l}),u=iD(p,f),U.context=null,u===l[pv]&&c||(l[dv]=l[rs](l[pv]=u,384,l[dv])),f+=1,o++}return r[hn](o),t})()}var Lf=class extends B{render(){var t,e,n,s,r,o,a=this._ns_||"",l,c,h,u,f,d,m;t=this,t[Fv](),e=n=1,t[_v]===1||(e=n=0,t[_v]=1),(s=t[gv])||(t[gv]=s=pt(384,t)),r=0,o=s.$;for(let _=0,p=os(KR),g=p.length;_<g;_++){let y=p[_];c=h=1,(l=o[r])||(c=h=0,o[r]=l=k("th",s,`${a}`,null)),c||(l[ni]=s),f=d=1,(u=l[bv])||(f=d=0,l[bv]=u=H("gender-age-box",l,`${a}`,null)),m={title:"",color:Nv,text:y},m===l[yv]||(u.gender_age_box=l[yv]=m),f||!u.setup||u.setup(d),u[hn](d),f||l[tl](u),r++}return s[hn](r),t[Lv](n),t}},Ff=Lf;(()=>{Iv(Lf,"gender-segment-header")})();j("gender-segment-header",Ff,{});var Nf=class extends B{[ZR](t={}){var e;(e=t.element)!==void 0&&(this.element=e),(e=t.instancedata)!==void 0&&(this.instancedata=e),(e=t.values)!==void 0&&(this.values=e),(e=t.reftxt)!==void 0&&(this.reftxt=e),(e=t.colhead)!==void 0&&(this.colhead=e),(e=t.view_props)!==void 0&&(this.view_props=e)}[sv](t=null,e=!0){var n;super[sv](...arguments),this.element=t&&(n=t.element)!==void 0?n:{},this.instancedata=t?t.instancedata:void 0,this.values=t?t.values:void 0,this.reftxt=t?t.reftxt:void 0,this.colhead=t&&(n=t.colhead)!==void 0?n:At("warm5"),this.view_props=t&&(n=t.view_props)!==void 0?n:{ratio:!1}}render(){var t,e,n,s,r,o,a=this._ns_||"",l,c,h,u,f,d,m,_,p,g,y,x,b,$,w;{s=this,s[Fv](),r=o=1,s[xv]===1||(r=o=0,s[xv]=1);let v=tD(this.element.metrics);return t=e=n=null,v?(h=u=1,(t=s[Sv])||(h=u=0,s[Sv]=t=k("span",null,`ds-aw ${a}`,null)),h||(t[ni]=s),f="Last timestamp: "+this.element.timestamp,f===t[wv]&&h||(t[vv]=t[rs](t[wv]=f,384,t[vv])),d=m=1,(e=s[kv])||(d=m=0,s[kv]=e=k("p",null,`${a}`,null)),d||(e[ni]=s),_=p=1,(n=s[Cv])||(_=p=0,s[Cv]=n=k("div",null,`${a}`,null)),_||(n[ni]=s),(g=n[Ev])||(n[Ev]=g=k("table",n,`${a}`,null)),_||(y=k("tr",g,`${a}`,null)),b=$=1,(x=n[Mv])||(b=$=0,n[Mv]=x=H("gender-segment-header",y,`${a}`,null)),b||!x.setup||x.setup($),x[hn]($),b||y[tl](x),U.context=n[Ov]||(n[Ov]={_:g}),w=nD(v.result),U.context=null,w===n[Av]&&_||(n[Tv]=g[rs](n[Av]=w,256,n[Tv]))):(l=c=1,(t=s[$v])||(l=c=0,s[$v]=t=k("div",null,`${a}`,"waiting")),l||(t[ni]=s)),s[Rv]=s[rs](t,0,s[Rv]),s[Dv]=s[rs](e,0,s[Dv]),s[Pv]=s[rs](n,0,s[Pv]),s[Lv](o),s}}},as=Nf;(()=>{Iv(Nf,"GenderSegmentArray")})();j("gender-segment-array-ds-bb",as,{cssns:"ds_at"});function zv(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}function sD(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}var Bv=Symbol.for("#__init__"),rD=Symbol.for("#__patch__"),oD=Symbol.for("#beforeReconcile"),el=Symbol.for("#afterVisit"),il=Symbol.for("#placeChild"),zf=Symbol.for("##up"),aD=Symbol.for("#getRenderContext"),lD=Symbol.for("#isRichElement"),cD=Symbol.for("#afterReconcile"),jv=Symbol(),Uv=Symbol(),Vv=Symbol(),Hv=Symbol(),Wv=Symbol(),Yv=Symbol(),Zv=Symbol(),qv=Symbol(),Xv=Symbol(),Kv=Symbol(),Gv=Symbol(),hD=Symbol(),uD=Symbol(),Jv=Symbol(),Qv=Symbol(),tw=Symbol(),ew=Symbol(),iw=Symbol(),nw={one_metric:Ln,multiple_metrics:In,pr_second_multiple:Nn,time_interval:ts,age_segment_intervals:is,ab_test:ns,gender_segment_array:as,content_test:ss},Bf=class extends B{[rD](t={}){var e;(e=t.dashboard)!==void 0&&(this.dashboard=e),(e=t.maxts)!==void 0&&(this.maxts=e)}[Bv](t=null,e=!0){var n;super[Bv](...arguments),this.dashboard=t?t.dashboard:void 0,this.maxts=t&&(n=t.maxts)!==void 0?n:""}render(){var t,e,n,s,r,o=this._ns_||"",a,l,c,h,u,f,d,m,_,p,g,y,x,b,$,w,v,S,E,C,M,O,D,I;if(n=this,n[oD](),s=r=1,n[jv]===1||(s=r=0,n[jv]=1),!this.dashboard.hidden){s||(a=k("div",n,`insight_board ${o}`,null)),(l=n[Uv])||(n[Uv]=l=k("div",a,`df-ai ${o}`,null)),this.maxts="",(c=n[Vv])||(n[Vv]=c=oo(1152,l)),h=0,u=c.$;for(let A=0,P=zv(this.dashboard.elements),L=P.length;A<L;A++){let z=P[A];z.timestamp>this.maxts&&(this.maxts=z.timestamp)}c[el](h),(f=n[Hv])||(n[Hv]=f=k("a",l,`df-aj ${o}`,null)),U.context=n[Yv]||(n[Yv]={_:f}),d=fi(this.dashboard.text,this.dashboard.instancedata),U.context=null,d===n[Zv]&&s||(n[Wv]=f[il](n[Zv]=d,384,n[Wv])),s||(m=k("div",l,`df-ak span ${o}`,null)),(_=n[qv])||(n[qv]=_=k("a",m,`df-al ${o}`,null)),p=this.maxts,p===n[Kv]&&s||(n[Xv]=_[il](n[Kv]=p,384,n[Xv])),s||(g=k("br",l,`${o}`,null)),s||(y=k("p",l,`${o}`,null)),(x=n[Gv])||(n[Gv]=x=pt(256,l)),b=0,$=x.$;for(let A=0,P=zv(this.dashboard.elements),L=P.length;A<L;A++){let z=P[A];v=S=1,(w=$[b])||(v=S=0,$[b]=w=k("div",x,`df-ao ${o}`,null)),v||(w[zf]=x),t=e=null,z.type&&nw[z.type]&&(E=w[aD](uD),C=M=1,(t=E.run(nw[z.type]))||(C=M=0,E.cache(t=ai(E.value,null,`${o}`,null))),C||(t[zf]=w),t[lD]&&(z===t[Jv]||(t.element=t[Jv]=z),O=this.dashboard.instancedata,O===t[Qv]||(t.instancedata=t[Qv]=O),(!C||M&2)&&t.flags.reconcile(hD,`${o}`),C||!t.setup||t.setup(M),t[el](M)),D=I=1,(e=w[tw])||(D=I=0,w[tw]=e=k("p",null,`${o}`,null)),D||(e[zf]=w)),w[ew]=w[il](t,0,w[ew]),w[iw]=w[il](e,0,w[iw]),v||!w.setup||w.setup(S),w[el](S),b++}return x[el](b),n[cD](r),n}}},ls=Bf;(()=>{sD(Bf,"InsightBoard")})();j("insight-board-df-aq",ls,{cssns:"df_af"});function fD(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}function dD(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}var mD=Symbol.for("#beforeReconcile"),sw=Symbol.for("#getRenderContext"),jf=Symbol.for("##up"),pD=Symbol.for("#isRichElement"),Uf=Symbol.for("#afterVisit"),rw=Symbol.for("#placeChild"),_D=Symbol.for("#afterReconcile"),ow=Symbol(),aw=Symbol(),gD=Symbol(),lw=Symbol(),bD=Symbol(),yD=Symbol(),cw=Symbol(),hw=Symbol(),uw=Symbol(),fw={insight_board:ls},Hf=class extends B{render(){var t,e,n,s,r,o,a,l,c=this._ns_||"",h,u,f,d,m,_,p,g,y;n=this,n[mD](),s=r=1,n[ow]===1||(s=r=0,n[ow]=1),(o=n[aw])||(n[aw]=o=oo(1408,n)),a=0,l=o.$;for(let x=0,b=fD(R.dashboards),$=b.length;x<$;x++){let w=b[x];w.instancedata.hidden||(u=d=1,(h=(f=l[sw](gD)).get(a))||(u=d=0,f.set(a,h=k("div",o,`cz-ag ${c}`,null))),u||(h[jf]=o),t=e=null,w.dashboard_type&&fw[w.dashboard_type]&&(m=_=1,(t=h[lw])||(m=_=0,h[lw]=t=k("div",null,`cz-ah ${c}`,null)),m||(t[jf]=h),p=h[sw](yD),g=y=1,(e=p.run(fw[w.dashboard_type]))||(g=y=0,p.cache(e=ai(p.value,null,`${c}`,null))),g||(e[jf]=h),e[pD]&&(w===e[cw]||(e.dashboard=e[cw]=w),(!g||y&2)&&e.flags.reconcile(bD,`${c}`),g||!e.setup||e.setup(y),e[Uf](y))),h[hw]=h[rw](t,0,h[hw]),h[uw]=h[rw](e,0,h[uw]),u||!h.setup||h.setup(d),h[Uf](d),o.push(h,a++,f))}return o[Uf](a),n[_D](r),n}},Vf=Hf;(()=>{dD(Hf,"dashboards")})();j("dashboards",Vf,{});function Yw(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}function xD(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}Nt(),Tt(),be(),po();var sl=Symbol.for("#__init__"),Zw=Symbol.for("#__patch__"),qw=Symbol.for("#beforeReconcile"),un=Symbol.for("#placeChild"),nl=Symbol.for("##up"),Lr=Symbol.for("#afterVisit"),Xw=Symbol.for("#afterReconcile"),$D=Symbol.for("#appendChild"),dw=Symbol(),mw=Symbol(),pw=Symbol(),_w=Symbol(),gw=Symbol(),bw=Symbol(),yw=Symbol(),xw=Symbol(),$w=Symbol(),Sw=Symbol(),vw=Symbol(),ww=Symbol(),kw=Symbol(),Cw=Symbol(),Ew=Symbol(),Mw=Symbol(),Tw=Symbol(),Ow=Symbol(),Aw=Symbol(),Rw=Symbol(),Dw=Symbol(),Pw=Symbol(),Iw=Symbol(),Fw=Symbol(),Lw=Symbol(),Nw=Symbol(),zw=Symbol(),Bw=Symbol(),jw=Symbol(),Uw=Symbol(),Vw=Symbol(),Hw=Symbol(),Ww=Symbol(),Zf=class extends B{[Zw](t={}){var e;(e=t.item)!==void 0&&(this.item=e),(e=t.text)!==void 0&&(this.text=e),(e=t.level)!==void 0&&(this.level=e)}[sl](t=null,e=!0){var n;super[sl](...arguments),this.item=t?t.item:void 0,this.text=t?t.text:void 0,this.level=t&&(n=t.level)!==void 0?n:0}flip_collapsed(t){function e(){return t.flip?E_(t.flip):t.collapsed=!t.collapsed}return e}render(){var t=this,e,n,s,r,o,a,l=this._ns_||"",c,h,u,f,d,m,_,p,g,y,x,b,$,w,v,S,E,C,M,O,D,I,A,P,L,z,N,W,ot,J,X;let et=this.item.collapsed?"arrow_circle_down":"arrow_circle_up",at=this.flip_collapsed(this.item);if(r=this,r[qw](),o=a=1,r[dw]===1||(o=a=0,r[dw]=1),h=u=1,(c=r[mw])||(h=u=0,r[mw]=c=k("a",r,`cx-ah item ${l}`,null)),f=r[pw]||(r[pw]={$_:[function(Y,ht,nt){return nt(Y)},null]}),f.$_[1]=at,h||c.on$("click",f,this),m=_=1,(d=r[_w])||(m=_=0,r[_w]=d=k("span",c,`cx-ai jleft ${l}`,null)),p=this.level*2,p===r[gw]||d.css$var("--cx_aj",r[gw]=p,null,"ml"),p=this.text,p===r[yw]&&m||(r[bw]=d[un](r[yw]=p,384,r[bw])),y=x=1,(g=r[xw])||(y=x=0,r[xw]=g=k("span",c,`cx-ak jright ${l}`,null)),y||(g.className="material-icons"),b=et,b===r[Sw]&&y||(r[$w]=g[un](r[Sw]=b,384,r[$w])),e=n=null,this.item.type&&!this.item.collapsed&&typeof this.item.collapsed<"u"&&(this.typevalues=this.item.type.get_menu_item(),this.item.collapsed=!0,U.context=r[vw]||(r[vw]={_:r}),e=console.log("ttttt",this.typevalues),U.context=null,$=w=1,(n=r[ww])||($=w=0,r[ww]=n=k("a",null,`cx-al item ${l}`,null)),$||(n[nl]=r),$||n.on$("click",{$_:[function(Y,ht){return t.typevalues.click(Y)}]},this),S=E=1,(v=n[kw])||(S=E=0,n[kw]=v=k("span",n,`cx-am jleft ${l}`,null)),C=(this.level+1)*2,C===n[Cw]||v.css$var("--cx_an",n[Cw]=C,null,"ml"),C=this.typevalues.text,C===n[Mw]&&S||(n[Ew]=v[un](n[Mw]=C,384,n[Ew])),O=D=1,(M=n[Tw])||(O=D=0,n[Tw]=M=k("span",n,`cx-ao jright ${l}`,null)),O||(M.className="material-icons"),I=this.typevalues.icon,I===n[Aw]&&O||(n[Ow]=M[un](n[Aw]=I,384,n[Ow]))),r[Rw]=r[un](e,0,r[Rw]),r[Dw]=r[un](n,0,r[Dw]),s=null,this.item.menu_items&&!this.item.collapsed){A=P=1,(s=r[Pw])||(A=P=0,r[Pw]=s=k("div",null,`${l}`,null)),A||(s[nl]=r),(L=s[Iw])||(s[Iw]=L=pt(384,s)),z=0,N=L.$;for(let Y=this.item.menu_items,ht=0,nt=Object.keys(Y),lt=nt.length,$t,St;ht<lt;ht++)$t=nt[ht],St=Y[$t],ot=J=1,(W=N[z])||(ot=J=0,N[z]=W=H("ic-menu-item",L,`${l}`,null)),ot||(W[nl]=L),St===W[Fw]||(W.item=W[Fw]=St),$t===W[Lw]||(W.text=W[Lw]=$t),X=this.level+1,X===W[Nw]||(W.level=W[Nw]=X),ot||!W.setup||W.setup(J),W[Lr](J),z++;L[Lr](z)}return r[zw]=r[un](s,0,r[zw]),r[Xw](a),r}},Wf=Zf;(()=>{Yw(Zf,"ic-menu-item")})();j("ic-menu-item",Wf,{cssns:"cx_af"});var qf=class extends B{[Zw](t={}){var e;(e=t.items)!==void 0&&(this.items=e)}[sl](t=null,e=!0){super[sl](...arguments),this.items=t?t.items:void 0}render(){var t,e,n,s=this._ns_||"",r,o,a,l,c,h,u,f,d,m,_;let p=Object.keys(this.items);t=this,t[qw](),e=n=1,t[Bw]===1||(e=n=0,t[Bw]=1),o=a=1,(r=t[jw])||(o=a=0,t[jw]=r=H("i-global",t,`${s}`,null)),o||r.on$("click",{outside:!0,$_:[function(g,y){return Ks()}]},this),o||!r.setup||r.setup(a),r[Lr](a),o||t[$D](r),(l=t[Uw])||(t[Uw]=l=k("div",t,`menu ${s}`,null)),(c=t[Vw])||(t[Vw]=c=pt(384,l)),h=0,u=c.$;for(let g=0,y=xD(p),x=y.length;g<x;g++){let b=y[g];d=m=1,(f=u[h])||(d=m=0,u[h]=f=H("ic-menu-item",c,`${s}`,null)),d||(f[nl]=c),b===f[Hw]||(f.text=f[Hw]=b),_=this.items[b],_===f[Ww]||(f.item=f[Ww]=_),d||!f.setup||f.setup(m),f[Lr](m),h++}return c[Lr](h),t[Xw](n),t}},Yf=qf;(()=>{Yw(qf,"ic-menu")})();j("ic-menu",Yf,{cssns:"cx_ar"});function SD(i,t){Object.defineProperty(i,"name",{value:t,configurable:!0})}po(),yn();var vD=Symbol.for("#beforeReconcile"),wD=Symbol.for("#getSlot"),zr=Symbol.for("#afterVisit"),Kw=Symbol.for("#appendChild"),hs=Symbol.for("##up"),cs=Symbol.for("#placeChild"),kD=Symbol.for("#afterReconcile"),Gw=Symbol(),Jw=Symbol(),Qw=Symbol(),tk=Symbol(),ek=Symbol(),ik=Symbol(),nk=Symbol(),sk=Symbol(),rk=Symbol(),ok=Symbol(),ak=Symbol(),lk=Symbol(),ck=Symbol(),hk=Symbol(),uk=Symbol(),fk=Symbol(),dk=Symbol(),mk=Symbol(),pk=Symbol(),_k=Symbol(),gk=Symbol(),bk=Symbol(),Ai,Nr=Ct(),yk=Symbol(),rl,ol;Ic();console.log("state:",R);var Kf=class extends B{render(){var t,e,n,s,r,o,a,l=this._ns_||"",c,h,u,f,d,m,_,p,g,y,x,b,$,w,v,S,E,C,M,O,D,I,A,P,L,z,N;return r=this,r[vD](),o=a=1,r[Gw]===1||(o=a=0,r[Gw]=1),h=u=1,(c=r[Jw])||(h=u=0,r[Jw]=c=H("i-global",r,`${l}`,null)),f=c[wD]("__",r),h||(d=k("div",f,`ic-header ${l}`,null)),_=p=1,(m=r[Qw])||(_=p=0,r[Qw]=m=H("ic-header",d,`cu-aj ${l}`,null)),_||!m.setup||m.setup(p),m[zr](p),_||d[Kw](m),t=null,R.signedIn?(g=y=1,(t=r[tk])||(g=y=0,r[tk]=t=H("dashboards",null,`${l}`,null)),g||(t[hs]=f),g||!t.setup||t.setup(y),t[zr](y)):(x=b=1,(t=r[ek])||(x=b=0,r[ek]=t=k("a",null,`${l}`,"not logged in")),x||(t[hs]=f)),r[ik]=f[cs](t,0,r[ik]),e=n=null,R.photo&&($=w=1,(e=r[nk])||($=w=0,r[nk]=e=k("div",null,`cu-am ${l}`,null)),$||(e[hs]=f),S=E=1,(v=e[sk])||(S=E=0,e[sk]=v=k("img",e,`rotate ${l}`,null)),S||(v.width=450),S||(v.height=600),C="data:image/jpg;base64,"+R.photo,C===e[rk]||(v.src=e[rk]=C),M=O=1,(n=r[ok])||(M=O=0,r[ok]=n=k("div",null,`${l}`,null)),M||(n[hs]=f),(D=n[ak])||(n[ak]=D=k("p",n,`${l}`,null)),I=R.photo_id,I===n[ck]&&M||(n[lk]=D[cs](n[ck]=I,384,n[lk])),(A=n[hk])||(n[hk]=A=k("p",n,`${l}`,null)),U.context=n[fk]||(n[fk]={_:A}),P=JSON.stringify(R.status),U.context=null,P===n[dk]&&M||(n[uk]=A[cs](n[dk]=P,384,n[uk]))),r[mk]=f[cs](e,0,r[mk]),r[pk]=f[cs](n,0,r[pk]),s=null,R.menuOpenΦ&&(L=z=1,(s=r[_k])||(L=z=0,r[_k]=s=H("ic-menu",null,`${l}`,null)),L||(s[hs]=f),N=R.menu.menu_items,N===s[gk]||(s.items=s[gk]=N),L||!s.setup||s.setup(z),s[zr](z)),r[bk]=f[cs](s,0,r[bk]),h||!c.setup||c.setup(u),c[zr](u),h||r[Kw](c),r[kD](a),r}},Xf=Kf;(()=>{SD(Kf,"app")})();j("app",Xf,{cssns:"cu_af"});lc((rl=ol=1,(Ai=Nr[yk])||(rl=ol=0,Ai=Nr[yk]=Ai=H("app",null,null,null)),rl||(Ai[hs]=Nr._),rl||Nr.sym||!Ai.setup||Ai.setup(ol),Nr.sym||Ai[zr](ol),Ai));
//__FOOT__
